(function(){"use strict";var t={866:function(t,e,s){s.a(t,(async function(t,e){try{var a=s(9242),i=(s(6744),s(2594)),n=s(889),l=s(5269),o=s.n(l),r=s(65),c=s(3003);const t=JSON.parse(sessionStorage.getItem("user"))?.user||{};var d;if(Object.keys(t).length>0){const e=await c.Z.getByUserId(t._id);d=e.data?.products||[]}const h=(0,r.MT)({state:{cart:Object.keys(t).length>0?d:o().isKey("cart")?o().get("cart"):[],inforuser:JSON.parse(sessionStorage.getItem("user"))?JSON.parse(sessionStorage.getItem("user")).user:{}},mutations:{addToCart(t,e){t.cart=o().isKey("cart")?o().get("cart"):[],e?.length>0&&(t.cart=e)},changeInfo(t,e){t.inforuser=e}},getters:{cartItemCount:t=>t.cart.length||0,inforuser:t=>t.inforuser||{}}}),p=(0,a.ri)(i.Z);p.use(o(),{expires:"7d"}),p.use(n.Z),p.use(h),p.mount("#app"),e()}catch(h){e(h)}}),1)},889:function(t,e,s){s.d(e,{Z:function(){return wnt}});var a=s(2483),i=s(3396),n=s(7139);const l={class:"container"},o={class:"banner"},r=["src"],c=(0,i._)("i",{class:"fa-solid fa-chevron-left"},null,-1),d=[c],h=(0,i._)("i",{class:"fa-solid fa-chevron-right"},null,-1),p=[h],u={class:"banner-list-icon"},m=["onClick"],g={class:"content"},y={class:"home-new-product"},f=(0,i.uE)('<div class="home-title row"><h3 class="col-8">Sản phẩm mới nhất</h3><div class="home-see-more col"><a href="">Xem thêm <i class="fa-solid fa-angles-right"></i></a></div></div>',1),v={class:"row flex-nowrap mt-5"},_={class:"home-new-product"},w=(0,i.uE)('<div class="home-title row"><h3 class="col-8">Sản phẩm bán chạy nhất</h3><div class="home-see-more col"><a href="">Xem thêm <i class="fa-solid fa-angles-right"></i></a></div></div>',1),b={class:"row flex-nowrap mt-5"},k={class:"home-new-product mt-4"},C=(0,i.uE)('<div class="home-title row"><h3 class="col-8">tin tức</h3><div class="home-see-more col"><a href="">Xem thêm <i class="fa-solid fa-angles-right"></i></a></div></div>',1),x={class:"news row flex-nowrap mt-5"},S={class:"row flex-nowrap mt-5"};function D(t,e,s,a,c,h){const D=(0,i.up)("productCard"),T=(0,i.up)("newsCard");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i._)("div",o,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.linkImgs,((t,e)=>((0,i.wg)(),(0,i.iD)("img",{key:e,src:t,alt:"",class:(0,n.C_)(["banner-img",{activeImg:e===c.currentIndex}])},null,10,r)))),128)),(0,i._)("span",{class:"banner-pag previous-img",onClick:e[0]||(e[0]=(...t)=>h.previousBanner&&h.previousBanner(...t))},d),(0,i._)("span",{class:"banner-pag next-img",onClick:e[1]||(e[1]=(...t)=>h.nextBanner&&h.nextBanner(...t))},p),(0,i._)("div",u,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.linkImgs,((t,e)=>((0,i.wg)(),(0,i.iD)("span",{onClick:t=>c.currentIndex=e,key:t,class:(0,n.C_)({"active-banner":e===c.currentIndex})},null,10,m)))),128))])]),(0,i._)("div",g,[(0,i._)("div",y,[f,(0,i._)("div",v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.productsNew,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-sm-6 col-6 col-lg-3 col-md-4 mt-3",key:t._id},[(0,i.Wm)(D,{product:t},null,8,["product"])])))),128))])]),(0,i._)("div",_,[w,(0,i._)("div",b,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.productsBestSeller,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-sm-6 col-6 col-lg-3 col-md-4",key:t._id},[(0,i.Wm)(D,{product:t},null,8,["product"])])))),128))])]),(0,i._)("div",k,[C,(0,i._)("div",x,[(0,i._)("div",S,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(c.news,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-sm-6 col-6 col-lg-3 col-md-4",key:t._id},[(0,i.Wm)(T,{news:t},null,8,["news"])])))),128))])])])])])}var T=s(7642);class P{constructor(t="http://localhost:3000/product",e={"Content-Type":"multipart/form-data"}){this.api=(0,T.Z)(t,e)}async create(t){return this.api.post("/create",t)}async getProducts(t,e){return t&&e?this.api.get(`/?pageNumber=${t}&pageSize=${e}`):this.api.get("/")}async getProductsCustomer(t,e,s,a){return this.api.get(`/?pageNumber=${t}&pageSize=${e}&type=${s}&field=${a}`)}async getProductById(t){return await this.api.get(`/get-id/?id=${t}`)}async update(t,e){return await this.api.post(`/update/?id=${t}`,e)}async getProductDetail(t){return(await this.api.get(`/product-detail/?id=${t}`)).data}async filterProduct(t,e,s,a){return await this.api.get(`/filter/?type=${t}&field=${e}&pageNumber=${s}&pageSize=${a}`)}async search(t,e,s){const a=void 0,i="http://localhost:3000/product";this.api=(0,T.Z)(i,a);const n={searchValue:t};return e&&s?this.api.post(`/search/?pageNumber=${e}&pageSize=${s}`,n):this.api.post("/search",n)}async exportExcel(t){const e=void 0,s="http://localhost:3000/product";return this.api=(0,T.Z)(s,e),await this.api.post("/export-excel",t,{responseType:"blob"})}async exportPDF(t,e){const s=void 0,a="http://localhost:3000/product";return this.api=(0,T.Z)(a,s),await this.api.post(`/export-pdf/?pageDirection=${e}`,t,{responseType:"blob"})}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}async getProductsByBrandId(t,e,s){return e&&s?this.api.get(`/get-brand-id/?brandId=${t}&pageNumber=${e}&pageSize=${s}`):await this.api.get(`/get-brand-id/?brandId=${t}`)}async findCondition(t){const e=void 0,s="http://localhost:3000/product";return this.api=(0,T.Z)(s,e),this.api.post("/condition",t)}}var I=new P,A=s(9242);const U=t=>((0,i.dD)("data-v-7a34daf1"),t=t(),(0,i.Cn)(),t),q={key:0,class:"alert alert-success position-alert",role:"alert"},N={class:"product-card"},z={key:0,class:"overlay-disable"},F=U((()=>(0,i._)("div",{class:"product-sale"},[(0,i._)("span",null,"30%"),(0,i._)("span",null,"Giảm")],-1))),O={key:1,class:"product-quantity"},M=U((()=>(0,i._)("span",{class:"d-block"},"Hết hàng",-1))),V=[M],E={class:"product-overlay"},$=U((()=>(0,i._)("span",null,"Xem chi tiết",-1))),B=U((()=>(0,i._)("span",null,"Xem chi tiết",-1))),R=["data-bs-target"],H={key:3,class:"product-btn"},Y=["src"],K={class:"info-product"},L={class:"product-name"},Z={class:"product-price"},j={key:0,class:""},Q=U((()=>(0,i._)("b",null,"Giá thuê",-1))),G={class:""},W=U((()=>(0,i._)("b",null,"Giá bán",-1))),J={class:"product-quanlity"},X=U((()=>(0,i._)("b",null,"Đã bán",-1))),tt=["id"],et={class:"modal-dialog"},st={class:"modal-content"},at=U((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("h5",{class:"modal-title text-uppercase text-warning fw-600",id:"staticBackdropLabel"},"Thêm sản phẩm vào giỏ hàng"),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),it={class:"modal-body text-start fw-500"},nt={class:"text-start text-info fs-5 text-capitalize"},lt={class:"add-cart-quantity"},ot=U((()=>(0,i._)("label",{for:""},"Số lượng",-1))),rt={key:0,class:"text-danger"},ct={class:"modal-footer"},dt=U((()=>(0,i._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Hủy bỏ",-1))),ht=["disabled"];function pt(t,e,s,a,l,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.added?((0,i.wg)(),(0,i.iD)("div",q," Thêm sản phẩm thành công ")):(0,i.kq)("",!0),(0,i._)("div",N,[0===s.product.inputQuantity?((0,i.wg)(),(0,i.iD)("div",z)):(0,i.kq)("",!0),F,0==s.product.inputQuantity?((0,i.wg)(),(0,i.iD)("div",O,V)):(0,i.kq)("",!0),(0,i._)("div",E,["product"==s.product?.typeProduct?((0,i.wg)(),(0,i.j4)(r,{key:0,to:{name:"product.detail",params:{id:s.product._id},query:{typeProduct:"product"}},class:"product-see-detail"},{default:(0,i.w5)((()=>[$])),_:1},8,["to"])):(0,i.kq)("",!0),"accessory"==s.product?.typeProduct?((0,i.wg)(),(0,i.j4)(r,{key:1,to:{name:"product.detail",params:{id:s.product._id},query:{typeProduct:"accessory"}},class:"product-see-detail"},{default:(0,i.w5)((()=>[B])),_:1},8,["to"])):(0,i.kq)("",!0),0!==s.product.inputQuantity?((0,i.wg)(),(0,i.iD)("button",{key:2,class:"product-btn","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"+s.product._id},"Thêm vào giỏ hàng",8,R)):((0,i.wg)(),(0,i.iD)("button",H,"Sản phẩm đã hết"))]),(0,i._)("img",{src:"http://localhost:3000/"+s.product.image,alt:""},null,8,Y),(0,i._)("div",K,[(0,i._)("span",L,(0,n.zw)(s.product.name),1),(0,i._)("div",Z,[(0,i._)("div",null,[s.product.priceRental?((0,i.wg)(),(0,i.iD)("span",j,[Q,(0,i.Uk)(": "+(0,n.zw)(o.formatCurency(s.product.priceRental)),1)])):(0,i.kq)("",!0),(0,i._)("span",G,[W,(0,i.Uk)(": "+(0,n.zw)(o.formatCurency(s.product.priceSale)),1)])]),(0,i._)("div",null,[(0,i._)("span",J,[X,(0,i.Uk)(": "+(0,n.zw)(s.product.soldQuantity),1)])])])]),s.product?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"modal fade",id:"staticBackdrop"+s.product._id},[(0,i._)("div",et,[(0,i._)("div",st,[at,(0,i._)("div",it,[(0,i._)("span",nt,"Thêm sản phẩm: "+(0,n.zw)(s.product.name),1),(0,i._)("div",lt,[ot,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.inputQuantity=t),type:"number",name:"",id:"",placeholder:"Nhập số lượng sản phẩm",onInput:e[1]||(e[1]=t=>o.checkInputQuantity(s.product,l.inputQuantity))},null,544),[[A.nr,l.inputQuantity]]),l.isValid?((0,i.wg)(),(0,i.iD)("span",rt,(0,n.zw)(l.isValid),1)):(0,i.kq)("",!0)])]),(0,i._)("div",ct,[dt,(0,i._)("button",{type:"button",disabled:!!l.isValid,class:"btn btn-success",onClick:e[2]||(e[2]=t=>o.addproductToCart(s.product._id,l.inputQuantity)),"data-bs-dismiss":"modal"},"Thêm",8,ht)])])])],8,tt)):(0,i.kq)("",!0)])],64)}class ut{formatCurrency(t){return new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(t)}formatDateNoTime(t){const e=new Date(t),s=new Date(e.toISOString("en-US",{timeZone:"UTC",setZone:"Asia/Ho_Chi_Minh"}));return new Intl.DateTimeFormat("default",{dateStyle:"medium"}).format(s)}formatDate(t,e={dateStyle:"medium",timeStyle:"short"}){const s=new Date(t);return new Intl.DateTimeFormat("default",e).format(s)}formatHour(t){const e=new Date(t),s=e.getHours(),a=e.getMinutes(),i=s+":"+(a<10?"0":"")+a;return i}}var mt=new ut,gt=s(3003),yt={data(){return{isValid:"",inputQuantity:1,added:!1,total:0}},props:{product:{}},methods:{formatCurency(t){return mt.formatCurrency(t)},async addproductToCart(t,e){const s=this.checkInputQuantity(this.product,e),a=JSON.parse(sessionStorage.getItem("user"))?.user||{},i={id:t,quantityCart:e,typeProduct:this.product.fits?"accessory":"product"};if(s)if(Object.keys(a).length<=0){const t=[];if(this.$cookies.isKey("cart")){let t=this.$cookies.get("cart");const e=this.isProductInCart(i,t);-1===e?(t.unshift(i),this.$cookies.set("cart",JSON.stringify(t)),this.$store.commit("addToCart")):(t[e].quantityCart+=i.quantityCart,this.$cookies.set("cart",JSON.stringify(t)),this.$store.commit("addToCart"))}else t.unshift(i),this.$cookies.set("cart",JSON.stringify(t)),this.$store.commit("addToCart");this.added=!0,setTimeout((()=>{this.added=!1}),1500)}else try{const t={userId:a._id,product:i},e=await gt.Z.create(t);e.data.status&&(this.$store.commit("addToCart",e.data.result.products),this.added=!0,setTimeout((()=>{this.added=!1}),1500))}catch(n){console.log(n)}},isProductInCart(t,e){let s=-1;for(let a=0;a<e.length;a++)if(e[a].id==t.id){s=a;break}return s},checkInputQuantity(t,e){return this.isValid="",e<=0||""==e?this.isValid="Số lượng không hợp lệ":e>t.inputQuantity?this.isValid="Số lượng trong kho không đủ":this.isValid="",""==this.isValid}}},ft=s(89);const vt=(0,ft.Z)(yt,[["render",pt],["__scopeId","data-v-7a34daf1"]]);var _t=vt;const wt=(0,i._)("div",{class:"overlay-news"},null,-1),bt=["src"],kt={class:"news-info"},Ct=(0,i._)("i",{class:"fa-regular fa-calendar"},null,-1);function xt(t,e,s,a,l,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.j4)(r,{to:{name:"news.detail",params:{id:s.news._id}},class:"news-card"},{default:(0,i.w5)((()=>[wt,(0,i._)("img",{src:"http://localhost:3000/"+s.news.image,alt:""},null,8,bt),(0,i._)("div",kt,[(0,i._)("h5",null,(0,n.zw)(s.news.title),1),(0,i._)("span",null,[Ct,(0,i.Uk)(" "+(0,n.zw)(s.news.createdAt),1)]),(0,i._)("p",null,(0,n.zw)(s.news.content),1)])])),_:1},8,["to"])}var St={props:["news"]};const Dt=(0,ft.Z)(St,[["render",xt]]);var Tt=Dt;class Pt{constructor(t="http://localhost:3000/news",e={"Content-Type":"multipart/form-data"}){this.api=(0,T.Z)(t,e)}async create(t){return this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async getById(t){return await this.api.get(`/find/?id=${t}`)}async update(t,e){return await this.api.post(`/update/?id=${t}`,e)}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}async delete(t){return await this.api.get(`/delete/?id=${t}`)}}var It=new Pt,At={components:{productCard:_t,newsCard:Tt},data(){return{linkImgs:["https://giavan.com.vn/wp-content/uploads/2019/01/banner-toshiba-gia-van.jpg","https://mayphototantien.com/wp-content/uploads/2021/06/DICH-VU-THUE-MAY-PTCP-TT-1400x569.jpg","https://mayphototantien.com/wp-content/uploads/2021/06/may-photocopy-ricoh-mp-4055-ha-noi-900x900-5-1400x569.jpg"],currentIndex:0,productsNew:[],productsBestSeller:[],news:[],pageNumber:1,pageSize:4}},methods:{startSlideshow(){this.slideshowInterval=setInterval((()=>{this.nextBanner()}),3e3)},nextBanner(){this.currentIndex>=this.linkImgs.length-1?this.currentIndex=0:this.currentIndex+=1},previousBanner(){this.currentIndex<=0?this.currentIndex=this.linkImgs.length-1:this.currentIndex-=1},async getProductsNew(){try{const t=await I.filterProduct(-1,"createdAt",1,4);this.productsNew=[...t.data],this.productsNew.forEach((t=>t.typeProduct="product"))}catch(t){console.log(t)}},async getProductsBestSeller(){try{const t={pageNumber:this.pageNumber,pageSize:this.pageSize,sort:{soldQuantity:-1}},e=await I.findCondition(t);this.productsBestSeller=[...e.data],this.productsBestSeller.forEach((t=>t.typeProduct="product"))}catch(t){console.log(t)}},async getAllNews(){try{const t=await It.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await It.getAll(this.pageNumber,this.pageSize);this.news=[...e.data],this.news.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)}))}catch(t){console.log(t)}}},mounted(){this.getProductsNew(),this.getProductsBestSeller(),this.getAllNews()},created(){this.startSlideshow()}};const Ut=(0,ft.Z)(At,[["render",D]]);var qt=Ut;const Nt=t=>((0,i.dD)("data-v-a71937ac"),t=t(),(0,i.Cn)(),t),zt={class:"background-form"},Ft={class:"form-head"},Ot=Nt((()=>(0,i._)("h2",{class:"title"},"Đăng ký",-1))),Mt=Nt((()=>(0,i._)("span",{class:"description"},"Đăng ký tài khoản tại đây",-1))),Vt={key:0,class:"mes-success"},Et={key:1,class:"mes-failed"},$t={class:"form-group"},Bt={key:0,class:"err-pass"},Rt={key:1,class:"err-pass"},Ht={key:2,class:"err-pass"},Yt={key:3,class:"err-pass"},Kt={key:4,class:"err-pass"},Lt=Nt((()=>(0,i._)("button",{type:"submit",class:"form-submit"},"Đăng ký",-1))),Zt={class:"change"};function jt(t,e,s,a,l,o){const r=(0,i.up)("RouterLink");return(0,i.wg)(),(0,i.iD)("div",zt,[(0,i._)("form",{action:"",class:"form",onSubmit:e[5]||(e[5]=(0,A.iM)(((...t)=>o.register&&o.register(...t)),["prevent","stop"]))},[(0,i._)("div",Ft,[Ot,Mt,l.messageSuccess?((0,i.wg)(),(0,i.iD)("span",Vt,(0,n.zw)(l.messageSuccess),1)):(0,i.kq)("",!0),l.messageFailure?((0,i.wg)(),(0,i.iD)("span",Et,(0,n.zw)(l.messageFailure),1)):(0,i.kq)("",!0)]),(0,i._)("div",$t,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>l.inforUser.fullName=t),ref:"inputRef",name:"fullName",class:"form-fullname",placeholder:"Họ và tên"},null,512),[[A.nr,l.inforUser.fullName]]),l.valid.fullname?((0,i.wg)(),(0,i.iD)("span",Bt,(0,n.zw)(l.valid.fullname),1)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=t=>l.inforUser.email=t),class:"form-emai",name:"email",placeholder:"Email của bạn"},null,512),[[A.nr,l.inforUser.email]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",Rt,(0,n.zw)(l.valid.email),1)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.inforUser.phoneNumber=t),class:"form-phone-number",name:"phoneNumber",placeholder:"Số điện thoại"},null,512),[[A.nr,l.inforUser.phoneNumber]]),l.valid.phoneNumber?((0,i.wg)(),(0,i.iD)("span",Ht,(0,n.zw)(l.valid.phoneNumber),1)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=t=>l.inforUser.password=t),class:"form-pass",name:"password",placeholder:"Mật khẩu"},null,512),[[A.nr,l.inforUser.password]]),l.valid.passWord?((0,i.wg)(),(0,i.iD)("span",Yt,(0,n.zw)(l.valid.passWord),1)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":e[4]||(e[4]=t=>l.inforUser.confirmPass=t),class:"form-pass-confirm",placeholder:"Nhập lại mật khẩu"},null,512),[[A.nr,l.inforUser.confirmPass]]),l.valid.confirmPass?((0,i.wg)(),(0,i.iD)("span",Kt,(0,n.zw)(l.valid.confirmPass),1)):(0,i.kq)("",!0)]),Lt,(0,i._)("div",Zt,[(0,i.Uk)(" Đăng nhập tại "),(0,i.Wm)(r,{to:"/login",class:"change-link"},{default:(0,i.w5)((()=>[(0,i.Uk)("Đăng nhập")])),_:1})])],32)])}class Qt{constructor(t="http://localhost:3000/user",e={"Content-Type":"multipart/form-data"}){this.api=(0,T.Z)(t,e)}async register(t){const e=void 0,s="http://localhost:3000/user";return this.api=(0,T.Z)(s,e),await this.api.post("/register",t)}async login(t){const e=void 0,s="http://localhost:3000/user";return this.api=(0,T.Z)(s,e),await this.api.post("/login",t)}async logout(){return await this.api.get("/logout")}async getInfo(){return await this.api.get("/info-user")}async forget(t){const e=void 0,s="http://localhost:3000/user";return this.api=(0,T.Z)(s,e),await this.api.post("/forget",t)}async confirm(t){const e=void 0,s="http://localhost:3000/user";return this.api=(0,T.Z)(s,e),await this.api.post("/confirm-pass",t)}async reset(t){const e=void 0,s="http://localhost:3000/user";return this.api=(0,T.Z)(s,e),await this.api.post("/reset-pass",t)}async getAll(t,e,s){const a=void 0,i="http://localhost:3000/user";return this.api=(0,T.Z)(i,a),e&&s?this.api.post(`/?pageNumber=${e}&pageSize=${s}`,t):this.api.post("/",t)}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}async updateUser(t,e){return await this.api.post(`/disable/${t}`,e)}async updateRole(t,e){return await this.api.post(`/update-role/?id=${t}`,e)}async changeInfo(t){const e={"Content-Type":"multipart/form-data"},s="http://localhost:3000/user";return this.api=(0,T.Z)(s,e),await this.api.post("/update",t)}async changePass(t){const e=void 0,s="http://localhost:3000/user";return this.api=(0,T.Z)(s,e),await this.api.post("change-pass",t)}}var Gt=new Qt,Wt={data(){return{inforUser:{},valid:{fullname:"",email:"",phoneNumber:"",passWord:"",confirmPass:""},isValid:!1,messageSuccess:"",messageFailure:""}},methods:{async register(){if(this.validate(this.inforUser),this.isValid)try{const t=await Gt.register(this.inforUser);console.log(t),200==t.status&&(t.data.status?(this.inforUser={},this.messageSuccess=t.data.mes,this.messageFailure=""):(this.messageSuccess="",this.messageFailure=t.data.mes))}catch(t){console.log(t)}},hasFalseValue(t){let e=!1;for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(!1!==t[s]){e=!1;break}e=!0}return e},validate({password:t,confirmPass:e,email:s,phoneNumber:a,fullName:i}){t==e&&e?this.valid.confirmPass=!1:(console.log("thien thanh"),this.valid.confirmPass="Mật khẩu không trùng khớp"),s&&s?.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)?this.valid.email=!1:this.valid.email="Không đúng định dạng email",a&&a.match(/^(03[2-9]|05[2-9]|07[0-9]|08[1-9]|09[0-9]|01[2|6|8|9])+([0-9]{7})\b$/)?this.valid.phoneNumber=!1:this.valid.phoneNumber="Số điện thoại không hợp lệ",this.valid.fullname=!i&&"Tên không được bỏ trống",t&&t.match(/^[A-Za-z0-9]{5,}$/)?this.valid.passWord=!1:(this.valid.passWord="Mật khẩu quá ngắn",this.valid.confirmPass="Mật khẩu không trùng khớp"),this.isValid=this.hasFalseValue(this.valid)}},mounted(){this.$refs.inputRef.focus()}};const Jt=(0,ft.Z)(Wt,[["render",jt],["__scopeId","data-v-a71937ac"]]);var Xt=Jt;const te=t=>((0,i.dD)("data-v-447a9352"),t=t(),(0,i.Cn)(),t),ee={class:"background-form"},se={class:"form-head"},ae=te((()=>(0,i._)("h2",{class:"title"},"Đăng nhập",-1))),ie=te((()=>(0,i._)("span",{class:"description"},"Đăng nhập tài khoản tại đây",-1))),ne={key:0,class:"mes-success"},le={key:1,class:"mes-failed"},oe={class:"form-group"},re={key:0,class:"err-pass"},ce={key:1,class:"err-pass"},de=te((()=>(0,i._)("span",null,"Quên mật khẩu",-1))),he=[de],pe=te((()=>(0,i._)("button",{type:"submit",class:"form-submit"},"Đăng nhập",-1))),ue=te((()=>(0,i._)("a",{class:"login-google",href:"http://localhost:3000/user/google"},[(0,i._)("svg",{width:"40",height:"40",role:"img",class:"google-icon"},[(0,i._)("g",{id:"Google-Button",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[(0,i._)("rect",{x:"0",y:"0",width:"40",height:"40",rx:"2"}),(0,i._)("g",{id:"logo_googleg_48dp",transform:"translate(8, 8) scale(1.4300000000000002)"},[(0,i._)("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),(0,i._)("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),(0,i._)("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),(0,i._)("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),(0,i._)("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})])])]),(0,i._)("span",null," Google")],-1))),me={class:"change"};function ge(t,e,s,a,l,o){const r=(0,i.up)("RouterLink"),c=(0,i.up)("forgetPassVue");return(0,i.wg)(),(0,i.iD)("div",ee,[(0,i._)("form",{action:"",class:"form",onSubmit:e[3]||(e[3]=(0,A.iM)(((...t)=>o.login&&o.login(...t)),["prevent","stop"])),enctype:"multipart/form-data"},[(0,i._)("div",se,[ae,ie,l.messageSuccess?((0,i.wg)(),(0,i.iD)("span",ne,(0,n.zw)(l.messageSuccess),1)):(0,i.kq)("",!0),l.messageFailure?((0,i.wg)(),(0,i.iD)("span",le,(0,n.zw)(l.messageFailure),1)):(0,i.kq)("",!0)]),(0,i._)("div",oe,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.inforUser.email=t),name:"email",type:"email",ref:"inputRef",class:"form-emai",placeholder:"Email của bạn"},null,512),[[A.nr,l.inforUser.email]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",re,(0,n.zw)(l.valid.email),1)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.inforUser.password=t),name:"password",type:"password",class:"form-pass",placeholder:"Mật khẩu"},null,512),[[A.nr,l.inforUser.password]]),l.valid.password?((0,i.wg)(),(0,i.iD)("span",ce,(0,n.zw)(l.valid.password),1)):(0,i.kq)("",!0)]),(0,i._)("div",{class:"forget-pass",onClick:e[2]||(e[2]=(...t)=>o.openForm&&o.openForm(...t))},he),pe,ue,(0,i._)("div",me,[(0,i.Uk)(" Chưa có tài khoản chọn "),(0,i.Wm)(r,{to:"/register",class:"change-link"},{default:(0,i.w5)((()=>[(0,i.Uk)("Đăng ký")])),_:1})])],32),(0,i.Wm)(c,{activeFormForget:l.activeFormForget,onCloseFormFG:o.closeForm},null,8,["activeFormForget","onCloseFormFG"])])}s(7658);const ye={class:"pass-forget"},fe={key:0,class:"overlay"},ve={class:"form-forget"},_e=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),we=[_e],be={class:"form-head"},ke=(0,i._)("h2",{class:"title"},"Quên mật khẩu",-1),Ce=(0,i._)("span",{class:"description"},"Nhập Email để nhận mã xác nhận",-1),xe={key:0,class:"mes-success"},Se={key:1,class:"mes-failed"},De={key:2,class:"lds-dual-ring"},Te={class:"form-group1"},Pe={key:0,class:"err-pass"};function Ie(t,e,s,a,l,o){const r=(0,i.up)("confirm-pass");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",ye,[s.activeFormForget?((0,i.wg)(),(0,i.iD)("div",fe,[(0,i._)("form",ve,[(0,i._)("div",{class:"close-form",onClick:e[0]||(e[0]=(...t)=>o.closeFormForget&&o.closeFormForget(...t))},we),(0,i._)("div",be,[ke,Ce,l.messageSuccess?((0,i.wg)(),(0,i.iD)("span",xe,(0,n.zw)(l.messageSuccess),1)):(0,i.kq)("",!0),l.messageFailure?((0,i.wg)(),(0,i.iD)("span",Se,(0,n.zw)(l.messageFailure),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",De)):(0,i.kq)("",!0)]),(0,i._)("div",Te,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.forgetEmail=t),name:"email",type:"email",ref:"inputRef",class:"form-email-input",placeholder:"Email của bạn"},null,512),[[A.nr,l.forgetEmail]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",Pe,(0,n.zw)(l.valid.email),1)):(0,i.kq)("",!0)]),(0,i._)("button",{type:"submit",class:"form-submit",onClick:e[2]||(e[2]=(0,A.iM)(((...t)=>o.forget&&o.forget(...t)),["prevent","stop"]))},"Gửi mã")])])):(0,i.kq)("",!0)]),(0,i.Wm)(r,{activeFormConfirm:l.activeFormConfirm,email:l.forgetEmail,onCloseCF:o.closeFormConfirm},null,8,["activeFormConfirm","email","onCloseCF"])],64)}const Ae={class:"pass-forget"},Ue={key:0,class:"overlay"},qe={class:"form-forget"},Ne=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),ze=[Ne],Fe={class:"form-head"},Oe=(0,i._)("h2",{class:"title"},"Nhập mã xác nhận",-1),Me={key:0,class:"mes-failed"},Ve={key:1,class:"mes-success"},Ee={key:2,class:"lds-dual-ring"},$e={class:"form-group"},Be=["onUpdate:modelValue"];function Re(t,e,s,a,l,o){const r=(0,i.up)("reset-pass");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Ae,[s.activeFormConfirm?((0,i.wg)(),(0,i.iD)("div",Ue,[(0,i._)("form",qe,[(0,i._)("div",{class:"close-form",onClick:e[0]||(e[0]=(...t)=>o.closeFormConfirm&&o.closeFormConfirm(...t))},ze),(0,i._)("div",Fe,[Oe,l.messageFailure?((0,i.wg)(),(0,i.iD)("span",Me,(0,n.zw)(l.messageFailure),1)):(0,i.kq)("",!0),l.messageSuccess?((0,i.wg)(),(0,i.iD)("span",Ve,(0,n.zw)(l.messageSuccess),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",Ee)):(0,i.kq)("",!0)]),(0,i._)("div",$e,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(6,(t=>(0,i.wy)((0,i._)("input",{class:"code-input",key:t,"onUpdate:modelValue":e=>l.verificationCode[t-1]=e,ref_for:!0,ref:"verificationInputs",maxlength:1,onKeyup:e[1]||(e[1]=(...t)=>o.handleKeyDown&&o.handleKeyDown(...t))},null,40,Be),[[A.nr,l.verificationCode[t-1]]]))),64))]),(0,i._)("button",{type:"submit",class:"form-submit",onClick:e[2]||(e[2]=(0,A.iM)(((...t)=>o.confirm&&o.confirm(...t)),["prevent","stop"]))},"Xác nhận"),(0,i._)("span",{class:"login-again",onClick:e[3]||(e[3]=(...t)=>o.sendAgain&&o.sendAgain(...t))},"Gửi lại")])])):(0,i.kq)("",!0)]),(0,i.Wm)(r,{activeFormReset:l.activeFormReset,email:s.email,onCloseRS:o.closeFormReset},null,8,["activeFormReset","email","onCloseRS"])],64)}const He={class:"pass-forget"},Ye={key:0,class:"overlay"},Ke=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),Le=[Ke],Ze={class:"form-head"},je=(0,i._)("h2",{class:"title"},"Đặt lại mật khẩu",-1),Qe=(0,i._)("span",{class:"description"},null,-1),Ge={key:0,class:"mes-success"},We={key:2,class:"mes-failed"},Je={class:"form-group"},Xe={key:0,class:"err-pass"},ts={key:1,class:"err-pass"},es=(0,i._)("button",{type:"submit",class:"form-submit"},"Đặt lại mật khẩu",-1);function ss(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",He,[s.activeFormReset?((0,i.wg)(),(0,i.iD)("div",Ye,[(0,i._)("form",{action:"",class:"form-forget",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.reset&&o.reset(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[0]||(e[0]=(...t)=>o.closeFormReset&&o.closeFormReset(...t))},Le),(0,i._)("div",Ze,[je,Qe,l.messageSuccess?((0,i.wg)(),(0,i.iD)("span",Ge,(0,n.zw)(l.messageSuccess),1)):(0,i.kq)("",!0),l.messageSuccess?((0,i.wg)(),(0,i.iD)("span",{key:1,class:"login-again",onClick:e[1]||(e[1]=(...t)=>o.closeFormReset&&o.closeFormReset(...t))},"Đăng nhập lại")):(0,i.kq)("",!0),l.messageFailure?((0,i.wg)(),(0,i.iD)("span",We,(0,n.zw)(l.messageFailure),1)):(0,i.kq)("",!0)]),(0,i._)("div",Je,[(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":e[2]||(e[2]=t=>l.inforUser.password=t),ref:"inputRef",class:"form-pass",name:"password",placeholder:"Mật khẩu mới"},null,512),[[A.nr,l.inforUser.password]]),l.valid.passWord?((0,i.wg)(),(0,i.iD)("span",Xe,(0,n.zw)(l.valid.passWord),1)):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":e[3]||(e[3]=t=>l.inforUser.confirmPass=t),class:"mt-1 form-pass",placeholder:"Nhập lại mật khẩu"},null,512),[[A.nr,l.inforUser.confirmPass]]),l.valid.confirmPass?((0,i.wg)(),(0,i.iD)("span",ts,(0,n.zw)(l.valid.confirmPass),1)):(0,i.kq)("",!0)]),es],32)])):(0,i.kq)("",!0)])}var as={data(){return{inforUser:{},valid:{passWord:"",confirmPass:""},isValid:!1,messageSuccess:"",messageFailure:""}},props:{activeFormReset:Boolean,email:String},emits:["closeRS"],methods:{async reset(){if(this.validate(this.inforUser),this.isValid)try{console.log(this.email,this.inforUser.password);const t={email:this.email,password:this.inforUser.password},e=await Gt.reset(t);e.data.status?(this.messageSuccess=e.data.mes,this.messageFailure=""):(this.messageFailure=e.data.mes,this.messageSuccess="")}catch(t){console.log(t)}else console.log("sai")},hasFalseValue(t){let e=!1;for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(!1!==t[s]){e=!1;break}e=!0}return e},validate({password:t,confirmPass:e}){this.valid.confirmPass=t!=e&&"Mật khẩu không trùng khớp",t&&t.match(/^[A-Za-z0-9]{5,}$/)?this.valid.passWord=!1:(this.valid.passWord="Mật khẩu quá ngắn",this.valid.confirmPass="Mật khẩu không trùng khớp"),this.isValid=this.hasFalseValue(this.valid)},closeFormReset(){this.$emit("closeRS")}}};const is=(0,ft.Z)(as,[["render",ss]]);var ns=is,ls={components:{resetPass:ns},data(){return{verificationCode:[],messageFailure:"",messageSuccess:"",activeFormReset:!1,loading:!1}},props:{activeFormConfirm:{type:Boolean},email:String},emits:["closeCF"],methods:{handleKeyDown(t){let e=this.$refs.verificationInputs.indexOf(t.target);"Backspace"===t.key&&(this.verificationCode[e]="",this.$refs.verificationInputs[e].focus()),t.key.match(/^[0-9]+$/)?e<5&&this.$refs.verificationInputs[e+1].focus():(this.verificationCode[e]="",this.$refs.verificationInputs[e].focus())},async confirm(){try{const t=this.verificationCode.join(""),e=this.email,s=await Gt.confirm({email:e,code:t});console.log(s),s.data.status?(this.activeFormReset=!0,this.closeFormConfirm(),this.verificationCode=[]):(this.messageFailure=s.data.mes,this.verificationCode=[])}catch(t){console.log(t)}},closeFormConfirm(){this.messageFailure="",this.$emit("closeCF")},closeFormReset(){this.closeFormConfirm(),this.activeFormReset=!1},async sendAgain(){try{this.loading=!0;const t=await Gt.forget({email:this.email});this.loading=!1,t.data.status?(this.messageSuccess="Mã xác nhận đã được gửi",this.messageFailure=""):(this.messageSuccess="",this.messageFailure=t.data.mes)}catch(t){console.log(t)}}}};const os=(0,ft.Z)(ls,[["render",Re]]);var rs=os,cs={components:{confirmPass:rs},data(){return{valid:{email:"",password:""},isValid:!1,messageSuccess:"",messageFailure:"",forgetEmail:"",loading:!1,activeFormConfirm:!1,verificationCode:[]}},props:{activeFormForget:{type:Boolean}},emits:["closeFormFG"],methods:{closeFormForget(){this.$emit("closeFormFG")},async forget(){try{const t=this.forgetEmail;this.loading=!0;const e=await Gt.forget({email:t});this.loading=!1,e.data.status?(this.closeFormForget(),this.activeFormConfirm=!0,this.messageSuccess="",this.messageFailure=""):(this.messageSuccess="",this.messageFailure=e.data.mes)}catch(t){console.log(t)}},closeFormConfirm(){this.activeFormConfirm=!1,this.closeFormForget()}}};const ds=(0,ft.Z)(cs,[["render",Ie]]);var hs=ds,ps={components:{forgetPassVue:hs},data(){return{inforUser:{},valid:{email:"",password:""},isValid:!1,messageSuccess:"",messageFailure:"",activeFormForget:!1}},methods:{async login(){if(this.messageSuccess="",this.messageFailure="",this.validate(this.inforUser),this.isValid)try{const t=await Gt.login(this.inforUser);if(200==t.status)if(t.data.status){const e=await gt.Z.getByUserId(t.data.user.user._id);this.$store.commit("addToCart",e?.data?.products||[]),this.inforUser={},this.messageSuccess=t.data.mes,this.messageFailure="";const s=JSON.stringify(t.data.user);sessionStorage.setItem("user",s),console.log(t.data.user.user),this.$store.commit("changeInfo",t.data.user.user);const a=t.data.user;a.user.isAdmin||a.user.roles.length>0?this.$router.push("/admin"):this.$router.push("/")}else this.messageSuccess="",this.messageFailure=t.data.mes}catch(t){console.log(t)}else console.log("chauw đúng thông tin")},hasFalseValue(t){let e=!1;for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)){if(!1!==t[s]){e=!1;break}e=!0}return e},validate({password:t,email:e}){e&&e?.match(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)?this.valid.email=!1:this.valid.email="Không đúng định dạng email",t&&t.match(/^[A-Za-z0-9]{5,}$/)?this.valid.password=!1:this.valid.password="Mật khẩu quá ngắn",this.isValid=this.hasFalseValue(this.valid)},openForm(){this.activeFormForget=!0,this.messageFailure="",this.messageSuccess=""},closeForm(){this.activeFormForget=!1,this.messageFailure="",this.messageSuccess=""}},mounted(){this.$refs.inputRef.focus()}};const us=(0,ft.Z)(ps,[["render",ge],["__scopeId","data-v-447a9352"]]);var ms=us;const gs={class:"main row"};function ys(t,e,s,a,n,l){const o=(0,i.up)("admin-menu"),r=(0,i.up)("adminContent");return(0,i.wg)(),(0,i.iD)("div",gs,[(0,i.Wm)(o),(0,i.Wm)(r)])}const fs=t=>((0,i.dD)("data-v-7799f152"),t=t(),(0,i.Cn)(),t),vs={class:"col-lg-2 sec__left",style:{background:"url('https://demos.creative-tim.com/vue-light-bootstrap-dashboard/static/img/sidebar-5.jpg')"}},_s={class:"menu-user"},ws=["src"],bs={class:"menu-name"},ks={class:"sec-left__list accordion"},Cs=fs((()=>(0,i._)("span",{class:"menu-title"},"Thông tin Doanh nghiệp",-1))),xs={class:"sec-left__item"},Ss=fs((()=>(0,i._)("i",{class:"fa-solid fa-building",id:"icon5"},null,-1))),Ds=fs((()=>(0,i._)("span",{class:"menu-title","data-bs-toggle":"collapse",href:"#collapseExample",role:"button","aria-expanded":"false","aria-controls":"collapseExample"},[(0,i.Uk)("Sản phẩm "),(0,i._)("i",{class:"fa-solid fa-chevron-down ms-1"})],-1))),Ts={class:"collapse",id:"collapseExample"},Ps={class:"sec-left__item"},Is=fs((()=>(0,i._)("i",{class:"fa-brands fa-product-hunt icon1",id:"icon1"},null,-1))),As={class:"sec-left__item"},Us=fs((()=>(0,i._)("i",{class:"fa-brands fa-paypal",id:"icon5"},null,-1))),qs={class:"sec-left__item"},Ns=fs((()=>(0,i._)("i",{class:"fa-solid fa-plus icon1","active-class":"active",id:"icon2"},null,-1))),zs={class:"sec-left__item"},Fs=fs((()=>(0,i._)("i",{class:"fa-solid fa-receipt",id:"icon4"},null,-1))),Os=fs((()=>(0,i._)("span",{class:"menu-title","data-bs-toggle":"collapse",href:"#collapseExample2",role:"button","aria-expanded":"false","aria-controls":"collapseExample2"},[(0,i.Uk)("Tài khoản "),(0,i._)("i",{class:"fa-solid fa-chevron-down ms-1"})],-1))),Ms={class:"collapse",id:"collapseExample2"},Vs={class:"sec-left__item"},Es=fs((()=>(0,i._)("i",{class:"fa-solid fa-user",id:"icon3"},null,-1))),$s={class:"sec-left__item"},Bs=fs((()=>(0,i._)("i",{class:"fa-solid fa-sitemap text-white"},null,-1))),Rs={key:0,class:"sec-left__item"},Hs=fs((()=>(0,i._)("i",{class:"fa-solid fa-fingerprint",id:"icon2"},null,-1))),Ys=fs((()=>(0,i._)("span",{class:"menu-title","data-bs-toggle":"collapse",href:"#collapseExample3",role:"button","aria-expanded":"false","aria-controls":"collapseExample2"},[(0,i.Uk)("Đơn hàng "),(0,i._)("i",{class:"fa-solid fa-chevron-down ms-1"})],-1))),Ks={class:"collapse",id:"collapseExample3"},Ls={class:"sec-left__item"},Zs=fs((()=>(0,i._)("i",{class:"fa-solid fa-bag-shopping"},null,-1))),js={class:"sec-left__item"},Qs=fs((()=>(0,i._)("i",{class:"fa-solid fa-cart-plus",id:"icon4"},null,-1))),Gs={class:"sec-left__item"},Ws=fs((()=>(0,i._)("i",{class:"fa-solid fa-bag-shopping"},null,-1))),Js={class:"sec-left__item"},Xs=fs((()=>(0,i._)("i",{class:"fa-solid fa-cart-plus",id:"icon4"},null,-1))),ta=fs((()=>(0,i._)("span",{class:"menu-title","data-bs-toggle":"collapse",href:"#collapseExample4",role:"button","aria-expanded":"false","aria-controls":"collapseExample2"},[(0,i.Uk)("Tin tức "),(0,i._)("i",{class:"fa-solid fa-chevron-down ms-1"})],-1))),ea={class:"collapse",id:"collapseExample4"},sa={class:"sec-left__item"},aa=fs((()=>(0,i._)("i",{class:"fa-solid fa-newspaper",id:"icon2"},null,-1))),ia=fs((()=>(0,i._)("i",{class:"fa-solid fa-newspaper",id:"icon3"},null,-1))),na=fs((()=>(0,i._)("span",{class:"menu-title","data-bs-toggle":"collapse",href:"#collapseExample5",role:"button","aria-expanded":"false","aria-controls":"collapseExample2"},[(0,i.Uk)("Lịch công việc "),(0,i._)("i",{class:"fa-solid fa-chevron-down ms-1"})],-1))),la={class:"collapse",id:"collapseExample5"},oa={class:"sec-left__item"},ra=fs((()=>(0,i._)("i",{class:"fa-solid fa-newspaper",id:"icon3"},null,-1))),ca=fs((()=>(0,i._)("span",{class:"menu-title","data-bs-toggle":"collapse",href:"#collapseExample6",role:"button","aria-expanded":"false","aria-controls":"collapseExample2"},[(0,i.Uk)("Bảo hành"),(0,i._)("i",{class:"fa-solid fa-chevron-down ms-1"})],-1))),da={class:"collapse",id:"collapseExample6"},ha={class:"sec-left__item"},pa=fs((()=>(0,i._)("i",{class:"fa-solid fa-magnifying-glass"},null,-1))),ua={class:"sec-left__item"},ma=fs((()=>(0,i._)("i",{class:"fa-solid fa-hammer"},null,-1))),ga=fs((()=>(0,i._)("span",{class:"menu-title","data-bs-toggle":"collapse",href:"#collapseExample8",role:"button","aria-expanded":"false","aria-controls":"collapseExample2"},[(0,i.Uk)("Đánh giá"),(0,i._)("i",{class:"fa-solid fa-chevron-down ms-1"})],-1))),ya={class:"collapse",id:"collapseExample8"},fa={class:"sec-left__item"},va=fs((()=>(0,i._)("i",{class:"fa-solid fa-comments"},null,-1))),_a=fs((()=>(0,i._)("span",{class:"menu-title","data-bs-toggle":"collapse",href:"#collapseExample7",role:"button","aria-expanded":"false","aria-controls":"collapseExample2"},[(0,i.Uk)("Thống kê"),(0,i._)("i",{class:"fa-solid fa-chevron-down ms-1"})],-1))),wa={class:"collapse",id:"collapseExample7"},ba={class:"sec-left__item"},ka=fs((()=>(0,i._)("i",{class:"fa-solid fa-magnifying-glass"},null,-1)));function Ca(t,e,s,a,l,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("section",vs,[(0,i._)("div",_s,[(0,i._)("img",{src:"http://localhost:3000"+l.user.avatar,alt:"",class:"menu-avt"},null,8,ws),(0,i._)("h6",bs,(0,n.zw)(l.user.fullName),1)]),(0,i._)("ul",ks,[Cs,(0,i._)("li",xs,[(0,i.Wm)(r,{to:"/admin/profile-company","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[Ss,(0,i.Uk)(" Xem và chỉnh sửa ")])),_:1})]),Ds,(0,i._)("div",Ts,[(0,i._)("li",Ps,[(0,i.Wm)(r,{to:"/admin/product",class:"sec-left__link","active-class":"active"},{default:(0,i.w5)((()=>[Is,(0,i.Uk)(" Sản phẩm ")])),_:1})]),(0,i._)("li",As,[(0,i.Wm)(r,{to:"/admin/accessory",class:"sec-left__link","active-class":"active"},{default:(0,i.w5)((()=>[Us,(0,i.Uk)(" Phụ kiện ")])),_:1})]),(0,i._)("li",qs,[(0,i.Wm)(r,{to:"/admin/add",class:"sec-left__link","active-class":"active"},{default:(0,i.w5)((()=>[Ns,(0,i.Uk)(" Thêm sản phẩm ")])),_:1})]),(0,i._)("li",zs,[(0,i.Wm)(r,{to:"/admin/entry-receipt","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[Fs,(0,i.Uk)(" Phiếu nhập kho ")])),_:1})])]),Os,(0,i._)("div",Ms,[(0,i._)("li",Vs,[(0,i.Wm)(r,{to:"/admin/user","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[Es,(0,i.Uk)(" Tài khoản ")])),_:1})]),(0,i._)("li",$s,[(0,i.Wm)(r,{to:"/admin/staff","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[Bs,(0,i.Uk)(" Nhân viên ")])),_:1})]),l.user.isAdmin?((0,i.wg)(),(0,i.iD)("li",Rs,[(0,i.Wm)(r,{to:"/admin/role","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[Hs,(0,i.Uk)(" Cấp quyền ")])),_:1})])):(0,i.kq)("",!0)]),Ys,(0,i._)("div",Ks,[(0,i._)("li",Ls,[(0,i.Wm)(r,{to:"/admin/order","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[Zs,(0,i.Uk)(" Đơn hàng bán ")])),_:1})]),(0,i._)("li",js,[(0,i.Wm)(r,{to:"/admin/order-create","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[Qs,(0,i.Uk)(" Tạo đơn hàng bán ")])),_:1})]),(0,i._)("li",Gs,[(0,i.Wm)(r,{to:"/admin/rental","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[Ws,(0,i.Uk)(" Đơn hàng thuê ")])),_:1})]),(0,i._)("li",Js,[(0,i.Wm)(r,{to:"/admin/rental-create","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[Xs,(0,i.Uk)(" Tạo đơn hàng thuê ")])),_:1})])]),ta,(0,i._)("div",ea,[(0,i._)("li",sa,[(0,i.Wm)(r,{to:"/admin/news-create","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[aa,(0,i.Uk)(" Tạo tin tức ")])),_:1}),(0,i.Wm)(r,{to:"/admin/news","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[ia,(0,i.Uk)(" Tin tức ")])),_:1})])]),na,(0,i._)("div",la,[(0,i._)("li",oa,[(0,i.Wm)(r,{to:"/admin/task","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[ra,(0,i.Uk)(" Nhiệm vụ ")])),_:1})])]),ca,(0,i._)("div",da,[(0,i._)("li",ha,[(0,i.Wm)(r,{to:"/admin/warranty-search","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[pa,(0,i.Uk)(" Tra cứu ")])),_:1})]),(0,i._)("li",ua,[(0,i.Wm)(r,{to:"/admin/warranty","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[ma,(0,i.Uk)(" Đơn bảo hành ")])),_:1})])]),ga,(0,i._)("div",ya,[(0,i._)("li",fa,[(0,i.Wm)(r,{to:"/admin/comment","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[va,(0,i.Uk)(" Đánh giá sản phẩm ")])),_:1})])]),_a,(0,i._)("div",wa,[(0,i._)("li",ba,[(0,i.Wm)(r,{to:"/admin/statistical","active-class":"active",class:"sec-left__link"},{default:(0,i.w5)((()=>[ka,(0,i.Uk)(" Thống kê doanh thu ")])),_:1})])])])])}var xa={data(){return{user:{}}},methods:{getUser(){try{const t=JSON.parse(sessionStorage.getItem("user"));this.user={...t.user}}catch(t){console.log(t)}}},mounted(){this.getUser()}};const Sa=(0,ft.Z)(xa,[["render",Ca],["__scopeId","data-v-7799f152"]]);var Da=Sa;const Ta={class:"col-lg sec-right"};function Pa(t,e,s,a,n,l){const o=(0,i.up)("header-admin"),r=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("section",Ta,[(0,i.Wm)(o),(0,i.Wm)(r)])}const Ia={class:"header-admin pe-3"},Aa=(0,i._)("div",{class:"role-user"},null,-1),Ua={class:"admin-action"},qa=(0,i._)("i",{class:"ms-2 fa-solid fa-arrows-rotate"},null,-1);function Na(t,e,s,a,n,l){const o=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("header",Ia,[Aa,(0,i._)("div",Ua,[(0,i.Wm)(o,{to:"/",class:"back-home"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Trở về trang người dùng "),qa])),_:1}),(0,i._)("span",{onClick:e[0]||(e[0]=(...t)=>l.logout&&l.logout(...t)),class:"logout-admin"},"Đăng xuất")])])}var za={data(){return{activeRole:!1,searchVal:"",idTimeOut:null}},methods:{async logout(){try{await Gt.logout(),sessionStorage.removeItem("user"),this.$store.commit("addToCart"),this.$store.commit("changeInfo",{}),this.$router.push("/login")}catch(t){console.log(t)}},onSearch(){clearTimeout(this.idTimeOut),this.idTimeOut=setTimeout(this.search,500)},async search(){try{console.log(this.searchVal);const t=await I.search(this.searchVal,1,5);clearTimeout(this.idTimeOut),console.log(t)}catch(t){console.log(t)}}}};const Fa=(0,ft.Z)(za,[["render",Na]]);var Oa=Fa,Ma={components:{headerAdmin:Oa}};const Va=(0,ft.Z)(Ma,[["render",Pa]]);var Ea=Va,$a={components:{adminMenu:Da,adminContent:Ea}};const Ba=(0,ft.Z)($a,[["render",ys]]);var Ra=Ba;const Ha={class:"container"},Ya=(0,i._)("h5",{class:"product-title"},"Sản phẩm của cửa hàng",-1),Ka={class:"row"},La={class:"col-lg-2"},Za={class:"col-lg-10"},ja={class:"d-flex"},Qa={class:"product-filter"},Ga=(0,i._)("span",null,"Sắp xếp",-1),Wa=(0,i._)("option",{value:{}},"Không sắp xếp",-1),Ja=(0,i._)("option",{value:{type:-1,field:"priceSale"}},"Giá giảm dần",-1),Xa=(0,i._)("option",{value:{type:1,field:"priceSale"}},"Giá tăng dần",-1),ti=[Wa,Ja,Xa],ei={class:"product-filter ms-4"},si=(0,i._)("span",null,"Sản phẩm",-1),ai=(0,i._)("option",{value:"accessory"},"Phụ kiện",-1),ii=(0,i._)("option",{value:"product"},"Máy",-1),ni=[ai,ii],li={class:"row"},oi={key:0,class:"my-5"},ri={class:"product-pagination my-4"},ci={class:"pagination"},di=(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1),hi=[di],pi=(0,i._)("li",null,[(0,i._)("span",null,"...")],-1),ui=["onClick"],mi=(0,i._)("li",null,[(0,i._)("span",null,"...")],-1),gi=(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1),yi=[gi];function fi(t,e,s,a,l,o){const r=(0,i.up)("product-category"),c=(0,i.up)("accessory-category"),d=(0,i.up)("productCard");return(0,i.wg)(),(0,i.iD)("div",Ha,[Ya,(0,i._)("div",Ka,[(0,i._)("div",La,["product"==l.typeProduct?((0,i.wg)(),(0,i.j4)(r,{key:0,onFilter:o.filter},null,8,["onFilter"])):((0,i.wg)(),(0,i.j4)(c,{key:1,onFilter:o.filter},null,8,["onFilter"]))]),(0,i._)("div",Za,[(0,i._)("div",ja,[(0,i._)("div",Qa,[Ga,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.sortV=t),value:""},ti,512),[[A.bM,l.sortV]])]),(0,i._)("div",ei,[si,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.typeProduct=t),value:""},ni,512),[[A.bM,l.typeProduct]])])]),(0,i._)("div",li,[0==l.products.length?((0,i.wg)(),(0,i.iD)("div",oi," Chưa có ")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.products,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-lg-3 mb-3",key:t._id},[(0,i.Wm)(d,{product:t},null,8,["product"])])))),128))]),(0,i._)("div",ri,[(0,i._)("ul",ci,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[2]||(e[2]=(...t)=>o.previousPage&&o.previousPage(...t))},hi)]),pi,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthProducts,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)(["me-3",{active_page:l.pageNumber===t}]),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,ui)])))),128)),mi,(0,i._)("li",null,[(0,i._)("span",{onClick:e[3]||(e[3]=(...t)=>o.nextPage&&o.nextPage(...t))},yi)])])])])])])}class vi{constructor(t="http://localhost:3000/accessory"){this.api=(0,T.Z)(t)}async create(t){const e={"Content-Type":"multipart/form-data"},s="http://localhost:3000/accessory";return this.api=(0,T.Z)(s,e),await this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async getById(t){return await this.api.get(`/find/?id=${t}`)}async update(t,e){const s={"Content-Type":"multipart/form-data"},a="http://localhost:3000/accessory";return this.api=(0,T.Z)(a,s),await this.api.post(`/update/?id=${t}`,e)}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}async filterProduct(t,e,s,a){return await this.api.get(`/filter/?type=${t}&field=${e}&pageNumber=${s}&pageSize=${a}`)}async findCondition(t){return this.api.post("/condition",t)}}var _i=new vi;const wi={class:"product-category"},bi=(0,i._)("div",{class:"category-title"},[(0,i._)("i",{class:"fa-solid fa-bars"}),(0,i._)("h5",null,"Danh mục ")],-1),ki={class:"category-group"},Ci={class:"category-list active-list"},xi={key:0,class:"fa-solid fa-chevron-up ms-2"},Si={key:1,class:"fa-solid fa-chevron-down ms-2"},Di=["onClick"],Ti={key:0,class:"fa-solid fa-chevron-up ms-2"},Pi={key:1,class:"fa-solid fa-chevron-down ms-2"},Ii=["onClick"],Ai={key:0,class:"fa-solid fa-chevron-up ms-2"},Ui={key:1,class:"fa-solid fa-chevron-down ms-2"},qi=["onClick"];function Ni(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",wi,[bi,(0,i._)("div",ki,[(0,i._)("ul",Ci,[(0,i._)("li",{onClick:e[0]||(e[0]=t=>o.filter())},"Tất cả Máy photocopy")]),(0,i._)("span",{onClick:e[1]||(e[1]=t=>o.handeleShowList("category"))},[(0,i.Uk)(" Theo công năng "),l.activeCategory?((0,i.wg)(),(0,i.iD)("i",xi)):((0,i.wg)(),(0,i.iD)("i",Si))]),(0,i._)("ul",{class:(0,n.C_)(["category-list",{"active-list":l.activeCategory}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.categories,(t=>((0,i.wg)(),(0,i.iD)("li",{onClick:e=>o.filter(t._id,"categoryId"),key:t._id},(0,n.zw)(t.name),9,Di)))),128))],2),(0,i._)("span",{onClick:e[2]||(e[2]=t=>o.handeleShowList("brand"))},[(0,i.Uk)(" Theo thương hiệu "),l.activeBrand?((0,i.wg)(),(0,i.iD)("i",Ti)):((0,i.wg)(),(0,i.iD)("i",Pi))]),(0,i._)("ul",{class:(0,n.C_)(["category-list",{"active-list":l.activeBrand}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.brands,(t=>((0,i.wg)(),(0,i.iD)("li",{onClick:e=>o.filter(t._id,"brandId"),key:t._id},(0,n.zw)(t.name),9,Ii)))),128))],2),(0,i._)("span",{onClick:e[3]||(e[3]=t=>o.handeleShowList("type"))},[(0,i.Uk)(" Theo loại "),l.activeType?((0,i.wg)(),(0,i.iD)("i",Ai)):((0,i.wg)(),(0,i.iD)("i",Ui))]),(0,i._)("ul",{class:(0,n.C_)(["category-list",{"active-list":l.activeType}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.types,(t=>((0,i.wg)(),(0,i.iD)("li",{onClick:e=>o.filter(t._id,"typeId"),key:t._id},(0,n.zw)(t.name),9,qi)))),128))],2)])])}class zi{constructor(t="http://localhost:3000/brand",e={"Content-Type":"multipart/form-data"}){this.api=(0,T.Z)(t,e)}async create(t){return await this.api.post("/create",t)}async getAll(){return await this.api.get("/")}}var Fi=new zi;class Oi{constructor(t="http://localhost:3000/category"){this.api=(0,T.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(){return await this.api.get("/")}}var Mi=new Oi;class Vi{constructor(t="http://localhost:3000/type"){this.api=(0,T.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(){return await this.api.get("/")}}var Ei=new Vi,$i={data(){return{brands:[],categories:[],types:[],activeCategory:!0,activeBrand:!1,activeType:!1}},emits:["filter"],methods:{handeleShowList(t){"category"==t?(this.activeCategory=!this.activeCategory,this.activeBrand=!1,this.activeType=!1):"brand"==t?(this.activeCategory=!1,this.activeBrand=!this.activeBrand,this.activeType=!1):"type"==t&&(this.activeCategory=!1,this.activeBrand=!1,this.activeType=!this.activeType)},async getBrand(){try{const t=await Fi.getAll();this.brands=[...t.data]}catch(t){console.log(t)}},async getCategories(){try{const t=await Mi.getAll();this.categories=[...t.data]}catch(t){console.log(t)}},async getTypes(){try{const t=await Ei.getAll();this.types=[...t.data]}catch(t){console.log(t)}},filter(t,e){this.$emit("filter",{type:t,field:e})}},mounted(){this.getBrand(),this.getCategories(),this.getTypes()}};const Bi=(0,ft.Z)($i,[["render",Ni]]);var Ri=Bi;const Hi={class:"product-category"},Yi=(0,i._)("div",{class:"category-title"},[(0,i._)("i",{class:"fa-solid fa-bars"}),(0,i._)("h5",null,"Danh mục ")],-1),Ki={class:"category-group"},Li={class:"category-list active-list"},Zi={key:0,class:"fa-solid fa-chevron-up ms-2"},ji={key:1,class:"fa-solid fa-chevron-down ms-2"},Qi=["onClick"],Gi={key:0,class:"fa-solid fa-chevron-up ms-2"},Wi={key:1,class:"fa-solid fa-chevron-down ms-2"},Ji=["onClick"];function Xi(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",Hi,[Yi,(0,i._)("div",Ki,[(0,i._)("ul",Li,[(0,i._)("li",{onClick:e[0]||(e[0]=t=>o.filter())},"Tất cả phụ kiện")]),(0,i._)("span",{onClick:e[1]||(e[1]=t=>o.handeleShowList("brand"))},[(0,i.Uk)(" Theo thương hiệu "),l.activeBrand?((0,i.wg)(),(0,i.iD)("i",Zi)):((0,i.wg)(),(0,i.iD)("i",ji))]),(0,i._)("ul",{class:(0,n.C_)(["category-list",{"active-list":l.activeBrand}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.brands,(t=>((0,i.wg)(),(0,i.iD)("li",{onClick:e=>o.filter(t._id,"brandId"),key:t._id},(0,n.zw)(t.name),9,Qi)))),128))],2),(0,i._)("span",{onClick:e[2]||(e[2]=t=>o.handeleShowList("type"))},[(0,i.Uk)(" Theo loại "),l.activeType?((0,i.wg)(),(0,i.iD)("i",Gi)):((0,i.wg)(),(0,i.iD)("i",Wi))]),(0,i._)("ul",{class:(0,n.C_)(["category-list",{"active-list":l.activeType}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.types,(t=>((0,i.wg)(),(0,i.iD)("li",{onClick:e=>o.filter(t._id,"typeId"),key:t._id},(0,n.zw)(t.name),9,Ji)))),128))],2)])])}class tn{constructor(t="http://localhost:3000/type-acc"){this.api=(0,T.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(){return await this.api.get("/")}}var en=new tn,sn={data(){return{brands:[],categories:[],types:[],activeBrand:!0,activeType:!1}},emits:["filter"],methods:{handeleShowList(t){"brand"==t?(this.activeCategory=!1,this.activeBrand=!this.activeBrand,this.activeType=!1):"type"==t&&(this.activeCategory=!1,this.activeBrand=!1,this.activeType=!this.activeType)},async getBrand(){try{const t=await Fi.getAll();this.brands=[...t.data]}catch(t){console.log(t)}},async getCategories(){try{const t=await Mi.getAll();this.categories=[...t.data]}catch(t){console.log(t)}},async getTypes(){try{const t=await en.getAll();this.types=[...t.data]}catch(t){console.log(t)}},filter(t,e){this.$emit("filter",{type:t,field:e})}},mounted(){this.getBrand(),this.getCategories(),this.getTypes()}};const an=(0,ft.Z)(sn,[["render",Xi]]);var nn=an,ln={components:{productCard:_t,productCategory:Ri,accessoryCategory:nn},data(){return{products:[],pageNumber:1,pageSize:8,lengthProducts:0,isFilter:!1,keyFilter:{},sortV:{},typeProduct:"product"}},watch:{sortV(){this.sort()},async typeProduct(){this.pageNumber=1,this.pageSize=8,await this.getproduct()}},methods:{handlePage(t){this.pageNumber=t,this.isFilter?this.filterServer():this.getproduct()},nextPage(){this.pageNumber>=this.lengthProducts?alert("Trang cuối"):(this.pageNumber+=1,this.isFilter?this.filterServer():this.getproduct())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.isFilter?this.filterServer():this.getproduct())},async getproduct(){try{let t,e;"product"==this.typeProduct?(t=await I.getProducts(),e=await I.getProducts(this.pageNumber,this.pageSize)):(t=await _i.getAll(),e=await _i.getAll(this.pageNumber,this.pageSize)),this.lengthProducts=Math.ceil(t.data.length/this.pageSize),this.products=[...e.data],this.products.forEach((t=>t.typeProduct=this.typeProduct))}catch(t){console.log(t)}},filter(t){t.type?(this.isFilter=!0,this.keyFilter={...t},this.filterServer()):(this.keyFilter={},this.isFilter=!1,this.getproduct())},async filterServer(){try{let t;t="product"==this.typeProduct?await I.filterProduct(this.keyFilter.type,this.keyFilter.field,this.pageNumber,this.pageSize):await _i.filterProduct(this.keyFilter.type,this.keyFilter.field,this.pageNumber,this.pageSize),this.products=[],this.products=[...t.data]}catch(t){console.log(t)}},sort(){const{type:t,field:e}=this.sortV;this.products.sort(((s,a)=>1==t?parseFloat(s[e])-parseFloat(a[e]):-1==t?parseFloat(a[e])-parseInt(s[e]):void("type"==e?this.products.filter((e=>e.type==t)):this.getproduct())))}},mounted(){this.getproduct()}};const on=(0,ft.Z)(ln,[["render",fi]]);var rn=on;const cn={class:"cart container mb-5"},dn=(0,i._)("h3",{class:"text-uppercase fs-3 my-3 text-primary"},"Giỏ hàng",-1),hn={class:"row"};function pn(t,e,s,a,n,l){const o=(0,i.up)("cartItem");return(0,i.wg)(),(0,i.iD)("div",cn,[dn,(0,i._)("div",hn,[(0,i.Wm)(o)])])}const un=t=>((0,i.dD)("data-v-250b0d02"),t=t(),(0,i.Cn)(),t),mn=un((()=>(0,i._)("div",{class:"modal-success text-success"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Đặt hàng thành công")],-1))),gn=[mn],yn=un((()=>(0,i._)("div",{class:"modal-success text-success"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán thành công")],-1))),fn=[yn],vn=un((()=>(0,i._)("div",{class:"modal-success text-danger"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán không thành công")],-1))),_n=[vn],wn={class:"d-flex"},bn=un((()=>(0,i._)("div",{class:"d-flex"},[(0,i._)("span",{class:"text-warning fst-italic"},"Chọn 1 trong 2 hình thức trên")],-1))),kn={class:"row"},Cn={class:"col-lg-9"},xn={class:"cart-item"},Sn={class:"w-100"},Dn={class:"row"},Tn=un((()=>(0,i._)("th",{class:"col-2"},"Hình ảnh",-1))),Pn=un((()=>(0,i._)("th",{class:"col-3"},"Tên sản phẩm",-1))),In=un((()=>(0,i._)("th",{class:"col"},"Đơn giá",-1))),An=un((()=>(0,i._)("th",{class:"col-2"},"Số lượng",-1))),Un=un((()=>(0,i._)("th",{class:"col"},"Thành tiền",-1))),qn=un((()=>(0,i._)("th",{class:"col-1"},"Xóa",-1))),Nn={class:"col-1"},zn={class:"col-2 cart-item-img"},Fn=["src"],On={class:"col-3"},Mn={class:"col"},Vn={class:"cart-item-quantity"},En=["onClick"],$n=["onClick"],Bn={key:0},Rn={class:"text-danger valid-input"},Hn={class:"col text-danger"},Yn={class:"col-1 cart-item-delete"},Kn=["onClick"],Ln={class:"col-1 cart-item-delete"},Zn=["onClick"],jn={class:"col-lg-3"},Qn={class:"cart-pay"},Gn=un((()=>(0,i._)("h3",{class:"text-start text-uppercase"},"thanh toán",-1))),Wn={class:"row mt-5 text-start fs-5"},Jn=un((()=>(0,i._)("span",{class:"col-6"},"Tạm tính:",-1))),Xn={class:"col-6 text-danger"},tl={class:"row mt-2"},el=un((()=>(0,i._)("button",{class:"col-lg-4 btn cart-btn-buy me-3 ms-1"},"Mua thêm",-1))),sl={class:"d-flex mt-3"};function al(t,e,s,a,l,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.orderSuccess?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"overlay",onClick:e[0]||(e[0]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},gn)):(0,i.kq)("",!0),l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[1]||(e[1]=(...t)=>o.closeSuccess2&&o.closeSuccess2(...t))},fn)):(0,i.kq)("",!0),0==l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"overlay",onClick:e[2]||(e[2]=(...t)=>o.closeSuccess2&&o.closeSuccess2(...t))},_n)):(0,i.kq)("",!0),(0,i._)("div",wn,[(0,i._)("button",{onClick:e[3]||(e[3]=t=>o.handelBuy()),class:(0,n.C_)(["btn btn-secondary me-3",{"btn-danger":"Buy"==l.typeOrder}])},"Mua máy",2),(0,i._)("button",{onClick:e[4]||(e[4]=t=>o.handelRental()),type:"button",class:(0,n.C_)(["btn btn-secondary",{"btn-danger":"Rental"==l.typeOrder}])},"Thuê máy",2)]),bn,(0,i._)("div",kn,[(0,i._)("div",Cn,[(0,i._)("div",xn,[(0,i._)("table",Sn,[(0,i._)("thead",null,[(0,i._)("tr",Dn,[Tn,Pn,In,An,Un,qn,(0,i._)("th",Nn,[l.cartList.length>0?((0,i.wg)(),(0,i.iD)("input",{key:0,class:"cart-item-checkbox",type:"checkbox",name:"",id:"",ref:"checkAll",onClick:e[5]||(e[5]=(...t)=>o.checkAll&&o.checkAll(...t))},null,512)):(0,i.kq)("",!0)])])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.cartList,(t=>((0,i.wg)(),(0,i.iD)("tr",{key:t._id,class:"row"},[(0,i._)("td",zn,[(0,i._)("img",{src:"http://localhost:3000"+t.image,alt:""},null,8,Fn)]),(0,i._)("td",On,(0,n.zw)(t.name),1),(0,i._)("td",Mn,(0,n.zw)("Buy"==l.typeOrder?o.formatPrice(t?.priceSale):o.formatPrice(t?.priceRental)),1),(0,i._)("td",{class:(0,n.C_)(["col-2",{"d-flex justify-content-center flex-column":t.validInput}])},[(0,i._)("div",Vn,[(0,i._)("i",{class:"fa-solid fa-minus",onClick:e=>o.reduceQuantity(t._id)},null,8,En),(0,i._)("span",null,(0,n.zw)(t.quantityCart),1),(0,i._)("i",{class:"fa-solid fa-plus",onClick:e=>o.increaseQuantity(t._id)},null,8,$n)]),t.validInput?((0,i.wg)(),(0,i.iD)("div",Bn,[(0,i._)("span",Rn,(0,n.zw)(t.validInput),1)])):(0,i.kq)("",!0)],2),(0,i._)("td",Hn,(0,n.zw)("Buy"==l.typeOrder?o.formatPrice(t.quantityCart*t.priceSale):o.formatPrice(t.quantityCart*t.priceRental)),1),(0,i._)("td",Yn,[(0,i._)("i",{class:"fa-solid fa-trash",onClick:e=>o.deleteCart(t._id)},null,8,Kn)]),(0,i._)("td",Ln,[(0,i._)("input",{class:"cart-item-checkbox",ref_for:!0,ref:"checkProduct",type:"checkbox",onClick:e=>o.selectProduct(e,t)},null,8,Zn)])])))),128))])])])]),(0,i._)("div",jn,[(0,i._)("div",Qn,[Gn,(0,i._)("div",Wn,[Jn,(0,i._)("span",Xn,(0,n.zw)(o.formatPrice(o.total())),1)]),(0,i._)("div",tl,[el,(0,i._)("button",{class:"col-lg-7 btn cart-btn-order",onClick:e[6]||(e[6]=(...t)=>o.order&&o.order(...t))},"Đặt hàng")])])])]),(0,i._)("div",sl,[(0,i.Wm)(r,{to:"/order-history",class:"btn btn-info"},{default:(0,i.w5)((()=>[(0,i.Uk)("Xem các đơn hàng đã mua")])),_:1})])],64)}s(6229),s(7330),s(2062);var il={data(){return{cartList:[],totalAmount:0,productsOrder:[],orderSuccess:!1,paymentSuccess:null,typeOrder:"Buy"}},methods:{closeSuccess(){this.$router.push("/cart"),this.orderSuccess=!1},isOrderSuccess(){const t=new URLSearchParams(window.location.search);"true"===t.get("order")?this.orderSuccess=!0:"false"===t.get("order")&&(this.orderSuccess=!1)},closeSuccess2(){this.$router.push("/cart"),this.paymentSuccess=null},isPaymentSuccess(){const t=new URLSearchParams(window.location.search);"true"===t.get("success")?this.paymentSuccess=!0:"false"===t.get("success")&&(this.paymentSuccess=!1)},async getItemToCart(){this.cartList=[];const t=JSON.parse(sessionStorage.getItem("user"))?.user||{};if(Object.keys(t).length<=0){if(this.$cookies.isKey("cart")){const t=this.$cookies.get("cart");t.forEach((async t=>{let e;e="accessory"==t.typeProduct?await _i.getById(t.id):await I.getProductById(t.id),e.data.inputQuantity<t.quantityCart?this.cartList.push({quantityCart:t.quantityCart,typeProduct:t.typeProduct,...e.data,validInput:`Số lượng trong kho không đủ (${e.data.inputQuantity})`}):this.cartList.push({quantityCart:t.quantityCart,typeProduct:t.typeProduct,...e.data})}))}}else{const e=await gt.Z.getByUserId(t._id),s=e.data?.products||[];s.forEach((async t=>{let e;e="accessory"==t.typeProduct?await _i.getById(t.id):await I.getProductById(t.id),e.data.inputQuantity<t.quantityCart?this.cartList.push({quantityCart:t.quantityCart,typeProduct:t.typeProduct,...e.data,validInput:`Số lượng trong kho không đủ (${e.data.inputQuantity})`}):this.cartList.push({quantityCart:t.quantityCart,typeProduct:t.typeProduct,...e.data})}))}},async changeItemCarrt(t,e){this.cartList[t]=e},formatPrice(t){return mt.formatCurrency(t)},async deleteCart(t){const e=JSON.parse(sessionStorage.getItem("user"))?.user||{};if(Object.keys(e).length<=0){const e=this.$cookies.get("cart"),s=e.findIndex((e=>e.id===t)),a=this.cartList.findIndex((e=>e._id===t));-1!==s&&e.splice(s,1),this.$cookies.set("cart",JSON.stringify(e)),-1!==a&&this.cartList.splice(a,1),this.$store.commit("addToCart")}else{const s=await gt.Z.getByUserId(e._id),a=s.data?.products||[],i=a.findIndex((e=>e.id===t)),n=this.cartList.findIndex((e=>e._id===t));-1!==i&&a.splice(i,1);const l=await gt.Z.update(e._id,{products:a});this.$store.commit("addToCart",a),-1!==n&&l.data.status&&this.cartList.splice(n,1)}const s=this.productsOrder.findIndex((e=>e._id==t));this.productsOrder.splice(s,1),this.cartList.length<=0&&(this.$refs.checkAll.checked=!1)},async increaseQuantity(t){const e=JSON.parse(sessionStorage.getItem("user"))?.user||{};if(Object.keys(e).length<=0){const e=this.$cookies.get("cart"),s=e.findIndex((e=>e.id===t)),a=this.cartList.findIndex((e=>e._id===t));e[s].quantityCart+=1,this.cartList[a].inputQuantity<e[s].quantityCart&&(this.cartList[a].validInput=`Số lượng trong kho không đủ (${this.cartList[a].inputQuantity})`),this.$cookies.set("cart",JSON.stringify(e)),this.cartList[a].quantityCart=e[s].quantityCart}else{const s=await gt.Z.getByUserId(e._id),a=s.data?.products||[],i=a.findIndex((e=>e.id===t)),n=this.cartList.findIndex((e=>e._id===t));a[i].quantityCart+=1,this.cartList[n].inputQuantity<a[i].quantityCart&&(this.cartList[n].validInput=`Số lượng trong kho không đủ (${this.cartList[n].inputQuantity})`);const l=await gt.Z.update(e._id,{products:a});l.data.status&&(this.cartList[n].quantityCart=a[i].quantityCart)}},async reduceQuantity(t){const e=JSON.parse(sessionStorage.getItem("user"))?.user||{};if(Object.keys(e).length<=0){const e=this.$cookies.get("cart"),s=e.findIndex((e=>e.id===t)),a=this.cartList.findIndex((e=>e._id===t));if(e[s].quantityCart-=1,e[s].quantityCart<=0)return void await this.deleteCart(t);this.cartList[a].inputQuantity>=e[s].quantityCart&&(this.cartList[a].validInput=""),this.$cookies.set("cart",JSON.stringify(e)),this.cartList[a].quantityCart=e[s].quantityCart}else{const s=await gt.Z.getByUserId(e._id),a=s.data?.products||[],i=a?.findIndex((e=>e.id===t)),n=this.cartList?.findIndex((e=>e._id===t));if(a[i].quantityCart-=1,a[i].quantityCart<=0)return void await this.deleteCart(t);this.cartList[n].inputQuantity>=a[i].quantityCart&&(this.cartList[n].validInput="");const l=await gt.Z.update(e._id,{products:a});l.data.status&&(this.cartList[n].quantityCart=a[i].quantityCart)}},total(){let t=0;return"Buy"==this.typeOrder?this.productsOrder?.forEach((e=>{t+=e.quantityCart*e.priceSale})):this.productsOrder?.forEach((e=>{t+=e.quantityCart*e.priceRental})),t},selectProduct(t,e){const s=this.$refs.checkProduct;if(s.every((t=>1==t.checked))?this.$refs.checkAll.checked=!0:this.$refs.checkAll.checked=!1,t.target.checked)this.productsOrder.push(e);else{const t=this.productsOrder.findIndex((t=>t._id==e._id));this.productsOrder.splice(t,1)}},checkAll(){const t=this.$refs.checkProduct;this.$refs.checkAll.checked?(t.forEach((t=>t.checked=!0)),this.cartList.forEach((t=>this.productsOrder.push(t)))):(t.forEach((t=>t.checked=!1)),this.productsOrder=[])},order(){if(this.productsOrder.length<=0)return void alert("Bạn chưa chọn sản phẩm nào");const t=this.productsOrder.some((t=>t.quantityCart>t.inputQuantity));t?alert("Bạn đang chọn sản phẩm không đủ số lượng"):(localStorage.setItem("order",JSON.stringify(this.productsOrder)),this.$router.push({name:"order",params:{typeOrder:this.typeOrder.toString()}}))},handelRental(){this.cartList=this.cartList.filter((t=>"accessory"!=t.typeProduct)),this.typeOrder="Rental"},async handelBuy(){await this.getItemToCart(),this.typeOrder="Buy"}},mounted(){this.getItemToCart(),this.isPaymentSuccess(),this.isOrderSuccess()}};const nl=(0,ft.Z)(il,[["render",al],["__scopeId","data-v-250b0d02"]]);var ll=nl,ol={components:{cartItem:ll}};const rl=(0,ft.Z)(ol,[["render",pn]]);var cl=rl;const dl=(0,i._)("h3",{class:"text-uppercase text-primary mt-2"},"Thanh toán đơn hàng",-1);function hl(t,e,s,a,n,l){const o=(0,i.up)("orderItem");return(0,i.wg)(),(0,i.iD)(i.HY,null,[dl,(0,i.Wm)(o,{typeOrder:s.typeOrder},null,8,["typeOrder"])],64)}const pl=t=>((0,i.dD)("data-v-663e11a3"),t=t(),(0,i.Cn)(),t),ul={key:0,class:"overlay"},ml=pl((()=>(0,i._)("div",{class:"loading-order"},[(0,i._)("div",{class:"spinner-border text-info",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")])],-1))),gl=[ml],yl={key:1,class:"overlay"},fl={class:"d-flex justify-content-end"},vl=pl((()=>(0,i._)("h3",{class:"text-uppercase"},"Xác nhận đơn hàng",-1))),_l={key:0,class:"text-warning fst-italic mb-3 d-block"},wl={key:1,class:"text-danger fst-italic mb-3 d-block"},bl={class:"spe-group"},kl={key:0,class:"text-danger text-start"},Cl=pl((()=>(0,i._)("button",{class:"btn btn-success px-5 my-2"},"Xác nhận",-1))),xl={class:"row"},Sl={class:"col-lg-5 me-5"},Dl=pl((()=>(0,i._)("h4",{class:"text-start text-uppercase"},"Thông tin khách hàng",-1))),Tl=pl((()=>(0,i._)("span",{class:"text-start d-block mb-1 text-warning"},"Thông tin có dấu * là bắt buộc nhập",-1))),Pl={class:"spe-group"},Il=pl((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên khách hàng "),(0,i._)("span",{class:"text-danger"},"*")],-1))),Al={class:"spe-group"},Ul=pl((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại "),(0,i._)("span",{class:"text-danger"},"*")],-1))),ql={class:"spe-group"},Nl=pl((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Email "),(0,i._)("span",{class:"text-danger"},"*")],-1))),zl={class:"spe-group"},Fl=pl((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ "),(0,i._)("span",{class:"text-danger"},"*")],-1))),Ol={class:"spe-group"},Ml=pl((()=>(0,i._)("label",{for:""},"Ghi chú",-1))),Vl={class:"col-lg-6"},El=pl((()=>(0,i._)("h4",{class:"text-start text-uppercase"},"Đơn hàng của bạn",-1))),$l=pl((()=>(0,i._)("div",{class:"row text-start lable"},[(0,i._)("div",{class:"col-lg-8"},"sản phẩm"),(0,i._)("div",{class:"col-lg-4 text-end"},"Tạm tính")],-1))),Bl={class:"scroll"},Rl={class:"col-lg-8"},Hl={class:"col-lg-4 text-end"},Yl={key:0,class:"row"},Kl={class:"spe-group"},Ll=pl((()=>(0,i._)("label",{for:""},"Số tháng thuê",-1))),Zl={class:"spe-group"},jl=pl((()=>(0,i._)("label",{for:""},"Hình thức thanh toán",-1))),Ql=pl((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn cách thanh toán ---",-1))),Gl=pl((()=>(0,i._)("option",{value:!0,class:"form-option"},"Thanh toán toàn bộ",-1))),Wl=pl((()=>(0,i._)("option",{value:!1,class:"form-option"},"Thanh toán theo tháng",-1))),Jl=[Ql,Gl,Wl],Xl={class:"row text-start pay"},to=pl((()=>(0,i._)("div",{class:"col-lg-8"},"Tổng tiền sản phẩm",-1))),eo={class:"col-lg-4 text-end"},so={key:1,class:"row text-start pay"},ao=pl((()=>(0,i._)("div",{class:"col-lg-8"},"Phí vận chuyển 1%",-1))),io={class:"col-lg-4 text-end"},no={class:"row text-start pay"},lo=pl((()=>(0,i._)("div",{class:"col-lg-8"},"Tổng cộng",-1))),oo={class:"col-lg-4 text-end"},ro={key:2,class:"row text-start pay"},co=pl((()=>(0,i._)("div",{class:"col-lg-8"},"Số tiền phải thanh toán",-1))),ho={class:"col-lg-4 text-end"},po={class:"row mt-4"},uo=pl((()=>(0,i._)("h4",{class:"text-start text-uppercase"},"Phương thức thanh toán",-1))),mo={class:"col-lg-4"},go=pl((()=>(0,i._)("img",{src:"https://s3-ap-southeast-1.amazonaws.com/pharmacity-ecm-asm-dev/payment-method/cash.webp",alt:""},null,-1))),yo=pl((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"Tiền mặt"),(0,i._)("span",null,"Thanh toán khi nhận hàng")],-1))),fo=pl((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),vo=[go,yo,fo],_o={class:"col-lg-4"},wo=pl((()=>(0,i._)("img",{src:"https://vnpay.vn/s1/statics.vnpay.vn/2023/9/06ncktiwd6dc1694418196384.png",alt:""},null,-1))),bo=pl((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"VNPay"),(0,i._)("span",null,"Thanh toán qua ví VNPay")],-1))),ko=pl((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),Co=[wo,bo,ko],xo={class:"col-lg-4"},So=pl((()=>(0,i._)("img",{src:"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png",alt:""},null,-1))),Do=pl((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"MOMO"),(0,i._)("span",null,"Quét mã QR momo")],-1))),To=pl((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),Po=[So,Do,To],Io=pl((()=>(0,i._)("div",{class:"btn-container"},[(0,i._)("button",{class:"btn-order"},"Đặt hàng")],-1)));function Ao(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.isLoading?((0,i.wg)(),(0,i.iD)("div",ul,gl)):(0,i.kq)("",!0),l.isConfirm?((0,i.wg)(),(0,i.iD)("div",yl,[(0,i._)("form",{action:"",class:"form-confirm-order",onSubmit:e[3]||(e[3]=(0,A.iM)((t=>o.confirm()),["prevent","stop"]))},[(0,i._)("div",fl,[(0,i._)("i",{class:"fa-solid fa-xmark fs-2 text-danger",onClick:e[0]||(e[0]=t=>l.isConfirm=!1)})]),vl,l.errorMes?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",_l,"Nhập mã 6 số được gửi tới email của bạn")),l.errorMes?((0,i.wg)(),(0,i.iD)("span",wl,(0,n.zw)(l.errorMes),1)):(0,i.kq)("",!0),(0,i._)("div",bl,[(0,i.wy)((0,i._)("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>l.code=t),placeholder:"Nhập mã gồm 6 số",required:""},null,512),[[A.nr,l.code]]),l.validCode?((0,i.wg)(),(0,i.iD)("span",kl,(0,n.zw)(l.validCode),1)):(0,i.kq)("",!0)]),Cl,(0,i._)("span",{class:"d-block text-primary btn",onClick:e[2]||(e[2]=t=>o.sendMail())},"Gửi lại mã")],32)])):(0,i.kq)("",!0),(0,i._)("form",{class:"container mb-5",onSubmit:e[16]||(e[16]=(0,A.iM)((t=>o.sendMail()),["prevent","stop"]))},[(0,i._)("div",xl,[(0,i._)("div",Sl,[Dl,Tl,(0,i._)("div",Pl,[Il,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.customer.fullName=t),type:"text",name:"",id:"",placeholder:"Họ và tên",required:""},null,512),[[A.nr,l.customer.fullName]])]),(0,i._)("div",Al,[Ul,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.customer.phone=t),type:"text",name:"",id:"",placeholder:"Số điện thoại",required:""},null,512),[[A.nr,l.customer.phone]]),l.valid.phone?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.phone})},(0,n.zw)(l.valid.phone),3)):(0,i.kq)("",!0)]),(0,i._)("div",ql,[Nl,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.customer.email=t),type:"email",name:"",id:"",placeholder:"Địa chỉ email",required:""},null,512),[[A.nr,l.customer.email]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.email})},(0,n.zw)(l.valid.email),3)):(0,i.kq)("",!0)]),(0,i._)("div",zl,[Fl,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.customer.address=t),type:"text",name:"",id:"",placeholder:"Địa chỉ ghi rõ số nhà phường/xã, quận/huyện, tỉnh/thành phố",required:""},null,512),[[A.nr,l.customer.address]])]),(0,i._)("div",Ol,[Ml,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.note=t),name:"",id:"",class:"note",rows:"5",placeholder:"Ghi chú về đơn hàng ví dụ: chi tiết địa chỉ, đóng gói"},null,512),[[A.nr,l.note]])])]),(0,i._)("div",Vl,[El,$l,(0,i._)("div",Bl,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.orderData,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"row text-start content",key:t._id},[(0,i._)("div",Rl,(0,n.zw)(t?.name+" x "+t?.quantityCart),1),(0,i._)("div",Hl,(0,n.zw)("Buy"==s.typeOrder?o.formatPrice(t?.priceSale*t?.quantityCart):o.formatPrice(t?.priceRental*t?.quantityCart)),1)])))),128))]),"Rental"==s.typeOrder?((0,i.wg)(),(0,i.iD)("div",Yl,[(0,i._)("div",Kl,[Ll,(0,i.wy)((0,i._)("input",{class:"mt-1","onUpdate:modelValue":e[9]||(e[9]=t=>l.quantityMonth=t),onKeyup:e[10]||(e[10]=t=>o.checkQuantityMonth(t)),required:"",type:"number",placeholder:"Nhập số tháng thuê"},null,544),[[A.nr,l.quantityMonth]])]),(0,i._)("div",Zl,[jl,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.payinfull=t),class:"form-select",onChange:e[12]||(e[12]=(...t)=>o.totalProduct&&o.totalProduct(...t))},Jl,544),[[A.bM,l.payinfull]])])])):(0,i.kq)("",!0),(0,i._)("div",Xl,[to,(0,i._)("div",eo,(0,n.zw)(o.formatPrice(l.totalCostOfProducts)),1)]),"Buy"==s.typeOrder?((0,i.wg)(),(0,i.iD)("div",so,[ao,(0,i._)("div",io,(0,n.zw)(o.formatPrice(l.transportFee)),1)])):(0,i.kq)("",!0),(0,i._)("div",no,[lo,(0,i._)("div",oo,(0,n.zw)(o.formatPrice(l.totalAmount)),1)]),"Rental"==s.typeOrder?((0,i.wg)(),(0,i.iD)("div",ro,[co,(0,i._)("div",ho,(0,n.zw)(o.formatPrice(l.pricePayed)),1)])):(0,i.kq)("",!0)])]),(0,i._)("div",po,[uo,(0,i._)("div",mo,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassCod,"payment-error":l.choosePayent},"payment"]),onClick:e[13]||(e[13]=t=>o.paymentMeThod("COD"))},vo,2)]),(0,i._)("div",_o,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassOnlVNPAY,"payment-error":l.choosePayent},"payment"]),onClick:e[14]||(e[14]=t=>o.paymentMeThod("VNPAY"))},Co,2)]),(0,i._)("div",xo,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassOnlMOMO,"payment-error":l.choosePayent},"payment"]),onClick:e[15]||(e[15]=t=>o.paymentMeThod("MOMO"))},Po,2)])]),Io],32)],64)}class Uo{constructor(t="http://localhost:3000/customer"){this.api=(0,T.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async getById(t){return this.api.get(`/find/?id=${t}`)}async update(t,e){return this.api.post(`/update/?id=${t}`,e)}}var qo=new Uo;class No{constructor(t="http://localhost:3000/order"){this.api=(0,T.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async paymentVNPAY(t,e){return await this.api.post(`/create_payment_url/?url=${t}`,e)}async paymentMOMO(t,e){return await this.api.post(`/pay-momo/?url=${t}`,e)}async getById(t){return await this.api.get(`/find/?id=${t}`)}async search(t){return await this.api.post("/search/",t)}async sendMail(t){return await this.api.post("/sendMail/",t)}async confirm(t){return await this.api.post("/confirm/",t)}async update(t,e){return this.api.post(`/update/?id=${t}`,e)}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}}var zo=new No;class Fo{constructor(t="http://localhost:3000/rental"){this.api=(0,T.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async paymentVNPAY(t,e){return await this.api.post(`/create_payment_url/?url=${t}`,e)}async paymentMOMO(t,e){return await this.api.post(`/pay-momo/?url=${t}`,e)}async getById(t){return await this.api.get(`/find/?id=${t}`)}async updateByCod(t){return await this.api.get(`/update-cod/?id=${t}`)}async search(t){return await this.api.post("/search/",t)}async update(t,e){return this.api.post(`/update/?id=${t}`,e)}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}}var Oo=new Fo,Mo={data(){return{orderData:[],paymentMethod:"",isClassCod:!1,isClassOnlVNPAY:!1,isClassOnlMOMO:!1,choosePayent:!1,transportFee:0,totalCostOfProducts:0,totalAmount:0,valid:{},isSubmit:!1,customer:{},note:"",payinfull:"",pricePayed:0,quantityMonth:null,isConfirm:!1,code:"",errorMes:"",validCode:"",isLoading:!1}},watch:{quantityMonth(){""!=this.payinfull.toString()&&this.totalProduct()}},props:["typeOrder"],methods:{formatPrice(t){return mt.formatCurrency(t)},totalProduct(){this.totalAmount=0,this.transportFee=0,this.totalCostOfProducts=0,this.orderData.forEach((t=>{t.priceSale&&t.quantityCart&&("Buy"==this.typeOrder?this.totalCostOfProducts+=t.priceSale*t.quantityCart||0:this.totalCostOfProducts+=t.priceRental*t.quantityCart*this.quantityMonth||0)})),this.transportFee="Buy"==this.typeOrder?Math.ceil(.01*this.totalCostOfProducts):0,this.totalAmount=this.transportFee+this.totalCostOfProducts||0,this.payinfull?this.pricePayed=this.totalAmount:0==this.payinfull&&(this.pricePayed=this.quantityMonth?Math.ceil(this.totalAmount/this.quantityMonth):0)},validateForm(t){const e=/^[0-9]+$/,s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;!e.test(t.phone)||t.phone.length<10?this.valid.phone="Số điện thoại không hợp lệ":this.valid.phone=void 0,!s.test(t.email)||t.email.length<10?this.valid.email="Email không hợp lệ":this.valid.email=void 0;let a=!1;const i=Object.values(this.valid);for(let n=0;n<i.length;n++){if(void 0!==i[n]){a=!1;break}a=!0}return a},async paymentMeThod(t){this.choosePayent=!1,"COD"==t?(this.isClassCod=!this.isClassCod,this.isClassCod?(this.paymentMethod="COD",this.isClassOnlVNPAY=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"VNPAY"==t?(this.isClassOnlVNPAY=!this.isClassOnlVNPAY,this.isClassOnlVNPAY?(this.paymentMethod="VNPAY",this.isClassCod=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"MOMO"==t&&(this.isClassOnlMOMO=!this.isClassOnlMOMO,this.isClassOnlMOMO?(this.paymentMethod="MOMO",this.isClassCod=!1,this.isClassOnlVNPAY=!1):this.paymentMethod="")},async addRental(){try{const t=[];this.orderData.forEach((e=>{t.unshift({productId:e._id,nameProduct:e.name,priceRental:e.priceRental,priceImport:e.priceImport,quantity:e.quantityCart})}));const e=JSON.parse(sessionStorage.getItem("user")),s=e?.user?e?.user:{};""==this.paymentMethod?(this.isSubmit=!1,this.choosePayent=!0):this.isSubmit=!0;const a=this.validateForm(this.customer);let i;if(!a)return void(this.isSubmit=!1);i=await qo.create(this.customer);const n={createBy:Object.keys(s).length>0?s._id:null,customerId:i.data.result._id,address:i.data.result.address,phone:i.data.result.phone,email:i.data.result.email||"",nameCustomer:i.data.result.fullName,products:[...t],totalCostOfProducts:this.totalCostOfProducts,paymentMethod:this.paymentMethod,totalAmount:this.totalAmount,priceMonth:Math.ceil(this.totalAmount/this.quantityMonth),payInFull:this.payinfull,note:this.note,quantityMonth:this.quantityMonth,IsOnlineOrder:!0};if(this.isSubmit)if("VNPAY"==this.paymentMethod){const t=await Oo.create(n),e=t.data.data;if(t.data.status){const t=await Oo.paymentVNPAY("cart",{totalAmount:e.totalAmount,orderId:e._id});window.location.href=t.data}}else if("MOMO"==this.paymentMethod){const t=await Oo.create(n),e=t.data.data;if(t.data.status){const t=await Oo.paymentMOMO("cart",{totalAmount:e.totalAmount,orderId:e._id});window.location.href=t.data}}else{const t=await Oo.create(n);t.data.status?(this.products=[],this.accessorys=[],this.product={},this.ordersProducts=[{typeProduct:"",idProduct:"",quantity:0,priceSale:0}],this.customerId="",this.isSubmit=!0,this.isClassCod=!1,this.isClassOnl=!1,this.note="",this.customer={},this.$router.push("/cart/?order=true")):alert(t.data.mes)}else alert("Kiểm tra lại dữ liệu đã nhập")}catch(t){console.log(t)}},async sendMail(){try{const t=this.validateForm(this.customer);if(""==this.paymentMethod?(this.isSubmit=!1,this.choosePayent=!0):this.isSubmit=!0,t&&this.isSubmit){this.isConfirm=!1,this.isLoading=!0;const t=await zo.sendMail({email:this.customer.email});this.isLoading=!1,this.isConfirm=!0,t.data.status&&(this.isConfirm=!0,this.code="")}}catch(t){console.log(t)}},validateCode(){return!(this.code.length>=7)||(this.validCode="Mã chỉ gồm 6 ký tự",!1)},async confirm(){try{const t=this.validateCode();if(t){const t=await zo.confirm({code:this.code,email:this.customer.email});t.data.status?"Buy"==this.typeOrder?await this.addOrder():await this.addRental():this.errorMes=t.data.mes}}catch(t){console.log(t)}},async addOrder(){try{const t=[];this.orderData.forEach((e=>{t.unshift({productId:e._id,nameProduct:e.name,priceSale:e.priceSale,priceImport:e.priceImport,warrantyTime:e.warrantyTime,typeProduct:e.typeProduct,quantity:e.quantityCart})}));const e=JSON.parse(sessionStorage.getItem("user")),s=e?.user?e?.user:{};""==this.paymentMethod?(this.isSubmit=!1,this.choosePayent=!0):this.isSubmit=!0;const a=this.validateForm(this.customer);let i;if(!a)return void(this.isSubmit=!1);i=await qo.create(this.customer);const n={createBy:Object.keys(s).length>0?s._id:null,customerId:i.data.result._id,address:i.data.result.address,phone:i.data.result.phone,email:i.data.result.email||"",nameCustomer:i.data.result.fullName,products:t,totalCostOfProducts:this.totalCostOfProducts,paymentMethod:this.paymentMethod,transportFee:this.transportFee,totalAmount:this.totalAmount,note:this.note,pricePayed:0,IsOnlineOrder:!0};if(this.isSubmit)if("VNPAY"==this.paymentMethod){const t=await zo.create(n),e=t.data.data;if(t.data.status){const t=await zo.paymentVNPAY("cart",{totalAmount:e.totalAmount,orderId:e._id});window.location.href=t.data}}else if("MOMO"==this.paymentMethod){const t=await zo.create(n),e=t.data.data;if(t.data.status){const t=await zo.paymentMOMO("cart",{totalAmount:e.totalAmount,orderId:e._id});window.location.href=t.data}}else{const t=await zo.create(n);t.data.status?(this.products=[],this.accessorys=[],this.product={},this.ordersProducts=[{typeProduct:"",idProduct:"",quantity:0,priceSale:0}],this.customerId="",this.isSubmit=!0,this.isClassCod=!1,this.isClassOnl=!1,this.note="",this.customer={},this.$router.push("/cart/?order=true")):alert(t.data.mes)}else alert("Kiểm tra lại dữ liệu đã nhập")}catch(t){console.log(t)}},checkQuantityMonth(t){t.target.value<=0?(t.target.style.borderColor="red",this.isSubmit=!1):(t.target.style.borderColor="#0E8388",this.isSubmit=!0)}},mounted(){const t=JSON.parse(sessionStorage.getItem("user"))?.user||{};Object.keys(t).length>0&&(this.customer={fullName:t.fullName,email:t.email,phone:t.phoneNumber}),this.orderData=JSON.parse(localStorage.getItem("order")),this.totalProduct()}};const Vo=(0,ft.Z)(Mo,[["render",Ao],["__scopeId","data-v-663e11a3"]]);var Eo=Vo,$o={components:{orderItem:Eo},props:["typeOrder"]};const Bo=(0,ft.Z)($o,[["render",hl]]);var Ro=Bo;const Ho=t=>((0,i.dD)("data-v-3b013753"),t=t(),(0,i.Cn)(),t),Yo=Ho((()=>(0,i._)("h3",{class:"text-uppercase text-primary mt-2"},"Các đơn hàng đã mua",-1))),Ko={class:"order-history container"},Lo={class:"search-order"},Zo={key:0,class:"row status-order mt-2"},jo=["onClick"],Qo={class:"btn btn-outline-danger"},Go={key:1,class:"row status-order mt-2"},Wo=["onClick"],Jo={class:"btn btn-outline-danger"},Xo={class:"d-flex"},tr={class:"table"},er=Ho((()=>(0,i._)("thead",null,[(0,i._)("tr",{class:"row"},[(0,i._)("th",{class:"col-1"},"STT"),(0,i._)("th",{class:"col"},"Mã đơn hàng"),(0,i._)("th",{class:"col"},"Trạng thái"),(0,i._)("th",{class:"col"},"Thanh toán"),(0,i._)("th",{class:"col"},"Ngày mua"),(0,i._)("th",{class:"col"},"Xem chi tiết")])],-1))),sr={key:0},ar={class:"col-1"},ir={class:"col"},nr={class:"col"},lr={class:"col"},or={class:"col"},rr={class:"col"},cr=Ho((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1))),dr={key:1},hr={class:"col-1"},pr={class:"col"},ur={class:"col"},mr={class:"col"},gr={class:"col"},yr={class:"col"},fr=Ho((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1)));function vr(t,e,s,a,l,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[Yo,(0,i._)("div",Ko,[(0,i._)("div",Lo,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>l.phone=t),type:"text",placeholder:"Nhập số điện thoại để tra cứu",required:""},null,512),[[A.nr,l.phone]]),(0,i._)("button",{onClick:e[1]||(e[1]=(...t)=>o.search&&o.search(...t))},"Tìm kiếm")]),"Buy"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",Zo,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.statusOrder,(t=>((0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["col",{"status-order-active":l.statusActive==t}]),key:t},[(0,i._)("span",{class:"quantity-status",onClick:e=>o.filter(t)},[(0,i.Uk)((0,n.zw)(t)+" ",1),(0,i._)("span",Qo,(0,n.zw)("Tất cả"==t?l.orders.length:l.orders.filter((e=>e.status==t)).length),1)],8,jo)],2)))),128))])):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",Go,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.statusRental,(t=>((0,i.wg)(),(0,i.iD)("div",{class:(0,n.C_)(["col",{"status-order-active":l.statusActive==t}]),key:t},[(0,i._)("span",{class:"quantity-status",onClick:e=>o.filter(t)},[(0,i.Uk)((0,n.zw)(t)+" ",1),(0,i._)("span",Jo,(0,n.zw)("Tất cả"==t?l.rentals.length:l.rentals.filter((e=>e.status==t)).length),1)],8,Wo)],2)))),128))])):(0,i.kq)("",!0),(0,i._)("div",Xo,[(0,i._)("button",{onClick:e[2]||(e[2]=t=>l.typeOrder="Buy"),class:(0,n.C_)(["btn btn-secondary me-3",{"btn-danger":"Buy"==l.typeOrder}])},"Mua máy",2),(0,i._)("button",{onClick:e[3]||(e[3]=t=>l.typeOrder="Rental"),type:"button",class:(0,n.C_)(["btn btn-secondary",{"btn-danger":"Rental"==l.typeOrder}])},"Thuê máy",2)]),(0,i._)("table",tr,[er,"Buy"==l.typeOrder?((0,i.wg)(),(0,i.iD)("tbody",sr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.orders,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row",key:t._id},[(0,i._)("td",ar,(0,n.zw)(e+1),1),(0,i._)("td",ir,(0,n.zw)(t._id),1),(0,i._)("td",nr,(0,n.zw)(t.status),1),(0,i._)("td",lr,(0,n.zw)(t.isPayment?"Đã thanh toán":"Chưa thanh toán"),1),(0,i._)("td",or,(0,n.zw)(o.formatDate(t.createdAt)),1),(0,i._)("td",rr,[(0,i.Wm)(r,{to:{name:"order.detail",params:{id:t._id},query:{typeOrder:l.typeOrder}},class:"btn btn-outline-info"},{default:(0,i.w5)((()=>[cr])),_:2},1032,["to"])])])))),128))])):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("tbody",dr,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.rentals,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row",key:t._id},[(0,i._)("td",hr,(0,n.zw)(e+1),1),(0,i._)("td",pr,(0,n.zw)(t._id),1),(0,i._)("td",ur,(0,n.zw)(t.status),1),(0,i._)("td",mr,(0,n.zw)(t.isPayment?"Đã thanh toán":"Chưa thanh toán"),1),(0,i._)("td",gr,(0,n.zw)(o.formatDate(t.createdAt)),1),(0,i._)("td",yr,[(0,i.Wm)(r,{to:{name:"order.detail",params:{id:t._id},query:{typeOrder:l.typeOrder}},class:"btn btn-outline-info"},{default:(0,i.w5)((()=>[fr])),_:2},1032,["to"])])])))),128))])):(0,i.kq)("",!0)])])],64)}var _r={data(){return{user:{},phone:"",statusOrder:["Tất cả","Đang xử lý","Đang vận chuyển","Đã giao hàng","Hủy đơn"],statusRental:["Tất cả","Đang xử lý","Đang vận chuyển","Đã giao hàng","Đang sử dụng","Dừng thuê","Hủy đơn"],statusActive:"Tất cả",orders:[],rentals:[],typeOrder:"Buy"}},methods:{async search(){try{if(Object.keys(this.user)<=0){const t=await zo.search({phone:this.phone}),e=await Oo.search({phone:this.phone});this.orders=t.data,this.rentals=e.data}else{const t=await zo.search({createBy:this.user._id}),e=await Oo.search({createBy:this.user._id});this.orders=t.data,this.rentals=e.data}}catch(t){console.log(t)}},formatDate(t){return mt.formatDate(t)},async filter(t){await this.search(),"Tất cả"!==t&&("Buy"==this.typeOrder?this.orders=this.orders.filter((e=>e.status==t)):this.rentals=this.rentals.filter((e=>e.status==t))),this.statusActive=t}},mounted(){this.user=JSON.parse(sessionStorage.getItem("user"))?.user||{},this.search()}};const wr=(0,ft.Z)(_r,[["render",vr],["__scopeId","data-v-3b013753"]]);var br=wr;const kr=t=>((0,i.dD)("data-v-7ab00133"),t=t(),(0,i.Cn)(),t),Cr=kr((()=>(0,i._)("div",{class:"modal-success text-success"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán thành công")],-1))),xr=[Cr],Sr=kr((()=>(0,i._)("div",{class:"modal-success text-danger"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-xmark"})])]),(0,i._)("h3",{class:""},"Thanh toán không thành công")],-1))),Dr=[Sr],Tr={class:"order-detail mb-5 container"},Pr=kr((()=>(0,i._)("h3",{class:"text-uppercase text-primary mt-2"},"Chi tiết đơn hàng",-1))),Ir={class:"d-flex"},Ar=kr((()=>(0,i._)("i",{class:"fa-solid fa-chevron-left"},null,-1))),Ur=kr((()=>(0,i._)("span",null,"Trở lại",-1))),qr=kr((()=>(0,i._)("hr",null,null,-1))),Nr={key:0,class:"status mt-1"},zr=kr((()=>(0,i._)("h4",{class:"mt-2 mb-4 text-uppecase"},"Trạng thái",-1))),Fr={key:0,class:"status-progress"},Or=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:red;" data-v-7ab00133></div><div class="progress-item" style="--left:8%;" data-v-7ab00133><span style="--border-color:red;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:red;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:80%;" data-v-7ab00133><span style="--border-color:red;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div>',4),Mr=[Or],Vr={key:1,class:"status-progress"},Er=(0,i.uE)('<div class="status-progress-color" style="--left:83%;--colorB:#11e911;" data-v-7ab00133></div><div class="progress-item" style="--left:8%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:80%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div>',4),$r=[Er],Br={key:2,class:"status-progress"},Rr=(0,i.uE)('<div class="status-progress-color" style="--left:48%;--colorB:#11e911;" data-v-7ab00133></div><div class="progress-item" style="--left:8%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:80%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div>',4),Hr=[Rr],Yr={key:3,class:"status-progress"},Kr=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:#11e911;" data-v-7ab00133></div><div class="progress-item" style="--left:8%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:80%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div>',4),Lr=[Kr],Zr={key:1,class:"status mt-1"},jr=kr((()=>(0,i._)("h5",{class:"mt-2 mb-4"},"Trạng thái đơn hàng",-1))),Qr={key:0,class:"status-progress"},Gr=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:red;" data-v-7ab00133></div><div class="progress-item" style="--left:2%;" data-v-7ab00133><span style="--border-color:red;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-7ab00133><span style="--border-color:red;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:red;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-7ab00133><span style="--border-color:red;" data-v-7ab00133>4</span><span data-v-7ab00133>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-7ab00133><span style="--border-color:red;" data-v-7ab00133>5</span><span data-v-7ab00133>Dừng thuê</span></div>',6),Wr=[Gr],Jr={key:1,class:"status-progress"},Xr=(0,i.uE)('<div class="status-progress-color" style="--left:89%;--colorB:#11e911;" data-v-7ab00133></div><div class="progress-item" style="--left:2%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>4</span><span data-v-7ab00133>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>5</span><span data-v-7ab00133>Dừng thuê</span></div>',6),tc=[Xr],ec={key:2,class:"status-progress"},sc=(0,i.uE)('<div class="status-progress-color" style="--left:68%;--colorB:#11e911;" data-v-7ab00133></div><div class="progress-item" style="--left:2%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>4</span><span data-v-7ab00133>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>5</span><span data-v-7ab00133>Dừng thuê</span></div>',6),ac=[sc],ic={key:3,class:"status-progress"},nc=(0,i.uE)('<div class="status-progress-color" style="--left:48%;--colorB:#11e911;" data-v-7ab00133></div><div class="progress-item" style="--left:2%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>4</span><span data-v-7ab00133>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>5</span><span data-v-7ab00133>Dừng thuê</span></div>',6),lc=[nc],oc={key:4,class:"status-progress"},rc=(0,i.uE)('<div class="status-progress-color" style="--left:27%;--colorB:#11e911;" data-v-7ab00133></div><div class="progress-item" style="--left:2%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>4</span><span data-v-7ab00133>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-7ab00133><span style="--border-color:blue;" data-v-7ab00133>5</span><span data-v-7ab00133>Dừng thuê</span></div>',6),cc=[rc],dc={key:5,class:"status-progress"},hc=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:#11e911;" data-v-7ab00133></div><div class="progress-item" style="--left:2%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>1</span><span data-v-7ab00133>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>2</span><span data-v-7ab00133>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>3</span><span data-v-7ab00133>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>4</span><span data-v-7ab00133>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-7ab00133><span style="--border-color:#11e911;" data-v-7ab00133>5</span><span data-v-7ab00133>Dừng thuê</span></div>',6),pc=[hc],uc=kr((()=>(0,i._)("hr",null,null,-1))),mc=kr((()=>(0,i._)("div",{class:"row text-start"},[(0,i._)("h4",{class:"col-lg-6"},"Thông tin khách hàng"),(0,i._)("h4",{class:"col-lg-6"},"Thông tin Đơn hàng")],-1))),gc={class:"row"},yc={class:"col-lg-6"},fc={class:"row text-start"},vc=kr((()=>(0,i._)("div",{class:"col-lg-4"},[(0,i._)("strong",null,"Tên:")],-1))),_c={class:"col-lg-6"},wc=kr((()=>(0,i._)("div",{class:"col-lg-4"},[(0,i._)("strong",null,"Địa chỉ:")],-1))),bc={class:"col-lg-6"},kc=kr((()=>(0,i._)("div",{class:"col-lg-4"},[(0,i._)("strong",null,"Số điện thoại:")],-1))),Cc={class:"col-lg-6"},xc=kr((()=>(0,i._)("div",{class:"col-lg-4"},[(0,i._)("strong",null,"Email:")],-1))),Sc={class:"col-lg-6"},Dc={class:"col-lg-6"},Tc={class:"row text-start"},Pc=kr((()=>(0,i._)("div",{class:"col-lg-4"},[(0,i._)("strong",null,"Mã số:")],-1))),Ic={class:"col-lg-6"},Ac=kr((()=>(0,i._)("div",{class:"col-lg-4"},[(0,i._)("strong",null,"Ngày mua:")],-1))),Uc={class:"col-lg-6"},qc={key:0,class:"col-lg-4"},Nc=kr((()=>(0,i._)("strong",null,"Ngày thanh toán tiếp theo:",-1))),zc=[Nc],Fc={key:1,class:"col-lg-6"},Oc=kr((()=>(0,i._)("div",{class:"col-lg-4"},[(0,i._)("strong",null,"Hính thức thanh toán:")],-1))),Mc={class:"col-lg-6"},Vc=kr((()=>(0,i._)("div",{class:"col-lg-4"},[(0,i._)("strong",null,"Hình thức mua hàng:")],-1))),Ec={class:"col-lg-6"},$c=kr((()=>(0,i._)("hr",null,null,-1))),Bc=kr((()=>(0,i._)("div",null,[(0,i._)("h4",{class:"mt-4"},"Danh sách sản phẩm")],-1))),Rc={class:"table"},Hc=kr((()=>(0,i._)("thead",null,[(0,i._)("tr",{class:"row text-start"},[(0,i._)("th",{class:"col-2 text-center"},"Ảnh"),(0,i._)("th",{class:"col"},"Tên"),(0,i._)("th",{class:"col-2"},"Giá"),(0,i._)("th",{class:"col-1"},"Số lượng"),(0,i._)("th",{class:"col-1"},"loại")])],-1))),Yc={class:"col-2 img text-center"},Kc=["src"],Lc={class:"col"},Zc={class:"col-2"},jc={class:"col-1"},Qc={key:0,class:"col-1"},Gc={key:1,class:"col-1"},Wc=kr((()=>(0,i._)("div",{class:"d-flex justify-content-end"},[(0,i._)("div",{class:"total text-start"},[(0,i._)("h3",{class:""},"Chi tiết thanh toán")])],-1))),Jc={class:"d-flex justify-content-end"},Xc={class:"total"},td={class:"row text-start"},ed=kr((()=>(0,i._)("div",{class:"col col-lg-6 mt-1"},[(0,i._)("strong",null,"Tổng tiền hàng:")],-1))),sd={class:"col col-lg-6 mt-1"},ad={key:0,class:"col col-lg-6 mt-1"},id=kr((()=>(0,i._)("strong",null,"Phí vận chuyển",-1))),nd=[id],ld={key:1,class:"col col-lg-6 mt-1"},od={key:2,class:"col col-lg-6 mt-1"},rd=kr((()=>(0,i._)("strong",null,"Số tháng thuê:",-1))),cd=[rd],dd={key:3,class:"col col-lg-6 mt-1"},hd=kr((()=>(0,i._)("div",{class:"col col-lg-6 mt-1"},[(0,i._)("strong",null,"Tổng cộng:")],-1))),pd={class:"col col-lg-6 mt-1"},ud=kr((()=>(0,i._)("div",{class:"col col-lg-6 mt-1"},[(0,i._)("strong",null,"Số tiền đã thanh toán:")],-1))),md={class:"col col-lg-6 mt-1"},gd={key:4,class:"col col-lg-6 mt-1"},yd=kr((()=>(0,i._)("span",{class:"text-success fs-5 fw-800 d-block"},"Đã thanh toán",-1))),fd=[yd],vd={key:5,class:"col-lg-6 mt-1"},_d=kr((()=>(0,i._)("strong",null,"Số tiền phải thanh toán",-1))),wd=[_d],bd={key:6,class:"col-lg-6 mt-1"},kd={key:7,class:"fs-5"},Cd={key:0},xd={key:1},Sd={key:8,class:"fs-5"},Dd={key:0},Td={key:1},Pd={key:2,class:"text-danger"},Id={key:3,class:"text-danger"},Ad={key:0,class:"row mt-2"},Ud={key:1,class:"row mt-2"};function qd(t,e,s,a,l,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"overlay",onClick:e[0]||(e[0]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},xr)):(0,i.kq)("",!0),0==l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[1]||(e[1]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},Dr)):(0,i.kq)("",!0),(0,i._)("div",Tr,[Pr,(0,i._)("div",Ir,[(0,i.Wm)(r,{to:"/order-history",class:"back-history"},{default:(0,i.w5)((()=>[Ar,(0,i.Uk)(),Ur])),_:1})]),qr,"Buy"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",Nr,[zr,"Hủy đơn"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Fr,Mr)):(0,i.kq)("",!0),"Đang xử lý"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Vr,$r)):(0,i.kq)("",!0),"Đang vận chuyển"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Br,Hr)):(0,i.kq)("",!0),"Đã giao hàng"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Yr,Lr)):(0,i.kq)("",!0)])):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",Zr,[jr,"Hủy đơn"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Qr,Wr)):(0,i.kq)("",!0),"Đang xử lý"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Jr,tc)):(0,i.kq)("",!0),"Đang vận chuyển"===l.order.status?((0,i.wg)(),(0,i.iD)("div",ec,ac)):(0,i.kq)("",!0),"Đã giao hàng"===l.order.status?((0,i.wg)(),(0,i.iD)("div",ic,lc)):(0,i.kq)("",!0),"Đang sử dụng"===l.order.status?((0,i.wg)(),(0,i.iD)("div",oc,cc)):(0,i.kq)("",!0),"Dừng thuê"===l.order.status?((0,i.wg)(),(0,i.iD)("div",dc,pc)):(0,i.kq)("",!0)])):(0,i.kq)("",!0),"Đang xử lý"!=l.order.status||l.order.isPayment?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:2,class:"btn btn-danger",onClick:e[2]||(e[2]=t=>o.cancelOrder(l.order._id,l.typeOrder))},"Hủy đơn hàng")),uc,mc,(0,i._)("div",gc,[(0,i._)("div",yc,[(0,i._)("div",fc,[vc,(0,i._)("div",_c,[(0,i._)("span",null,(0,n.zw)(l.order.nameCustomer),1)]),wc,(0,i._)("div",bc,[(0,i._)("span",null,(0,n.zw)(l.order.address),1)]),kc,(0,i._)("div",Cc,[(0,i._)("span",null,(0,n.zw)(l.order.phone),1)]),xc,(0,i._)("div",Sc,[(0,i._)("span",null,(0,n.zw)(l.order.email),1)])])]),(0,i._)("div",Dc,[(0,i._)("div",Tc,[Pc,(0,i._)("div",Ic,[(0,i._)("span",null,(0,n.zw)(l.order._id),1)]),Ac,(0,i._)("div",Uc,[(0,i._)("span",null,(0,n.zw)(l.order.createdAt),1)]),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",qc,zc)):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",Fc,[(0,i._)("span",null,(0,n.zw)(l.order.payInFull?"Đã thanh toán toàn bộ":l.order.totalAmount>l.order.pricePayed?o.formatDate(l.order.datePay):"Thanh toán hoàn tất"),1)])):(0,i.kq)("",!0),Oc,(0,i._)("div",Mc,[(0,i._)("span",null,(0,n.zw)(l.order.paymentMethod),1)]),Vc,(0,i._)("div",Ec,[(0,i._)("span",null,(0,n.zw)(l.order.IsOnlineOrder?"Online":"Mua tại cửa hàng"),1)])])])]),$c,Bc,(0,i._)("table",Rc,[Hc,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.order.products,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row text-start",key:e},[(0,i._)("td",Yc,[(0,i._)("img",{src:"http://localhost:3000"+t.productId.image,alt:""},null,8,Kc)]),(0,i._)("td",Lc,[(0,i.Wm)(r,{to:{name:"product.detail",params:{id:t.productId._id},query:{typeProduct:t.typeProduct}}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(t.nameProduct),1)])),_:2},1032,["to"])]),(0,i._)("td",Zc,(0,n.zw)("Buy"==l.typeOrder?o.formatPrice(t.priceSale):o.formatPrice(t.priceRental)),1),(0,i._)("td",jc,(0,n.zw)(t.quantity),1),"Buy"==l.typeOrder?((0,i.wg)(),(0,i.iD)("td",Qc,(0,n.zw)("product"==t.typeProduct?"Máy":"Phụ kiện"),1)):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("td",Gc,"Máy")):(0,i.kq)("",!0)])))),128))])]),Wc,(0,i._)("div",Jc,[(0,i._)("div",Xc,[(0,i._)("div",td,[ed,(0,i._)("div",sd,[(0,i._)("span",null,(0,n.zw)(o.formatPrice(l.order.totalCostOfProducts)),1)]),"Buy"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",ad,nd)):(0,i.kq)("",!0),"Buy"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",ld,[(0,i._)("span",null,(0,n.zw)(o.formatPrice(l.order.transportFee)),1)])):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",od,cd)):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",dd,[(0,i._)("span",null,(0,n.zw)(l.order.quantityMonth),1)])):(0,i.kq)("",!0),hd,(0,i._)("div",pd,[(0,i._)("span",null,(0,n.zw)(o.formatPrice(l.order.totalAmount)),1)]),ud,(0,i._)("div",md,[(0,i._)("span",null,(0,n.zw)(o.formatPrice(l.order.pricePayed)),1)]),"Buy"==l.typeOrder&&l.order.isPayment?((0,i.wg)(),(0,i.iD)("div",gd,fd)):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("span",vd,wd)):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("span",bd,(0,n.zw)(l.order.payInFull?o.formatPrice(l.order.totalAmount):l.order.totalAmount>l.order.pricePayed?o.formatPrice(l.order.priceMonth):"Thanh toán hoàn tất"),1)):(0,i.kq)("",!0),"Rental"==l.typeOrder&&l.order.payInFull?((0,i.wg)(),(0,i.iD)("div",kd,[l.order.totalAmount<=l.order.pricePayed?((0,i.wg)(),(0,i.iD)("span",Cd," Đã thanh toán toàn bộ ")):((0,i.wg)(),(0,i.iD)("span",xd," Chưa thanh toán "))])):(0,i.kq)("",!0),"Rental"!=l.typeOrder||l.order.payInFull?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Sd,[l.order.totalAmout<=l.order.pricePayed?((0,i.wg)(),(0,i.iD)("span",Dd," Đã thanh toán hoàn tất ")):o.daysUntilDue(new Date,l.order.datePay)>0?((0,i.wg)(),(0,i.iD)("span",Td," Thanh toán theo tháng ")):0==o.daysUntilDue(new Date,l.order.datePay)?((0,i.wg)(),(0,i.iD)("span",Pd," Đến hạn thanh toán ")):o.daysUntilDue(new Date,l.order.datePay)<0?((0,i.wg)(),(0,i.iD)("span",Id," Quá hạn thanh toán "+(0,n.zw)(Math.abs(o.daysUntilDue(new Date,l.order.datePay)))+" ngày ",1)):(0,i.kq)("",!0)]))]),"Buy"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",Ad,[l.order.isPayment||"Đang xử lý"!=l.order.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"col btn btn-info me-1",onClick:e[3]||(e[3]=t=>o.paymentByVnPay(l.order))},"VNPay")),l.order.isPayment||"Đang xử lý"!=l.order.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"col btn btn-danger me-1",onClick:e[4]||(e[4]=t=>o.paymentByMOMO(l.order))},"MOMO"))])):(0,i.kq)("",!0),"Rental"==l.typeOrder?((0,i.wg)(),(0,i.iD)("div",Ud,[l.order.totalAmount>l.order.pricePayed&&"Hủy đơn"!=l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"col btn btn-info me-1",onClick:e[5]||(e[5]=t=>o.paymentByVnPay(l.order))},"VNPay")):(0,i.kq)("",!0),l.order.totalAmount>l.order.pricePayed&&"Hủy đơn"!=l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"col btn btn-danger me-1",onClick:e[6]||(e[6]=t=>o.paymentByMOMO(l.order))},"MOMO")):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])])])],64)}var Nd={data(){return{order:{},paymentSuccess:null,typeOrder:""}},props:{id:String},methods:{async cancelOrder(t,e){try{const s={status:"Hủy đơn"};if("Buy"==e){const e=await zo.update(t,s);e.data.status&&(alert("Thay đổi thành công"),this.getOrderById())}else{const e=await Oo.update(t,s);e.data.status&&(alert("Thay đổi thành công"),this.getOrderById())}}catch(s){console.log(s)}},daysUntilDue(t,e){const s=new Date(t),a=new Date(e),i=Math.ceil((a-s)/864e5);return i},closeSuccess(){const t=new URLSearchParams(window.location.search);this.$router.push(`/order-detail/${this.order._id}?typeOrder=${t.get("typeOrder")}`),this.paymentSuccess=null},isPaymentSuccess(){const t=new URLSearchParams(window.location.search);"true"===t.get("success")?this.paymentSuccess=!0:"false"===t.get("success")&&(this.paymentSuccess=!1)},async getOrderById(){try{if("Buy"===this.typeOrder){const t=await zo.getById(this.id);this.order=t.data,this.order.createdAt=mt.formatDate(this.order.createdAt)}else{const t=await Oo.getById(this.id);this.order=t.data,this.order.createdAt=mt.formatDate(this.order.createdAt)}}catch(t){console.log(t)}},formatDate(t){return mt.formatDateNoTime(t)},formatPrice(t){return mt.formatCurrency(t)},async paymentByVnPay(t){try{const e={totalAmount:"Buy"==this.typeOrder?t.totalAmount:t.priceMonth,orderId:t._id};if("Hủy đơn"==t.status)return void alert("Đơn hàng đã bị hủy");if("Buy"==this.typeOrder){const s=await zo.paymentVNPAY(`order-detail/${t._id}?typeOrder=${this.typeOrder}`,e);window.location.href=s.data}else{const s=await Oo.paymentVNPAY(`order-detail/${t._id}?typeOrder=${this.typeOrder}`,e);window.location.href=s.data}}catch(e){console.log(e)}},async paymentByMOMO(t){try{const e={totalAmount:"Buy"==this.typeOrder?t.totalAmount:t.priceMonth,orderId:t._id};if(console.log(e),"Hủy đơn"==t.status)return void alert("Đơn hàng đã bị hủy");if("Buy"==this.typeOrder){if(e.totalAmount>5e7)return void alert("Số tiền thanh toán với momo phải bé hơn 50 triệu");const s=await zo.paymentMOMO(`order-detail/${t._id}?typeOrder=${this.typeOrder}`,e);window.location.href=s.data}else if("Rental"==this.typeOrder){const s=await Oo.paymentMOMO(`order-detail/${t._id}?typeOrder=${this.typeOrder}`,e);window.location.href=s.data}}catch(e){console.log(e)}}},mounted(){this.typeOrder=this.$route.query.typeOrder,console.log(this.typeOrder),this.getOrderById(),this.isPaymentSuccess()}};const zd=(0,ft.Z)(Nd,[["render",qd],["__scopeId","data-v-7ab00133"]]);var Fd=zd;const Od=(0,i._)("h3",{class:"text-uppercase fs-3 my-3 text-primary"},"chi tiết sản phẩm",-1);function Md(t,e,s,a,n,l){const o=(0,i.up)("product-detail-item");return(0,i.wg)(),(0,i.iD)(i.HY,null,[Od,(0,i.Wm)(o,{product:n.product,spes:n.spes,typeProduct:n.typeProduct,products:n.products},null,8,["product","spes","typeProduct","products"])],64)}const Vd=t=>((0,i.dD)("data-v-95f56972"),t=t(),(0,i.Cn)(),t),Ed={key:0,class:"alert alert-success position-alert",role:"alert"},$d={class:"container"},Bd={class:"d-flex"},Rd=Vd((()=>(0,i._)("i",{class:"fa-solid fa-chevron-left"},null,-1))),Hd=Vd((()=>(0,i._)("span",null,"Trở lại",-1))),Yd={class:"product-detail mb-5"},Kd={class:"row"},Ld={class:"col-lg-5"},Zd={class:"detail-img"},jd=["src"],Qd={class:"col-lg-7"},Gd={class:"detail-info"},Wd={class:"text-start text-capitalize"},Jd={class:"detail-price"},Xd=Vd((()=>(0,i._)("strong",null,"Giá bán:",-1))),th={key:0},eh=Vd((()=>(0,i._)("strong",null,"Giá thuê:",-1))),sh=Vd((()=>(0,i._)("hr",null,null,-1))),ah={class:"row"},ih={class:"col-lg-6"},nh={class:"detail-intro"},lh=Vd((()=>(0,i._)("h5",{class:"text-start text-capitalize text-info"},"Thông tin về máy",-1))),oh={class:"intro-info"},rh={class:"row text-start mt-2"},ch=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Thương hiệu:")],-1))),dh={class:"col-lg-6"},hh={class:"text-capitalize"},ph={key:0,class:"row text-start mt-2"},uh=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Loại máy:")],-1))),mh={class:"col-lg-6"},gh={class:"text-capitalize"},yh={key:1,class:"row text-start mt-2"},fh=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Loại:")],-1))),vh={class:"col-lg-6"},_h={class:"text-capitalize"},wh={key:2,class:"row text-start mt-2"},bh=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Chức năng:")],-1))),kh={class:"col-lg-6"},Ch={class:"text-capitalize"},xh={key:3,class:"row text-start mt-2"},Sh=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Bảo hành:")],-1))),Dh={class:"col-lg-6"},Th={class:"text-capitalize"},Ph={key:0,class:"col-lg-6"},Ih={class:"detail-specification"},Ah=Vd((()=>(0,i._)("h5",{class:"text-start text-capitalize text-info"},"Một số thông số kỹ thuật cơ bản",-1))),Uh={class:"intro-info"},qh={class:"row text-start mt-2"},Nh=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Cân nặng:")],-1))),zh={class:"col-lg-6"},Fh={class:"text-capitalize"},Oh={class:"row text-start mt-2"},Mh=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Công suất:")],-1))),Vh={class:"col-lg-6"},Eh={class:"text-capitalize"},$h={class:"row text-start mt-2"},Bh=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Cổng kết nối:")],-1))),Rh={class:"col-lg-6"},Hh={class:"text-capitalize"},Yh={key:1,class:"col-lg-6"},Kh=Vd((()=>(0,i._)("h5",{class:"text-start text-capitalize text-info"},"phù hợp với các sản phẩm",-1))),Lh={class:"intro-info fits"},Zh={class:"col-lg-12"},jh={key:0,class:"text-start mt-3 fs-4 fst-italic"},Qh=Vd((()=>(0,i._)("span",{class:"text-danger"},"Sản phẩm hiện hết hàng",-1))),Gh=[Qh],Wh=["data-bs-target"],Jh={key:1,class:"text-start mt-3"},Xh=Vd((()=>(0,i._)("span",null,"Thêm vào giỏ hàng bạn có thể lựa chọn mua hoặc thuê",-1))),tp=[Xh],ep=Vd((()=>(0,i._)("div",{class:"text-start mt-1"},[(0,i._)("span",null,[(0,i.Uk)("Gọi ngay "),(0,i._)("a",{href:"tel:0366176577"},"0366176577"),(0,i.Uk)(" để được tư vấn (24/7)")])],-1))),sp={class:"detail-more mt-2"},ap={class:"row"},ip={class:"detail-nav"},np=["onClick"],lp={key:0,class:"detail-content mt-2"},op={class:"text-start mt-2 text-capitalize text-warning"},rp={class:"text-start"},cp={key:1,class:"detail-content mt-2"},dp={class:"text-start mt-2 text-capitalize text-warning"},hp={class:"detail-spe"},pp={class:"row"},up={class:"col-lg-6"},mp={class:"row w-75 text-start mt-2"},gp=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Công nghệ kết nối:")],-1))),yp={class:"col-lg-6"},fp={class:"row w-75 text-start mt-2"},vp=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Màn hình:")],-1))),_p={class:"col-lg-6"},wp={class:"row w-75 text-start mt-2"},bp=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Tốc độ:")],-1))),kp={class:"col-lg-6"},Cp={class:"row w-75 text-start mt-2"},xp=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Độ phân giải:")],-1))),Sp={class:"col-lg-6"},Dp={class:"row w-75 text-start mt-2"},Tp=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Ram:")],-1))),Pp={class:"col-lg-6"},Ip={class:"row w-75 text-start mt-2"},Ap=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Ổ cứng:")],-1))),Up={class:"col-lg-6"},qp={class:"row w-75 text-start mt-2"},Np=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Khổ giấy:")],-1))),zp={class:"col-lg-6"},Fp={class:"row w-75 text-start mt-2"},Op=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Cân nặng:")],-1))),Mp={class:"col-lg-6"},Vp={class:"col-lg-6"},Ep={class:"row w-75 text-start mt-2"},$p=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Khay giấy:")],-1))),Bp={class:"col-lg-6"},Rp={class:"row w-75 text-start mt-2"},Hp=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Thời gian khởi động:")],-1))),Yp={class:"col-lg-6"},Kp={class:"row w-75 text-start mt-2"},Lp=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Phóng to:")],-1))),Zp={class:"col-lg-6"},jp={class:"row w-75 text-start mt-2"},Qp=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Sao chép liên tục:")],-1))),Gp={class:"col-lg-6"},Wp={class:"row w-75 text-start mt-2"},Jp=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Cổng kết nối:")],-1))),Xp={class:"col-lg-6"},tu={class:"row w-75 text-start mt-2"},eu=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Hệ điều hành:")],-1))),su={class:"col-lg-6"},au={class:"row w-75 text-start mt-2"},iu=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Điện năng tiêu thụ:")],-1))),nu={class:"col-lg-6"},lu={class:"row w-75 text-start mt-2"},ou=Vd((()=>(0,i._)("div",{class:"col-lg-6"},[(0,i._)("strong",null,"Công xuất:")],-1))),ru={class:"col-lg-6"},cu={key:2,class:"detail-content-empty mt-2 text-start"},du=Vd((()=>(0,i._)("span",null,"Không có",-1))),hu=[du],pu={key:3,class:"detail-content-empty mt-2 text-start"},uu=Vd((()=>(0,i._)("span",null,"Chưa cập nhật",-1))),mu=[uu],gu={key:4,class:"detail-comment"},yu={class:"text-start mt-2 text-capitalize text-warning"},fu={class:"comment"},vu={class:"col-lg-12"},_u={class:"col-lg-12"},wu=["src"],bu={class:"col-lg-12"},ku={class:"mb-2 reply"},Cu=Vd((()=>(0,i._)("i",{class:"fa-solid fa-reply"},null,-1))),xu={key:0,class:"d-flex align-items-center mb-2"},Su=Vd((()=>(0,i._)("div",{class:"spe-group w-50"},[(0,i._)("input",{type:"text",placeholder:"Trả lời",class:"m-0"})],-1))),Du=Vd((()=>(0,i._)("span",{class:"btn btn-secondary"},"Gửi",-1))),Tu=[Su,Du],Pu={class:"text-start mt-2 text-warning"},Iu={class:"text-start mb-3"},Au=Vd((()=>(0,i._)("div",{class:"spe-group"},[(0,i._)("label",{class:"d-block"},[(0,i.Uk)("Chọn số sao "),(0,i._)("span",{class:"text-danger"})])],-1))),Uu=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),qu=[Uu],Nu=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),zu=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),Fu=[Nu,zu],Ou=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),Mu=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),Vu=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),Eu=[Ou,Mu,Vu],$u=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),Bu=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),Ru=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),Hu=Vd((()=>(0,i._)("i",{class:"fa-solid fa-star"},null,-1))),Yu=[$u,Bu,Ru,Hu],Ku=(0,i.uE)('<i class="fa-solid fa-star" data-v-95f56972></i><i class="fa-solid fa-star" data-v-95f56972></i><i class="fa-solid fa-star" data-v-95f56972></i><i class="fa-solid fa-star" data-v-95f56972></i><i class="fa-solid fa-star" data-v-95f56972></i>',5),Lu=[Ku],Zu={key:0},ju=Vd((()=>(0,i._)("span",{class:"text-danger"},"Chọn số 1 trong 5 lựa chọn trên",-1))),Qu=[ju],Gu={class:"row"},Wu={class:"col-lg-4"},Ju={class:"spe-group"},Xu=Vd((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên của bạn "),(0,i._)("span",{class:"text-danger"},"*")],-1))),tm={class:"col-lg-4"},em={class:"spe-group"},sm=Vd((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Email của bạn "),(0,i._)("span",{class:"text-danger"},"*")],-1))),am={class:"col-lg-4"},im={class:"spe-group"},nm=Vd((()=>(0,i._)("label",{for:""},"Ảnh",-1))),lm={class:"col-lg-12"},om={class:"spe-group"},rm=Vd((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Nội dung "),(0,i._)("span",{class:"text-danger"},"*")],-1))),cm=Vd((()=>(0,i._)("div",{class:"d-flex my-3"},[(0,i._)("button",{class:"btn btn-success px-5"},"Gửi đi")],-1))),dm={class:"product-detail-brand"},hm=Vd((()=>(0,i._)("h3",{class:"text-center my-2 mb-3 text-uppercase"},"Sản phẩm liên quan",-1))),pm={class:"row"},um=["id"],mm={class:"modal-dialog"},gm={class:"modal-content"},ym=Vd((()=>(0,i._)("div",{class:"modal-header"},[(0,i._)("h5",{class:"modal-title text-uppercase text-warning fw-600",id:"staticBackdropLabel"},"Thêm sản phẩm vào giỏ hàng"),(0,i._)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),fm={class:"modal-body text-start fw-500"},vm={class:"text-start text-info fs-5 text-capitalize"},_m={class:"add-cart-quantity"},wm=Vd((()=>(0,i._)("label",{for:""},"Số lượng",-1))),bm={key:0,class:"text-danger"},km={class:"modal-footer"},Cm=Vd((()=>(0,i._)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"Hủy bỏ",-1))),xm=["disabled"];function Sm(t,e,s,a,l,o){const r=(0,i.up)("router-link"),c=(0,i.up)("card-vue");return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.added?((0,i.wg)(),(0,i.iD)("div",Ed," Thêm sản phẩm thành công ")):(0,i.kq)("",!0),(0,i._)("div",$d,[(0,i._)("div",Bd,[(0,i.Wm)(r,{to:"/product",class:"back-history"},{default:(0,i.w5)((()=>[Rd,(0,i.Uk)(),Hd])),_:1})]),(0,i._)("div",Yd,[(0,i._)("div",null,[(0,i._)("div",Kd,[(0,i._)("div",Ld,[(0,i._)("div",Zd,[(0,i._)("img",{src:"http://localhost:3000/"+s.product?.image,alt:""},null,8,jd)])]),(0,i._)("div",Qd,[(0,i._)("div",Gd,[(0,i._)("h3",Wd,(0,n.zw)(s.product?.name),1),(0,i._)("div",Jd,[(0,i._)("div",null,[Xd,(0,i.Uk)(),(0,i._)("span",null,(0,n.zw)(o.formatPrice(s.product?.priceSale)),1)]),"product"==s.product?.typeProduct?((0,i.wg)(),(0,i.iD)("div",th,[eh,(0,i.Uk)(),(0,i._)("span",null,(0,n.zw)(o.formatPrice(s.product?.priceRental)),1)])):(0,i.kq)("",!0)]),sh,(0,i._)("div",ah,[(0,i._)("div",ih,[(0,i._)("div",nh,[lh,(0,i._)("div",oh,[(0,i._)("div",rh,[ch,(0,i._)("div",dh,[(0,i._)("span",hh,(0,n.zw)(s.product?.brandId?.name),1)])]),"product"==s.typeProduct?((0,i.wg)(),(0,i.iD)("div",ph,[uh,(0,i._)("div",mh,[(0,i._)("span",gh,(0,n.zw)(s.product?.typeId?.name),1)])])):(0,i.kq)("",!0),"accessory"==s.typeProduct?((0,i.wg)(),(0,i.iD)("div",yh,[fh,(0,i._)("div",vh,[(0,i._)("span",_h,(0,n.zw)(s.product?.typeId?.name),1)])])):(0,i.kq)("",!0),"product"==s.typeProduct?((0,i.wg)(),(0,i.iD)("div",wh,[bh,(0,i._)("div",kh,[(0,i._)("span",Ch,(0,n.zw)(s.product?.categoryId?.name),1)])])):(0,i.kq)("",!0),"product"==s.typeProduct?((0,i.wg)(),(0,i.iD)("div",xh,[Sh,(0,i._)("div",Dh,[(0,i._)("span",Th,(0,n.zw)(s.product?.warrantyTime)+" tháng",1)])])):(0,i.kq)("",!0)])])]),Object.keys(s.spes).length>0&&"product"==s.typeProduct?((0,i.wg)(),(0,i.iD)("div",Ph,[(0,i._)("div",Ih,[Ah,(0,i._)("div",Uh,[(0,i._)("div",qh,[Nh,(0,i._)("div",zh,[(0,i._)("span",Fh,(0,n.zw)(s.spes?.weight),1)])]),(0,i._)("div",Oh,[Mh,(0,i._)("div",Vh,[(0,i._)("span",Eh,(0,n.zw)(s.spes?.wattage),1)])]),(0,i._)("div",$h,[Bh,(0,i._)("div",Rh,[(0,i._)("span",Hh,(0,n.zw)(s.spes?.connector),1)])])])])])):(0,i.kq)("",!0),"accessory"==s.typeProduct&&s.product?.fits?.length>0?((0,i.wg)(),(0,i.iD)("div",Yh,[(0,i._)("div",null,[Kh,(0,i._)("div",Lh,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.product?.fits,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"row text-start mt-2",key:t._id},[(0,i._)("div",Zh,[(0,i._)("strong",null,[(0,i._)("li",null,(0,n.zw)(t.product.name),1)])])])))),128))])])])):(0,i.kq)("",!0)]),s.product?.inputQuantity<=0?((0,i.wg)(),(0,i.iD)("div",jh,Gh)):(0,i.kq)("",!0)]),s.product?.inputQuantity>0?((0,i.wg)(),(0,i.iD)("button",{key:0,"data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"+s.product._id,class:"btn-add-cart"},"Thêm vào giỏ hàng",8,Wh)):(0,i.kq)("",!0),s.product?.inputQuantity>0?((0,i.wg)(),(0,i.iD)("div",Jh,tp)):(0,i.kq)("",!0),ep])])]),(0,i._)("div",sp,[(0,i._)("div",ap,[(0,i._)("div",ip,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.navs,(t=>((0,i.wg)(),(0,i.iD)("li",{onClick:e=>o.changeNav(t),class:(0,n.C_)({"active-nav":l.activeNav==t}),key:t},(0,n.zw)(t),11,np)))),128))])]),"Giới thiệu"==l.activeNav?((0,i.wg)(),(0,i.iD)("div",lp,[(0,i._)("h5",op,"Mô tả về máy "+(0,n.zw)(s.product?.name),1),(0,i._)("p",rp,(0,n.zw)(s.product?.description),1)])):(0,i.kq)("",!0),"Thông số kỹ thuật"==l.activeNav&&"product"==s.typeProduct&&Object.keys(s.spes).length>0?((0,i.wg)(),(0,i.iD)("div",cp,[(0,i._)("h5",dp,"thông số kỹ thuật máy "+(0,n.zw)(s.product?.name),1),(0,i._)("div",hp,[(0,i._)("div",pp,[(0,i._)("div",up,[(0,i._)("div",mp,[gp,(0,i._)("div",yp,[(0,i._)("span",null,(0,n.zw)(s.spes?.connectionTechnology),1)])]),(0,i._)("div",fp,[vp,(0,i._)("div",_p,[(0,i._)("span",null,(0,n.zw)(s.spes?.screen),1)])]),(0,i._)("div",wp,[bp,(0,i._)("div",kp,[(0,i._)("span",null,(0,n.zw)(s.spes?.speed),1)])]),(0,i._)("div",Cp,[xp,(0,i._)("div",Sp,[(0,i._)("span",null,(0,n.zw)(s.spes?.screenResolution),1)])]),(0,i._)("div",Dp,[Tp,(0,i._)("div",Pp,[(0,i._)("span",null,(0,n.zw)(s.spes?.ramMemory),1)])]),(0,i._)("div",Ip,[Ap,(0,i._)("div",Up,[(0,i._)("span",null,(0,n.zw)(s.spes?.hardDrive),1)])]),(0,i._)("div",qp,[Np,(0,i._)("div",zp,[(0,i._)("span",null,(0,n.zw)(s.spes?.paperSize),1)])]),(0,i._)("div",Fp,[Op,(0,i._)("div",Mp,[(0,i._)("span",null,(0,n.zw)(s.spes?.weight),1)])])]),(0,i._)("div",Vp,[(0,i._)("div",Ep,[$p,(0,i._)("div",Bp,[(0,i._)("span",null,(0,n.zw)(s.spes?.paperTray),1)])]),(0,i._)("div",Rp,[Hp,(0,i._)("div",Yp,[(0,i._)("span",null,(0,n.zw)(s.spes?.bootTime),1)])]),(0,i._)("div",Kp,[Lp,(0,i._)("div",Zp,[(0,i._)("span",null,(0,n.zw)(s.spes?.zoom),1)])]),(0,i._)("div",jp,[Qp,(0,i._)("div",Gp,[(0,i._)("span",null,(0,n.zw)(s.spes?.continuously),1)])]),(0,i._)("div",Wp,[Jp,(0,i._)("div",Xp,[(0,i._)("span",null,(0,n.zw)(s.spes?.connector),1)])]),(0,i._)("div",tu,[eu,(0,i._)("div",su,[(0,i._)("span",null,(0,n.zw)(s.spes?.operatingSystem),1)])]),(0,i._)("div",au,[iu,(0,i._)("div",nu,[(0,i._)("span",null,(0,n.zw)(s.spes?.electricUsed),1)])]),(0,i._)("div",lu,[ou,(0,i._)("div",ru,[(0,i._)("span",null,(0,n.zw)(s.spes?.wattage),1)])])])])])])):(0,i.kq)("",!0),"Thông số kỹ thuật"==l.activeNav&&"accessory"==s.typeProduct&&Object.keys(s.spes).length<=0?((0,i.wg)(),(0,i.iD)("div",cu,hu)):(0,i.kq)("",!0),"Thông số kỹ thuật"==l.activeNav&&"product"==s.typeProduct&&Object.keys(s.spes).length<=0?((0,i.wg)(),(0,i.iD)("div",pu,mu)):(0,i.kq)("",!0),"Đánh giá"==l.activeNav?((0,i.wg)(),(0,i.iD)("div",gu,[(0,i._)("h5",yu,"Đánh giá về máy "+(0,n.zw)(s.product?.name),1),(0,i._)("div",fu,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.comments,(s=>((0,i.wg)(),(0,i.iD)("div",{class:"row mt-2 text-start comment-item",key:s._id},[(0,i._)("span",vu,(0,n.zw)(s.name),1),(0,i._)("span",_u,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(5,(t=>(0,i._)("i",{class:(0,n.C_)(["fa-solid fa-star",{"active-star":t<=s.rate}]),key:t},null,2))),64))]),(0,i._)("img",{src:"http://localhost:3000"+s.image,alt:""},null,8,wu),(0,i._)("p",bu,(0,n.zw)(s.content),1),(0,i._)("div",ku,[(0,i._)("div",{class:"p-2",onClick:e[0]||(e[0]=e=>{l.activeReply=!l.activeReply,l.indexReply=t.i})},[(0,i.Uk)("Trả lời "),Cu])]),l.activeReply&&l.indexReply==t.i?((0,i.wg)(),(0,i.iD)("div",xu,Tu)):(0,i.kq)("",!0)])))),128))]),(0,i._)("form",{action:"",class:"comment-form",onSubmit:e[10]||(e[10]=(0,A.iM)(((...t)=>o.addComment&&o.addComment(...t)),["prevent","stop"]))},[(0,i._)("h5",Pu,"Hãy là người đánh giá máy "+(0,n.zw)(s.product?.name),1),(0,i._)("div",Iu,[Au,(0,i._)("span",{class:(0,n.C_)(["me-3 start-select",{"active-star":1==l.rate}]),onClick:e[1]||(e[1]=t=>l.rate=1)},qu,2),(0,i.Uk)("| "),(0,i._)("span",{class:(0,n.C_)(["me-3 start-select",{"active-star":2==l.rate}]),onClick:e[2]||(e[2]=t=>l.rate=2)},Fu,2),(0,i.Uk)("| "),(0,i._)("span",{class:(0,n.C_)(["me-3 start-select",{"active-star":3==l.rate}]),onClick:e[3]||(e[3]=t=>l.rate=3)},Eu,2),(0,i.Uk)("| "),(0,i._)("span",{class:(0,n.C_)(["me-3 start-select",{"active-star":4==l.rate}]),onClick:e[4]||(e[4]=t=>l.rate=4)},Yu,2),(0,i.Uk)("| "),(0,i._)("span",{class:(0,n.C_)(["start-select",{"active-star":5==l.rate}]),onClick:e[5]||(e[5]=t=>l.rate=5)},Lu,2),l.selectRate?((0,i.wg)(),(0,i.iD)("div",Zu,Qu)):(0,i.kq)("",!0)]),(0,i._)("div",Gu,[(0,i._)("div",Wu,[(0,i._)("div",Ju,[Xu,(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Họ và tên","onUpdate:modelValue":e[6]||(e[6]=t=>l.infoComment.name=t),required:""},null,512),[[A.nr,l.infoComment.name]])])]),(0,i._)("div",tm,[(0,i._)("div",em,[sm,(0,i.wy)((0,i._)("input",{type:"email",placeholder:"Địa chỉ email","onUpdate:modelValue":e[7]||(e[7]=t=>l.infoComment.email=t),required:""},null,512),[[A.nr,l.infoComment.email]])])]),(0,i._)("div",am,[(0,i._)("div",im,[nm,(0,i._)("input",{type:"file",ref:"fileComment",class:"pt-1",onChange:e[8]||(e[8]=(...t)=>o.handleImage&&o.handleImage(...t))},null,544)])]),(0,i._)("div",lm,[(0,i._)("div",om,[rm,(0,i.wy)((0,i._)("textarea",{name:"",id:"",class:"w-100",placeholder:"Nội dung đánh giá","onUpdate:modelValue":e[9]||(e[9]=t=>l.infoComment.content=t),required:""},null,512),[[A.nr,l.infoComment.content]])])])]),cm],32)])):(0,i.kq)("",!0)])]),(0,i._)("div",dm,[hm,(0,i._)("div",pm,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.products,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-lg-3",key:t._id},[(0,i.Wm)(c,{product:t},null,8,["product"])])))),128))])]),s.product?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"modal fade",id:"staticBackdrop"+s.product._id},[(0,i._)("div",mm,[(0,i._)("div",gm,[ym,(0,i._)("div",fm,[(0,i._)("span",vm,"Thêm sản phẩm: "+(0,n.zw)(s.product.name),1),(0,i._)("div",_m,[wm,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.inputQuantity=t),type:"number",name:"",id:"",placeholder:"Nhập số lượng sản phẩm",onInput:e[12]||(e[12]=t=>o.checkInputQuantity(s.product,l.inputQuantity))},null,544),[[A.nr,l.inputQuantity]]),l.isValid?((0,i.wg)(),(0,i.iD)("span",bm,(0,n.zw)(l.isValid),1)):(0,i.kq)("",!0)])]),(0,i._)("div",km,[Cm,(0,i._)("button",{type:"button",disabled:!!l.isValid,class:"btn btn-success",onClick:e[13]||(e[13]=t=>o.addproductToCart(s.product._id,l.inputQuantity)),"data-bs-dismiss":"modal"},"Thêm",8,xm)])])])],8,um)):(0,i.kq)("",!0)])])],64)}class Dm{constructor(t="http://localhost:3000/comment",e={"Content-Type":"multipart/form-data"}){this.api=(0,T.Z)(t,e)}async getAll(t,e){const s=void 0,a="http://localhost:3000/comment";return this.api=(0,T.Z)(a,s),t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}async findByIdProduct(t){const e=void 0,s="http://localhost:3000/comment";return this.api=(0,T.Z)(s,e),this.api.post("/product-id",t)}async create(t){const e={"Content-Type":"multipart/form-data"},s="http://localhost:3000/comment";return this.api=(0,T.Z)(s,e),await this.api.post("/create",t)}async update(t,e){return await this.api.post(`/update/?id=${t}`,e)}async getById(t){return await this.api.get(`/find/?id=${t}`)}}var Tm=new Dm,Pm={components:{cardVue:_t},data(){return{navs:["Giới thiệu","Thông số kỹ thuật","Đánh giá"],activeNav:"Giới thiệu",star:3,activeReply:!1,indexReply:null,isValid:"",inputQuantity:1,added:!1,infoComment:{},rate:"",selectRate:!1,comments:[]}},props:["product","spes","products","typeProduct"],methods:{formatPrice(t){return mt.formatCurrency(t)},async addproductToCart(t,e){const s=this.checkInputQuantity(this.product,e),a=JSON.parse(sessionStorage.getItem("user"))?.user||{},i={id:t,quantityCart:e,typeProduct:this.product.fits?"accessory":"product"};if(s)if(Object.keys(a).length<=0){const t=[];if(this.$cookies.isKey("cart")){let t=this.$cookies.get("cart");const e=this.isProductInCart(i,t);-1===e?(t.unshift(i),this.$cookies.set("cart",JSON.stringify(t)),this.$store.commit("addToCart")):(t[e].quantityCart+=i.quantityCart,this.$cookies.set("cart",JSON.stringify(t)),this.$store.commit("addToCart"))}else t.unshift(i),this.$cookies.set("cart",JSON.stringify(t));this.added=!0,setTimeout((()=>{this.added=!1}),1500)}else try{const t={userId:a._id,product:i},e=await gt.Z.create(t);e.data.status&&(this.$store.commit("addToCart",e.data.result.products),this.added=!0,setTimeout((()=>{this.added=!1}),1500))}catch(n){console.log(n)}},isProductInCart(t,e){let s=-1;for(let a=0;a<e.length;a++)if(e[a].id==t.id){s=a;break}return s},checkInputQuantity(t,e){return this.isValid="",e<=0||""==e?this.isValid="Số lượng không hợp lệ":e>t.inputQuantity?this.isValid="Số lượng trong kho không đủ":this.isValid="",""==this.isValid},handleImage(t){this.infoComment.image=t.target.files[0]||""},async addComment(){try{this.selectRate=!1;const t={...this.infoComment,productId:this.product._id,typeProduct:this.typeProduct,rate:this.rate};if(console.log(t),""==this.rate)return void(this.selectRate=!0);{const e=await Tm.create(t);e.data.status?(this.infoComment={},this.rate="",this.$refs.fileComment.value="",alert("Đánh giá của bạn đã được gửi và sẽ được phê duyệt trước khi hiển thị")):alert("Đánh giá không thành công")}}catch(t){console.log(t)}},async getCommentByIdProduct(){try{const t={productId:this.product?._id,approve:!0},e=await Tm.findByIdProduct(t);e.data.status&&(this.comments=e.data.data),console.log(e)}catch(t){console.log(t)}},changeNav(t){this.activeNav=t,"Đánh giá"==t&&this.getCommentByIdProduct()}},mounted(){}};const Im=(0,ft.Z)(Pm,[["render",Sm],["__scopeId","data-v-95f56972"]]);var Am=Im;class Um{constructor(t="http://localhost:3000/spacification"){this.api=(0,T.Z)(t)}async findByIdProduct(t){return await this.api.get(`/product/?idProduct=${t}`)}async create(t){return await this.api.post("/create",t)}async update(t,e){return await this.api.post(`/update/?id=${t}`,e)}}var qm=new Um,Nm={components:{productDetailItem:Am},data(){return{product:{},spes:{},products:[],typeProduct:null}},props:["id"],watch:{id(){this.getproductById()}},methods:{async getproductById(){try{if(this.typeProduct=this.$route.query.typeProduct,"product"==this.typeProduct){const t=await I.getProductById(this.id);this.product=t.data,this.getSpeByid(),this.getProuctByBrandId()}else{const t=await _i.getById(this.id);this.product=t.data,this.getRentalByBrandId()}}catch(t){console.log(t)}},async getSpeByid(){try{if("product"==this.typeProduct){const t=await qm.findByIdProduct(this.product?._id);t.data.status&&(this.spes=t.data.data||{})}}catch(t){console.log(t)}},async getProuctByBrandId(){try{const t={condition:{_id:{$ne:this.product?._id},brandId:this.product?.brandId},sort:{createdAt:-1,inputQuantity:-1},pageNumber:1,pageSize:4},e=await I.findCondition(t);this.products=e.data,this.products.forEach((t=>t.typeProduct=this.typeProduct))}catch(t){console.log(t)}},async getRentalByBrandId(){try{const t={condition:{_id:{$ne:this.product?._id},brandId:this.product?.brandId},sort:{createdAt:-1,inputQuantity:-1},pageNumber:1,pageSize:4},e=await _i.findCondition(t);this.products=e.data,this.products.forEach((t=>t.typeProduct=this.typeProduct))}catch(t){console.log(t)}}},async mounted(){this.typeProduct=this.$route.query.typeProduct,await this.getproductById()}};const zm=(0,ft.Z)(Nm,[["render",Md]]);var Fm=zm;const Om={class:"warranty-page"},Mm=(0,i.uE)('<div class="warranty-panner" data-v-466473ea><div data-v-466473ea><img class="warraty-logo" src="http://localhost:3000/logo/logo.jpg" alt="" data-v-466473ea><img class="panner-img" src="https://hoangminhoffice.com/wp-content/uploads/2023/05/Warranties.jpg" alt="" data-v-466473ea></div></div><p class="text-start mt-3 mb-0 fw-600" data-v-466473ea> Với mục tiêu mang đến cho Quý khách hàng sự hài lòng, an tâm khi mua hàng và sử dụng dịch vụ tại <strong data-v-466473ea>Thien Thanh Office</strong>, chúng tôi có những chính sách bảo hành, hỗ trợ kỹ thuật một cách chu đáo và chuyên nghiệp nhất trực tiếp tại nơi sử dụng. Nếu khi mua hàng và trong quá trình sử dụng, Quý khách hàng gặp phải bất kỳ sự cố trục trặc nào, vui lòng tham khảo <strong data-v-466473ea>các phương thức liên hệ bên dưới</strong> để trao đổi ngay với chúng tôi và được hướng dẫn bảo hành, <strong data-v-466473ea>tư vấn hoàn toàn miễn phí</strong>. </p><div class="mt-5" data-v-466473ea><h3 class="text-uppercase" data-v-466473ea>tra cứu thông tin bảo hành</h3><span class="my-2 d-block" data-v-466473ea>Quý khách có thể kiểm tra thông tin bảo hành của sản phẩm do <strong data-v-466473ea>Thien Thanh Office</strong> cung cấp qua 2 cách sau:</span><ul data-v-466473ea><li data-v-466473ea>Phiếu đơn hàng với mã số đơn hàng được đóng gói hoặc được đưa khi thanh toán tại cửa hàng, vui lòng kiểm tra kỹ với kỹ thuật viên khi giao và lắp đặt hoặc liên hệ trức tiếp với chúng tôi qua số điện thoại <strong data-v-466473ea>0366176577.</strong></li><li data-v-466473ea> Mục chi tiết bảo hành ở mỗi sản phẩm. </li></ul></div><div class="mt-5" data-v-466473ea><h3 class="text-uppercase" data-v-466473ea>tra cứu thông tin bảo hành</h3><span class="d-block mb-3" data-v-466473ea><strong data-v-466473ea> 1. Sản phẩm được <span class="text-danger" data-v-466473ea>bảo hành miến phí</span> nếu đảm bảo tất cả các điều kiện sau: </strong></span><ul data-v-466473ea><li data-v-466473ea>Sản phẩm thuộc danh mục được bảo hành từ Nhà sản xuất hoặc Nhà phân phối</li><li data-v-466473ea>Sản phẩm bị lỗi kỹ thuật do Nhà sản xuất.</li><li data-v-466473ea>Sản phẩm còn thời hạn bảo hành được tính kể từ ngày bàn giao (thời gian bảo hành sẽ được thể hiện cụ thể theo từng sản phẩm)</li><li data-v-466473ea>Phiếu bảo hành còn nguyên vẹn, không chắp vá, không bị gạch xóa hay sửa chữa, bôi bẩn</li><li data-v-466473ea>Phiếu bảo hành còn đầy đủ thông tin: mã sản phẩm, số seri, ngày sản xuất, tên khách hàng sử dụng, địa chỉ, ngày mua (đối với các sản phẩm không)</li><li data-v-466473ea>Tem bảo hành và tem niêm phong (nếu có) của Nhà sản xuất hay Nhà phân phối trên sản phẩm còn nguyên vẹn.</li></ul><span class="d-block mt-5 mb-3" data-v-466473ea><strong data-v-466473ea> 2. Sản phẩm <span class="text-danger" data-v-466473ea>không được bảo hành</span> hoặc sẽ <span class="text-danger" data-v-466473ea>phát sinh chi phí bảo hành</span> nếu rơi vào một trong các trường hợp sau: </strong></span><ul data-v-466473ea><li data-v-466473ea>Sản phẩm không thuộc danh mục được bảo hành từ Nhà sản xuất hoặc Nhà phân phối.</li><li data-v-466473ea>Sản phẩm không thỏa mãn một trong những điều kiện đã nêu ở Mục 1 “điều kiện bảo hành” (Sản phẩm đã hết thời gian bảo hành; Phiếu, tem bảo hành không có hoặc bị rách nát, sửa đổi; Số mã vạch, serial trên sản phẩm không xác định được; Sản phẩm lỗi không được bảo quản trong bao đen) </li><li data-v-466473ea>Số series, model sản phẩm không khớp với Phiếu bảo hành.</li><li data-v-466473ea>Khách hàng tự ý can thiệp sửa chữa, tháo dỡ sản phẩm hoặc sử dụng những vật tư (mực in, linh kiện, v.v.) kém chất lượng không phải do <strong data-v-466473ea>Thien Thanh Office</strong></li><li data-v-466473ea>Sản phẩm bị cháy nổ, hỏng hóc do tác động cơ học; biến dạng, trầy xước, ẩm ướt, hoen rỉ, chảy nước, động vật xâm nhập vào, thiên tai hoặc sử dụng không đúng quy định.</li></ul></div><div class="mt-5" data-v-466473ea><h3 class="text-uppercase" data-v-466473ea>chính sách bảo hành</h3><h4 style="color:#555;font-weight:700;" data-v-466473ea>1. Các phương thức liên hệ bảo hành</h4><p class="my-3" data-v-466473ea> Trong suốt quá trình sử dụng sản phẩm do <strong data-v-466473ea>Thien Thanh Office</strong> cung cấp, nếu có phát sinh bất kỳ sự cố trục trặc nào, Quý khách hàng vui lòng làm theo 1 trong những cách sau: </p><div data-v-466473ea><span data-v-466473ea><strong data-v-466473ea>Cách 1: </strong> Gọi vào hotline bảo hành: <a href="tel:0366176577" data-v-466473ea>024.382.38073</a> có ghi rõ trên Phiếu bảo hành để liên hệ trực tiếp với Trung tâm Bảo hành của Nhà cung cấp/ Nhà Phân phối sản phẩm. </span><ul data-v-466473ea><li data-v-466473ea><strong data-v-466473ea>Thien Thanh Office</strong> sẽ đến <strong data-v-466473ea>tận nơi</strong> để hỗ trợ sửa chữa và bảo hành sản phẩm trong phạm vi nội thành Cần Thơ.</li><li data-v-466473ea> Đối với các khu vực khác có nhu cầu bảo hành trực tiếp, Quý khách vui lòng gửi sản phẩm cần bảo hành về địa chỉ văn phòng bảo hành của chúng tôi tại <strong data-v-466473ea>Ninh kiều, Cần Thơ</strong> để được tiến hành xử lý.</li><li data-v-466473ea> Thời gian hỗ trợ từ <strong data-v-466473ea>8h – 18h thứ 2 đến thứ 7 (trừ chủ nhật và các ngày lễ, tết)</strong>. Chúng tôi sẽ cố gắng liên hệ để giải quyết những thắc mắc đó một cách sớm nhất. </li></ul><span data-v-466473ea><strong data-v-466473ea>Cách 2: </strong> Nếu quý khách ở xa và có nhu cầu được kỹ thuật viên bên Thien Thanh Office hướng dẫn bảo hành, vui lòng gửi hình ảnh, video của lỗi vào email <a href="mailto:thienthanh17082001@gmail.com" data-v-466473ea>thienthanh17082001@gmail.com</a> để được liên hệ lại và chỉ dẫn qua email, Ultraview hoặc gọi điện thoại trực tiếp. </span><ul data-v-466473ea><li data-v-466473ea> Thời gian hỗ trợ từ <strong data-v-466473ea>8h – 18h thứ 2 đến thứ 7 (trừ chủ nhật và các ngày lễ, tết)</strong>. Chúng tôi sẽ cố gắng liên hệ để giải quyết những thắc mắc đó một cách sớm nhất. </li></ul></div><h4 style="color:#555;font-weight:700;" data-v-466473ea>2. Thời gian thực hiện bảo hành</h4><div data-v-466473ea><span data-v-466473ea><strong data-v-466473ea>2.1 Đối với các sản phẩm bảo hành tại Thien Thanh Office</strong></span><ul data-v-466473ea><li data-v-466473ea>Thời gian thực hiện bảo hành phụ thuộc vào chính sách và mức độ sẵn có của thiết bị/vật tư thay thế tại Trung Tâm Bảo Hành và phía <strong data-v-466473ea>Thien Thanh Office</strong> có trách nhiệm thông báo cụ thể về thời gian sửa chữa và bảo hành cho Quý khách hàng vào thời điểm chúng tôi tiếp nhận sản phẩm.</li><li data-v-466473ea>Trong trường hợp có sự thay đổi về thời gian trả bảo hành (sớm hoặc muộn hơn), chúng tôi sẽ chủ động liên hệ với Quý khách trước</li><li data-v-466473ea><span class="text-warning fst-italic" data-v-466473ea>Xin Quý khách lưu ý</span>: <strong data-v-466473ea>Thien Thanh Office</strong> sẽ không chịu trách nhiệm về bất kỳ thiệt hại, mất mát nào xảy ra nếu Quý khách không thực hiện theo đúng hướng dẫn trong mục “Chính sách bảo hành” nêu trên.</li></ul><span data-v-466473ea><strong data-v-466473ea>2.1 Đối với các sản phẩm bảo hành tại Thien Thanh Office</strong></span><ul data-v-466473ea><li data-v-466473ea> Nếu Quý khách hàng gửi bảo hành trực tiếp tại hãng thì thời gian trả bảo hành phụ thuộc vào hãng. Thiên Thanh Office sẽ đảm bảo luôn đôn đốc hãng trả bảo hành trong thời gian sớm nhất cho Quý khách hàng và liên lạc với khách hàng ngay khi hãng trả bảo hành. </li></ul></div><h4 style="color:#555;font-weight:700;" data-v-466473ea>3. Lưu ý khách hàng</h4><ul data-v-466473ea><li data-v-466473ea><strong data-v-466473ea>Thien Thanh Office</strong> không bảo hành và không chịu trách nhiệm về dữ liệu và tính hợp pháp của các phần mềm, dữ liệu hiện có trong sản phẩm của khách hàng. Do đó, Quý khách hàng vui lòng lưu lại dữ liệu của mình trước khi gửi bảo hành</li><li data-v-466473ea>Đối với sản phẩm vi phạm điều kiện bảo hành, <strong data-v-466473ea>Thien Thanh Office</strong> sẽ hỗ trợ sửa chữa nhưng sẽ bắt buộc tính phí cho Quý khách hàng theo mức giá ưu đãi nhất. Chúng tôi sẽ báo giá cho khách hàng trước khi thực hiện dịch vụ.</li><li data-v-466473ea>Vật tư tiêu hao không nằm trong chế độ bảo hành(Ví dụ Mực, giấy...)</li><li data-v-466473ea>Trong trường hợp sản phẩm thuộc phạm vi ngành nghề kinh doanh của chúng tôi nhưng không được cung cấp bởi <strong data-v-466473ea>Thien Thanh Office</strong> nhưng Quý khách hàng có nhu cầu được hỗ trợ kỹ thuật, thay thế linh kiện – vật tư hoặc bảo trì, bảo dưỡng, chúng tôi luôn sẵn sàng hỗ trợ phục vụ Quý khách tại cơ sở kinh doanh của Hoàng Minh Office hoàn toàn miễn phí hoặc tới tận nơi với mức phí tùy thuộc vào nhu cầu tư vấn và khoảng cách từ Trung tâm bảo hành của chúng tôi tới địa điểm khách hàng.</li></ul></div><div class="mt-5" data-v-466473ea></div>',6),Vm=[Mm];function Em(t,e,s,a,n,l){return(0,i.wg)(),(0,i.iD)("div",Om,Vm)}var $m={};const Bm=(0,ft.Z)($m,[["render",Em],["__scopeId","data-v-466473ea"]]);var Rm=Bm;const Hm=t=>((0,i.dD)("data-v-0bd848bd"),t=t(),(0,i.Cn)(),t),Ym={class:"introduce"},Km=(0,i.uE)('<p class="fs-5" data-v-0bd848bd>Xinh kính chào và cảm ơn quý khách đã truy cập vào website của chúng tôi</p><div class="intro-banner" data-v-0bd848bd><img class="intro-logo" src="http://localhost:3000/logo/logo.jpg" alt="" data-v-0bd848bd><p data-v-0bd848bd>THIEN THANH COMPANY</p></div><div class="text-start" data-v-0bd848bd><h4 class="text-start" data-v-0bd848bd>Giới thiệu</h4><p data-v-0bd848bd> Do nắm bắt được thị trường tiềm năng về in ấn và sao chụp của Việt Nam thời mở cửa những năm 1990s, <strong data-v-0bd848bd>Thien Thanh Office</strong> đã ra đời với định hướng kinh doanh đầu tiên là phân phối máy photocopy đã qua sử dụng cho toàn miền bắc. Và từ đó, công ty chúng tôi đã dần dần phát triền, mở rộng quy mô và bắt đầu kinh doanh thêm các loại linh kiện vật tư của rất nhiều dòng máy photocopy thời bấy giờ. Cho đến những năm 2000s, khi nhu cầu khách hàng dần chuyển qua những dòng máy in văn phòng có kích thước nhỏ gọn hơn, những chủng loại máy in đầu tiên, công nghệ hiện đại đã được <strong data-v-0bd848bd>Thien Thanh Office</strong> nhập khẩu về và cung cấp tới tay người tiêu dùng cùng với các đại lý lớn nhỏ trên toàn quốc. </p><p data-v-0bd848bd> Với bề dày kinh nghiệm hơn 20 năm hoạt động trong lĩnh vực thiết bị máy văn phòng, <strong data-v-0bd848bd>Thien Thanh Office</strong> tự hào có một chỗ đứng vững chắc trên thị trường cũng như là sự tín nhiệm của khách hàng trên toàn quốc. Khi đến với chúng tôi, các bạn sẽ được trải nhiệm những dịch vụ mua sắm và chăm sóc khách hàng đắc lực nhất. </p><p data-v-0bd848bd> Bên cạnh đó, <strong data-v-0bd848bd>Thien Thanh Office</strong> cũng muốn gửi lời cảm ơn trân trọng đến những khách hàng đã hỗ trợ và hợp tác cùng công ty chúng tôi từ những ngày đầu thành lập. Nếu không có sự hỗ trợ và tin tưởng ấy, có thể chúng tôi đã không có được sự thành công rực rỡ như ngày hôm nay. Và <strong data-v-0bd848bd>Thien Thanh Office</strong> cũng hy vọng sẽ được tiếp tục đồng hành và hợp tác cùng quý khách hàng trong những năm tháng tiếp theo. </p></div><div class="text-start" data-v-0bd848bd><h4 class="text-start" data-v-0bd848bd>Những mặt hàng và dịch vụ tiêu biểu</h4><p data-v-0bd848bd><strong data-v-0bd848bd>Công ty TNHH máy văn phòng Thien Thanh</strong> được phép của sở kế hoạch và đầu tư thành phố Cần Thơ, chuyên nhập khẩu và phân phối nguyên vật tư linh kiện máy in, máy photo, máy fax, các loại mực in, mực photo và là một trong số những doanh nghiệp uy tín hàng đầu trong lĩnh vực máy văn phòng tại thị trường Việt Nam. Những thương hiệu tiêu biểu của Thien Thanh Office gồm có: Ricoh, Toshiba, Canon, Sharp, Fuji-Xerox, HP, Epson, v.v. Các loại máy photocopy, máy in hoặc linh kiện vật tư đến từ những thương hiệu kể trên đều có nhiều tính năng ưu việt và được khách hàng trên toàn quốc tín nhiệm cũng như sử dụng rộng rãi. Ngoài ra, Hoàng Minh Office còn cung cấp các loại hình dịch vụ đổ mực, bảo trì, bảo dưỡng và sửa chữa máy in, máy photocopy chất lượng cao, giá cả cạnh trạnh nhất trong khu vực Cần thơ </p></div><div class="text-start" data-v-0bd848bd><h4 class="text-start" data-v-0bd848bd>Đinh hướng kinh doanh</h4><p data-v-0bd848bd> Với phương châm luôn đặt lợi ích của khách hàng lên hàng đầu, <strong data-v-0bd848bd>Thien Thanh Office</strong> luôn luôn đổi mới để có thể nắm bắt tốt hơn thị trường cũng như thị hiếu của người tiêu dùng qua từng ngày. Sứ mệnh của chúng tôi là trở thành một doanh nghiệp kinh doanh thiết bị máy văn phòng chuyên nghiệp nhất và tầm cỡ nhất tại Việt Nam, mang lại nhiều lợi ích quý giá mà khách hàng mong muốn. </p></div>',5),Lm=Hm((()=>(0,i._)("h4",{class:"text-start"},"Thông tin liên hệ",-1))),Zm={class:"fw-700 text-uppercase"},jm={class:"mt-3"},Qm=Hm((()=>(0,i._)("strong",null,"Địa chỉ:",-1))),Gm={class:"mt-3"},Wm=Hm((()=>(0,i._)("strong",null,"Số điện thoại:",-1))),Jm={class:"mt-3"},Xm=Hm((()=>(0,i._)("strong",null,"Email:",-1)));function tg(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",Ym,[Km,(0,i._)("div",null,[Lm,(0,i._)("h5",Zm,(0,n.zw)(l.company.name),1),(0,i._)("div",jm,[Qm,(0,i.Uk)(" "+(0,n.zw)(l.company.address),1)]),(0,i._)("div",Gm,[Wm,(0,i.Uk)(" "+(0,n.zw)(l.company.phone),1)]),(0,i._)("div",Jm,[Xm,(0,i.Uk)(" "+(0,n.zw)(l.company.email),1)])])])}class eg{constructor(t="http://localhost:3000/company",e={"Content-Type":"multipart/form-data"}){this.api=(0,T.Z)(t,e)}async get(){return await this.api.get("/")}async update(t,e){return await this.api.post(`/update/?id=${t}`,e)}}var sg=new eg,ag={data(){return{company:{}}},methods:{async getCompany(){try{const t=await sg.get();this.company=t.data[0]}catch(t){console.log(t)}}},mounted(){this.getCompany()}};const ig=(0,ft.Z)(ag,[["render",tg],["__scopeId","data-v-0bd848bd"]]);var ng=ig;const lg=t=>((0,i.dD)("data-v-a6360bce"),t=t(),(0,i.Cn)(),t),og={class:"mb-5"},rg=lg((()=>(0,i._)("h3",{class:"text-uppercase text-primary mt-2"},"Tin tức nổi bật",-1))),cg={class:"container"},dg={class:"row"},hg={class:"col-lg-9"},pg={class:"row"},ug=["onClick"],mg=["src"],gg={class:"info-new"},yg={class:"col-lg-3 text-start"},fg=lg((()=>(0,i._)("h4",{style:{color:"#333","font-weight":"600"}},"Giới thiệu doanh nghiệp",-1))),vg={class:"fw-700 mb-0 text-uppercase"},_g={class:"mt-3"},wg=lg((()=>(0,i._)("strong",null,"Địa chỉ:",-1))),bg={class:"mt-3"},kg=lg((()=>(0,i._)("strong",null,"Số điện thoại:",-1))),Cg={class:"mt-3"},xg=lg((()=>(0,i._)("strong",null,"Email:",-1))),Sg={class:"product-pagination mt-5"},Dg={class:"pagination"},Tg=lg((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),Pg=[Tg],Ig=lg((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),Ag=["onClick"],Ug=lg((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),qg=lg((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),Ng=[qg];function zg(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",og,[rg,(0,i._)("div",cg,[(0,i._)("div",dg,[(0,i._)("div",hg,[(0,i._)("div",pg,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.news,(t=>((0,i.wg)(),(0,i.iD)("div",{class:"col-lg-4",key:t._id},[(0,i._)("div",{class:"news-card",onClick:e=>o.detailPage(t._id)},[(0,i._)("img",{src:"http://localhost:3000/"+t.image,alt:""},null,8,mg),(0,i._)("div",gg,[(0,i._)("span",null,(0,n.zw)(t.createdAt),1),(0,i._)("h5",null,(0,n.zw)(t.title),1),(0,i._)("p",null,(0,n.zw)(t.content),1)])],8,ug)])))),128))])]),(0,i._)("div",yg,[fg,(0,i._)("h6",vg,(0,n.zw)(l.company.name),1),(0,i._)("div",_g,[wg,(0,i.Uk)(" "+(0,n.zw)(l.company.address),1)]),(0,i._)("div",bg,[kg,(0,i.Uk)(" "+(0,n.zw)(l.company.phone),1)]),(0,i._)("div",Cg,[xg,(0,i.Uk)(" "+(0,n.zw)(l.company.email),1)])])])]),(0,i._)("div",Sg,[(0,i._)("ul",Dg,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[0]||(e[0]=(...t)=>o.previousPage&&o.previousPage(...t))},Pg)]),Ig,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,Ag)])))),128)),Ug,(0,i._)("li",null,[(0,i._)("span",{onClick:e[1]||(e[1]=(...t)=>o.nextPage&&o.nextPage(...t))},Ng)])])])])}var Fg={data(){return{company:{},news:[],pageNumber:1,pageSize:6,activePage:1}},methods:{handlePage(t){this.activePage=t,this.pageNumber=t,this.getAllNews()},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1)},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAllNews())},async getCompany(){try{const t=await sg.get();this.company=t.data[0]}catch(t){console.log(t)}},async getAllNews(){try{const t=await It.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await It.getAll(this.pageNumber,this.pageSize);this.news=[...e.data],this.news.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)})),console.log(this.news)}catch(t){console.log(t)}},detailPage(t){this.$router.push({name:"news.detail",params:{id:t}})}},mounted(){this.getCompany(),this.getAllNews()}};const Og=(0,ft.Z)(Fg,[["render",zg],["__scopeId","data-v-a6360bce"]]);var Mg=Og;const Vg=t=>((0,i.dD)("data-v-2b8a5e3a"),t=t(),(0,i.Cn)(),t),Eg={class:"my-5 text-start"},$g={class:"container"},Bg={class:"row"},Rg={class:"col lg-9"},Hg={class:"news-detail"},Yg={style:{color:"#333","font-weight":"600"}},Kg=["src"],Lg={class:"mt-3"},Zg={class:"col-lg-3 text-start"},jg=Vg((()=>(0,i._)("h4",{style:{color:"#333","font-weight":"600"}},"Giới thiệu doanh nghiệp",-1))),Qg={class:"fw-700 mb-0 text-uppercase"},Gg={class:"mt-3"},Wg=Vg((()=>(0,i._)("strong",null,"Địa chỉ:",-1))),Jg={class:"mt-3"},Xg=Vg((()=>(0,i._)("strong",null,"Số điện thoại:",-1))),ty={class:"mt-3"},ey=Vg((()=>(0,i._)("strong",null,"Email:",-1)));function sy(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",Eg,[(0,i._)("div",$g,[(0,i._)("div",Bg,[(0,i._)("div",Rg,[(0,i._)("div",Hg,[(0,i._)("h4",Yg,(0,n.zw)(l.news.title),1),(0,i._)("p",null,(0,n.zw)(l.news.createdAt),1),(0,i._)("img",{src:"http://localhost:3000/"+l.news.image,alt:""},null,8,Kg),(0,i._)("p",Lg,(0,n.zw)(l.news.content),1)])]),(0,i._)("div",Zg,[jg,(0,i._)("h6",Qg,(0,n.zw)(l.company.name),1),(0,i._)("div",Gg,[Wg,(0,i.Uk)(" "+(0,n.zw)(l.company.address),1)]),(0,i._)("div",Jg,[Xg,(0,i.Uk)(" "+(0,n.zw)(l.company.phone),1)]),(0,i._)("div",ty,[ey,(0,i.Uk)(" "+(0,n.zw)(l.company.email),1)])])])])])}var ay={data(){return{company:{},news:{}}},props:["id"],methods:{async getCompany(){try{const t=await sg.get();this.company=t.data[0]}catch(t){console.log(t)}},async getNewsById(){try{const t=await It.getById(this.id);this.news=t.data,this.news.createdAt=mt.formatDateNoTime(this.news.createdAt)}catch(t){console.log(t)}}},mounted(){this.getCompany(),this.getNewsById()}};const iy=(0,ft.Z)(ay,[["render",sy],["__scopeId","data-v-2b8a5e3a"]]);var ny=iy;const ly=t=>((0,i.dD)("data-v-4f9bb0ed"),t=t(),(0,i.Cn)(),t),oy={class:"mb-5 mt-3"},ry=ly((()=>(0,i._)("h3",{class:"text-uppercase text-primary mb-5"},"Liên hệ với chúng tôi",-1))),cy={class:"container"},dy={class:"text-uppercase fw-bold"},hy={class:"row text-start mt-3 contact"},py={class:"col"},uy=ly((()=>(0,i._)("i",{class:"fa-solid fa-phone"},null,-1))),my={class:"ms-2"},gy={class:"col-auto"},yy=ly((()=>(0,i._)("i",{class:"fa-solid fa-envelope"},null,-1))),fy={class:"ms-2"},vy={class:"col-auto"},_y=ly((()=>(0,i._)("i",{class:"fa-solid fa-location-dot"},null,-1))),wy={class:"ms-2"},by=ly((()=>(0,i._)("div",{class:"col"},[(0,i._)("i",{class:"fa-solid fa-clock"}),(0,i._)("span",{class:"ms-2"},"7h-21h")],-1))),ky=ly((()=>(0,i._)("div",{class:"map"},[(0,i._)("h3",{class:"mt-2 mb-3 text-uppercase"},"Vị trí công ty trên bản đồ"),(0,i._)("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3929.025809211959!2d105.7566691746508!3d10.01472667278193!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x31a08835780c108d%3A0x22d8a937e0a58ff3!2zNzEgxJAuIDMgVGjDoW5nIDIsIEjGsG5nIEzhu6NpLCBOaW5oIEtp4buBdSwgQ-G6p24gVGjGoSA5MDAwMCwgVmnhu4d0IE5hbQ!5e0!3m2!1svi!2s!4v1699004034070!5m2!1svi!2s",width:"600",height:"450",style:{border:"0"},allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"})],-1)));function Cy(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",oy,[ry,(0,i._)("div",cy,[(0,i._)("h2",dy,(0,n.zw)(l.company.name),1),(0,i._)("div",hy,[(0,i._)("div",py,[uy,(0,i._)("span",my,(0,n.zw)(l.company.phone),1),(0,i.Uk)(" | ")]),(0,i._)("div",gy,[yy,(0,i._)("span",fy,(0,n.zw)(l.company.email),1),(0,i.Uk)(" | ")]),(0,i._)("div",vy,[_y,(0,i._)("span",wy,(0,n.zw)(l.company.address),1),(0,i.Uk)(" | ")]),by]),ky])])}var xy={data(){return{company:{}}},methods:{async getCompany(){try{const t=await sg.get();this.company=t.data[0]}catch(t){console.log(t)}}},mounted(){this.getCompany()}};const Sy=(0,ft.Z)(xy,[["render",Cy],["__scopeId","data-v-4f9bb0ed"]]);var Dy=Sy;const Ty={class:"mt-3 mb-5 mx-5"},Py=(0,i.uE)('<h3 class="text-uppercase text-primary mb-5" data-v-a87c3074>dịch vụ sửa chưa và bảo trì máy</h3><div class="service" data-v-a87c3074><div class="mt-3 text-start" data-v-a87c3074><strong data-v-a87c3074> Trong quá trình sử dụng, nếu máy Photocopy, máy in của quý của khách gặp sự cố, hãy liên hệ vớiThien Thanh của chúng tôi để được phục vụ tận tình, và chuyên nghiệp nhất. </strong><p class="mt-4" data-v-a87c3074><strong data-v-a87c3074> Thien Thanh</strong> chuyên cung cấp về <span class="text-danger" data-v-a87c3074>dịch vụ bảo trì &amp; sửa chữa máy photocopy</span> đảm bảo chuyên nghiệp với đội ngũ kỹ thuật có tay nghề chuyên môn cao, đã được đào tạo bài bản chuyên sâu về các dòng máy photo hiện nay – hứa hẹn sẽ làm hài lòng quý khách hàng, đáp ứng tiến độ công việc của công ty, doanh nghiệp của bạn trong việc in ấn. </p></div><div data-v-a87c3074><h4 class="title-service" data-v-a87c3074>Thời gian sửa chữa</h4><p data-v-a87c3074>Khách hàng có thể liên hệ qua số điện thoại 0366176577 để được tư vấn và báo giá thời gian làm việc 7h-21h từ thừ 2 đến thứ 7 hàng tuần</p></div><div class="mt-3" data-v-a87c3074><h4 class="title-service" data-v-a87c3074>Khi Nào Cần Đến Dịch Vụ Bảo Trì, Sửa Chữa?</h4><p data-v-a87c3074>Dù là một doanh nghiệp, đơn vị lớn hay nhỏ cũng đều được trang bị thiết bị văn phòng, máy móc cần thiết như máy photo, máy in, máy fax, máy chiếu,… Đặc biệt chúng là loại máy hiện đại và tiện lợi lại rất cần thiết cho các văn phòng hiện nay trong việc in ấn. Chúng lại có cấu tạo phức tạp, dễ gặp phải một số lỗi kỹ thuật như</p><ul data-v-a87c3074><li data-v-a87c3074>Đã sử dụng trong thời gian dài cần phải bảo trì để máy photo để không bị các trường hợp như dễ bị lem, mờ, sọc đen, tình trạng bị kẹt giấy, làm giảm chất lượng tài liệu in ấn, ảnh hưởng lớn đến tuổi thọ của máy lẫn chất lượng công việc. </li><li data-v-a87c3074>Khi sử dụng chiếc máy photo, máy in của bạn gặp phải vấn đề hư hỏng nhưng đã hết chế độ bảo hành, bạn phải cần đến dịch vụ sửa chữa máy photocopy để công việc được tiếp tục</li></ul><p data-v-a87c3074> Với một số trường hợp như vậy thi giải pháp duy nhất cho đơn vị bạn chính là tìm đến đoen vị bảo trì &amp; sửa chữa để máy photo của bạn vận hành thật tốt, chất lượng đảm bảo. </p><p data-v-a87c3074> Mục đích của dịch vụ Bảo trì &amp; sửa chữa: đảm bảo chiếc máy của bạn luôn hoạt động ở trạng thái tốt nhất, cho bản chụp có chất lượng hình ảnh cao, tiết giảm số lượng vật tư thay thế, nâng cao tuổi thọ của linh kiện, giảm thiểu sự gián đoạn công việc, nâng cao năng suất làm việc của máy và tăng lợi nhuận cho quý khách hàng. </p></div><div class="mt-3" data-v-a87c3074><h4 class="title-service" data-v-a87c3074>Trung Tâm Sửa Chữa – Bảo Trì Máy Photocopy</h4><p data-v-a87c3074> Chuyên sửa chữa, bảo trì bảo dưỡng máy Photocopy và máy in. Với nhiều năm kinh nghiệm hoạt động trong lĩnh vực kinh doanh và sửa chữa máy Photocopy, CtyThien Thanh chúng tôi ngoài việc tuyển dụng các kỹ thuật đã có kinh nghiệm thì việc đào tạo, tái đào tạo nghiệp vụ là liên tục trong quá trình phục vụ khách hàng, vì thế các kỷ thuật viên nắm vững được được cơ chế, nguyên lý hoạt động của từng bộ phận, qui tắc hoạt động tổng thể của thiết bị máy photocopy thường, máy photocopy kỹ thuật số. </p><img src="https://giavan.com.vn/wp-content/uploads/2019/01/banner-photocopy-gia-van.png" alt="" class="w-100 mt-3" data-v-a87c3074><p data-v-a87c3074> Từ chỗ nắm rõ được nguyên lý máy một cách sâu sắc cho nên tập thể Công ty TNHH Thiết bị văn phòngThien Thanh đã đưa ra được các phương pháp kỹ thuật bảo trì, kiểm tra và sửa chữa máy khoa học, tìm ra và tìm chính xác các nguyên nhân gây ra sự hỏng hóc, hao mòn hay sai lệch của máy móc cho nên việc bảo trì, sửa chữa hay thay thế linh kiện cho máy Photocopy đối với công ty chúng tôi thực hiện là nhanh chóng, dễ dàng và đạt hiệu quả tối ưu, hầu hết các kỹ thuật viên của Công tyThien Thanh thực hiện đúng một lần bảo trì hay sửa chữa là dứt điểm các hỏng hóc của thiết bị máy photocopy. </p><p data-v-a87c3074> Chúng tôi cam kết đảm bảo máy photocopy, máy in của quý khách hàng luôn được vệ sinh sạch sẽ, phát hiện và ngăn ngừa những hỏng hóc gây ra do các tác động từ bên ngoài (như môi trường làm việc, bụi bẩn, …), do yêu cầu bảo quản thiết bị của nhà sản xuất, do lỗi sử dụng,… </p></div><div class="mt-3" data-v-a87c3074><h4 class="title-service" data-v-a87c3074>Công việc sửa chữa máy photocopy</h4><ul data-v-a87c3074><li data-v-a87c3074> Kiểm tra xem máy photo của bạn mắc lỗi gì? </li><li data-v-a87c3074> Xem hử hỏng cần sửa chữa bộ phận nào hay cần thay thế cho linh kiện bị hư. </li><li data-v-a87c3074> Báo giá, thời gian sửa chữa -&gt; Khách hàng đồng ý thì sửa chữa. </li></ul></div></div>',2),Iy=[Py];function Ay(t,e,s,a,n,l){return(0,i.wg)(),(0,i.iD)("div",Ty,Iy)}var Uy={};const qy=(0,ft.Z)(Uy,[["render",Ay],["__scopeId","data-v-a87c3074"]]);var Ny=qy;const zy=t=>((0,i.dD)("data-v-55cb0df8"),t=t(),(0,i.Cn)(),t),Fy={key:0,class:"position-alert"},Oy={class:"alert alert-success",role:"alert"},My={key:1,class:"position-alert"},Vy={class:"alert alert-danger",role:"alert"},Ey={class:"container mb-5"},$y=zy((()=>(0,i._)("h3",{class:"text-uppercase my-3 text-primary"},"Chỉnh sửa thông tin cá nhân của bạn",-1))),By={class:"info-user"},Ry={class:"info-avatar"},Hy={class:"avatar-container"},Yy=["src"],Ky=["src"],Ly=zy((()=>(0,i._)("label",{for:"avt"},[(0,i._)("i",{class:"fa-solid fa-file-pen"})],-1))),Zy={class:"info"},jy=zy((()=>(0,i._)("h4",{class:"text-capitalize mt-3"},"Thông tin cá nhân",-1))),Qy={class:"col-lg-12"},Gy={class:"spe-group"},Wy=zy((()=>(0,i._)("label",{for:""},"Tên",-1))),Jy={class:"spe-group"},Xy=zy((()=>(0,i._)("label",{for:""},"Số điện thoại",-1))),tf={class:"spe-group"},ef=zy((()=>(0,i._)("label",{for:""},"Email",-1))),sf=zy((()=>(0,i._)("div",{class:"text-center"},[(0,i._)("button",{class:"btn btn-success w-50"},"Thay đổi")],-1))),af={key:0,class:"overlay"},nf={class:"d-flex justify-content-end"},lf=zy((()=>(0,i._)("h4",{class:"text-uppercase text-primary"},"đổi mật khẩu",-1))),of={key:0,class:"text-success"},rf={key:1,clas:"text-danger"},cf={class:"row"},df={class:"col-lg-12"},hf={class:"spe-group"},pf=zy((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Mật khẩu cũ "),(0,i._)("span",{class:"text-danger"}," *")],-1))),uf={class:"spe-group"},mf=zy((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Mật khẩu mới "),(0,i._)("span",{class:"text-danger"}," *")],-1))),gf={key:0,class:"text-danger"},yf={class:"spe-group"},ff=zy((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Nhập lại mật khẩu "),(0,i._)("span",{class:"text-danger"}," *")],-1))),vf={key:0,class:"text-danger"},_f=zy((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-success px-5"},"Gửi")],-1)));function wf(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.mesInfoSuc?((0,i.wg)(),(0,i.iD)("div",Fy,[(0,i._)("div",Oy,(0,n.zw)(l.mesInfoSuc),1)])):(0,i.kq)("",!0),l.mesInfoFail?((0,i.wg)(),(0,i.iD)("div",My,[(0,i._)("div",Vy,(0,n.zw)(l.mesInfoFail),1)])):(0,i.kq)("",!0),(0,i._)("div",Ey,[$y,(0,i._)("div",By,[(0,i._)("div",Ry,[(0,i._)("div",Hy,[l.image?((0,i.wg)(),(0,i.iD)("img",{key:1,src:l.image,alt:""},null,8,Ky)):((0,i.wg)(),(0,i.iD)("img",{key:0,src:"http://localhost:3000"+l.user?.avatar,alt:""},null,8,Yy)),Ly,(0,i._)("input",{type:"file",name:"",id:"avt",class:"d-none",onChange:e[0]||(e[0]=(...t)=>o.handleImage&&o.handleImage(...t))},null,32)])]),(0,i._)("div",Zy,[jy,(0,i._)("form",{action:"",class:"row",onSubmit:e[5]||(e[5]=(0,A.iM)(((...t)=>o.changeInfouser&&o.changeInfouser(...t)),["prevent","stop"]))},[(0,i._)("div",Qy,[(0,i._)("div",Gy,[Wy,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=t=>l.user.fullName=t)},null,512),[[A.nr,l.user.fullName]])]),(0,i._)("div",Jy,[Xy,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=t=>l.user.phoneNumber=t)},null,512),[[A.nr,l.user.phoneNumber]])]),(0,i._)("div",tf,[ef,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=t=>l.user.email=t)},null,512),[[A.nr,l.user.email]])])]),(0,i._)("span",{class:"change-pass",onClick:e[4]||(e[4]=(...t)=>o.openFormChangePass&&o.openFormChangePass(...t))},"Đổi mật khẩu"),sf],32)])]),l.activeChangePass?((0,i.wg)(),(0,i.iD)("div",af,[(0,i._)("form",{action:"",class:"change-pass-form",onSubmit:e[10]||(e[10]=(0,A.iM)(((...t)=>o.changePass&&o.changePass(...t)),["prevent","stop"]))},[(0,i._)("div",nf,[(0,i._)("i",{class:"fa-solid fa-xmark icon-close",onClick:e[6]||(e[6]=t=>l.activeChangePass=!1)})]),lf,l.mesChangePassSuc?((0,i.wg)(),(0,i.iD)("span",of,(0,n.zw)(l.mesChangePassSuc),1)):(0,i.kq)("",!0),l.mesChangePassFail?((0,i.wg)(),(0,i.iD)("span",rf,(0,n.zw)(l.mesChangePassFail),1)):(0,i.kq)("",!0),(0,i._)("div",cf,[(0,i._)("div",df,[(0,i._)("div",hf,[pf,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.infoChangePass.password=t),type:"password",placeholder:"Nhập mật khẩu cũ của bạn",required:"",minlength:"6"},null,512),[[A.nr,l.infoChangePass.password]])]),(0,i._)("div",uf,[mf,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.infoChangePass.newPass=t),type:"password",placeholder:"Nhập mật khẩu mới của bạn",required:"",minlength:"6"},null,512),[[A.nr,l.infoChangePass.newPass]]),l.valid?.newPass?((0,i.wg)(),(0,i.iD)("span",gf,(0,n.zw)(l.valid.newPass),1)):(0,i.kq)("",!0)]),(0,i._)("div",yf,[ff,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.infoChangePass.confirmPass=t),type:"password",placeholder:"nhập lại mật khẩu",required:"",minlength:"6"},null,512),[[A.nr,l.infoChangePass.confirmPass]]),l.valid?.confirmPass?((0,i.wg)(),(0,i.iD)("span",vf,(0,n.zw)(l.valid.confirmPass),1)):(0,i.kq)("",!0)])])]),_f],32)])):(0,i.kq)("",!0)])],64)}var bf={data(){return{user:{},activeChangePass:!1,image:"",mesInfoFail:"",mesInfoSuc:"",infoChangePass:{},valid:{},mesChangePassFail:"",mesChangePassSuc:""}},methods:{getUserToSession(){const t=JSON.parse(sessionStorage.getItem("user"));this.user=t.user},handleImage(t){this.user.avatar=t.target.files[0]||"";const e=URL.createObjectURL(this.user.avatar);this.image=e},async changeInfouser(){try{const t=JSON.parse(sessionStorage.getItem("user")),e=await Gt.changeInfo(this.user);if(e.data.status){this.user=e.data.result;const s=t.token,a={token:s,user:{...this.user}};sessionStorage.setItem("user",JSON.stringify(a)),this.getUserToSession(),this.$store.commit("changeInfo",e.data.result),this.mesInfoSuc=e.data.mes,this.mesInfoFail="",setTimeout((()=>{this.mesInfoSuc="",this.mesInfoFail=""}),500)}else this.mesInfoSuc="",this.mesInfoFail=e.data.mes,setTimeout((()=>{this.mesInfoSuc="",this.mesInfoFail=""}),500)}catch(t){console.log(t)}},openFormChangePass(){this.activeChangePass=!0,this.infoChangePass={},this.mesChangePassSuc="",this.mesChangePassFail=""},async changePass(){try{const t=this.validate(),e={_id:this.user._id,...this.infoChangePass};if(t){const t=await Gt.changePass(e);t.data.status?(this.infoChangePass={},this.mesChangePassSuc=t.data.mes,this.mesChangePassFail=""):(this.mesChangePassSuc="",this.mesChangePassFail=t.data.mes)}}catch(t){console.log(t)}},validate(){this.infoChangePass.newPass!==this.infoChangePass.confirmPass?this.valid.confirmPass="Không trùng khớp":this.valid.confirmPass=null,this.infoChangePass.newPass==this.infoChangePass.password?this.valid.newPass="Mật khẩu mới giống mật khẩu cũ":this.valid.newPass=null;let t=!1;const e=Object.values(this.valid);for(let s=0;s<e.length;s++){if(null!==e[s]){t=!1;break}t=!0}return t}},mounted(){this.getUserToSession()}};const kf=(0,ft.Z)(bf,[["render",wf],["__scopeId","data-v-55cb0df8"]]);var Cf=kf;const xf=t=>((0,i.dD)("data-v-21ec3e0a"),t=t(),(0,i.Cn)(),t),Sf=xf((()=>(0,i._)("h3",{class:"h3"},"Bảng sản phẩm",-1))),Df={class:"input-admin-filter"},Tf=xf((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),Pf=["value"],If=xf((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),Af=["value"],Uf=xf((()=>(0,i._)("option",{value:"0"},"Năm",-1))),qf=["value"],Nf=(0,i.uE)('<option value="" data-v-21ec3e0a>Chọn kiểu</option><option value="0" data-v-21ec3e0a>Tất cả</option><option value="createdAt" data-v-21ec3e0a>Ngày Tạo</option><option value="updatedAt" data-v-21ec3e0a>Ngày cập nhật</option><option value="dateEntyReceipt" data-v-21ec3e0a>Ngày Nhập kho</option>',5),zf=[Nf],Ff=xf((()=>(0,i._)("button",null,"Lọc",-1))),Of={class:"admin-export"},Mf=xf((()=>(0,i._)("i",{class:"fa-solid fa-chart-line"},null,-1))),Vf=xf((()=>(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1))),Ef=xf((()=>(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1))),$f={class:"table-product"},Bf={class:"table-head"},Rf=xf((()=>(0,i._)("th",{class:"STT"},"STT",-1))),Hf={class:"column1-th text-center"},Yf={class:"admin-table-title"},Kf=xf((()=>(0,i._)("p",null,"Tên sản phẩm",-1))),Lf={class:"admin-sort"},Zf=xf((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),jf={class:"admin-sort-list"},Qf={class:"filter-admin-input"},Gf={class:"column2"},Wf={class:"admin-table-title"},Jf=xf((()=>(0,i._)("p",null,"Số lượng nhập",-1))),Xf={class:"admin-sort"},tv=xf((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),ev={class:"admin-sort-list"},sv={class:"filter-admin-input"},av={class:"column3"},iv={class:"admin-table-title"},nv=xf((()=>(0,i._)("p",null,"Số lượng bán",-1))),lv={class:"admin-sort"},ov=xf((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),rv={class:"admin-sort-list"},cv={class:"filter-admin-input"},dv={class:"column6"},hv={class:"admin-table-title"},pv=xf((()=>(0,i._)("p",null,"Giá nhập",-1))),uv={class:"admin-sort"},mv=xf((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),gv={class:"admin-sort-list"},yv={class:"filter-admin-input"},fv={class:"column7"},vv={class:"admin-table-title"},_v=xf((()=>(0,i._)("p",null,"Giá bán",-1))),wv={class:"admin-sort"},bv=xf((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),kv={class:"admin-sort-list"},Cv={class:"filter-admin-input"},xv={class:"column2"},Sv={class:"admin-table-title"},Dv=xf((()=>(0,i._)("p",null,"Số lượng thuê",-1))),Tv={class:"admin-sort"},Pv=xf((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),Iv={class:"admin-sort-list"},Av={class:"filter-admin-input"},Uv={class:"column8"},qv={class:"admin-table-title"},Nv=xf((()=>(0,i._)("p",null,"Giá thuê",-1))),zv={class:"admin-sort"},Fv=xf((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),Ov={class:"admin-sort-list"},Mv={class:"filter-admin-input"},Vv=xf((()=>(0,i._)("th",{class:"column4-th"},[(0,i._)("div",{class:"admin-table-title"},[(0,i._)("p",null,"lịch sử")])],-1))),Ev=xf((()=>(0,i._)("th",{class:"column5-th text-center"},[(0,i._)("span",{class:"me-4 text-left"},"Xem"),(0,i._)("span",{class:"me-4 text-left"},"Sửa"),(0,i._)("span",{class:""},"Thêm")],-1))),$v={class:"table-body"},Bv={class:"STT"},Rv={class:"column1"},Hv={class:"column2"},Yv={class:"column3"},Kv={class:"column6"},Lv={class:"column7"},Zv={class:"column3"},jv={class:"column8"},Qv={class:"column4"},Gv=xf((()=>(0,i._)("b",null,"Tạo:",-1))),Wv=xf((()=>(0,i._)("b",null,"Nhập:",-1))),Jv={class:"column5"},Xv=["onClick"],t_=xf((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1))),e_=[t_],s_=xf((()=>(0,i._)("i",{class:"fa-solid fa-pen-to-square"},null,-1))),a_=["onClick"],i_=xf((()=>(0,i._)("i",{class:"fa-solid fa-plus"},null,-1))),n_=[i_],l_={class:"product-pagination"},o_={class:"pagination"},r_=xf((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),c_=[r_],d_=xf((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),h_=["onClick"],p_=xf((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),u_=xf((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),m_=[u_],g_=xf((()=>(0,i._)("h3",null,"Biểu đồ thống kê",-1))),y_={class:"chart-container"};function f_(t,e,s,a,l,o){const r=(0,i.up)("router-link"),c=(0,i.up)("admin-product-detail"),d=(0,i.up)("admin-specification-vue"),h=(0,i.up)("admin-chart");return(0,i.wg)(),(0,i.iD)("div",null,[Sf,(0,i._)("div",Df,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[Tf,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,Pf))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[If,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,Af))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[Uf,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,qf)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},zf,512),[[A.bM,l.dateFilter.field]]),Ff],32),(0,i._)("div",Of,[(0,i._)("div",{class:"btn btn-danger",onClick:e[5]||(e[5]=(...t)=>o.chart&&o.chart(...t))},[Mf,(0,i.Uk)(" Chart ")]),(0,i._)("div",{class:"btn btn-success",onClick:e[6]||(e[6]=(...t)=>o.exportToExcel&&o.exportToExcel(...t))},[Vf,(0,i.Uk)(" Excel ")]),(0,i._)("div",{class:"btn btn-warning",onClick:e[7]||(e[7]=(...t)=>o.exportToPDF&&o.exportToPDF(...t))},[Ef,(0,i.Uk)(" Pdf")])])]),(0,i._)("table",$f,[(0,i._)("thead",Bf,[(0,i._)("tr",null,[Rf,(0,i._)("th",Hf,[(0,i._)("div",Yf,[l.isSort?((0,i.wg)(),(0,i.iD)("span",{key:0,onClick:e[8]||(e[8]=(...t)=>o.offSort&&o.offSort(...t)),class:"active-sort"}," Lọc ")):(0,i.kq)("",!0),Kf,(0,i._)("div",Lf,[Zf,(0,i._)("ul",jf,[(0,i._)("li",{onClick:e[9]||(e[9]=t=>o.sort(1,"name"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[10]||(e[10]=t=>o.sort(-1,"name"))},"Từ Z về A"),(0,i._)("div",Qf,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[11]||(e[11]=t=>l.filterInput=t),onInput:e[12]||(e[12]=t=>o.handleFitter("name"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",Gf,[(0,i._)("div",Wf,[Jf,(0,i._)("div",Xf,[tv,(0,i._)("ul",ev,[(0,i._)("li",{onClick:e[13]||(e[13]=t=>o.sort(1,"inputQuantity"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[14]||(e[14]=t=>o.sort(-1,"inputQuantity"))},"Từ lớn đến nhỏ"),(0,i._)("li",{onClick:e[15]||(e[15]=t=>o.sort(0,"inputQuantity"))},"Bằng 0"),(0,i._)("div",sv,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[16]||(e[16]=t=>l.filterInput=t),onInput:e[17]||(e[17]=t=>o.handleFitter("inputQuantity"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",av,[(0,i._)("div",iv,[nv,(0,i._)("div",lv,[ov,(0,i._)("ul",rv,[(0,i._)("li",{onClick:e[18]||(e[18]=t=>o.sort(1,"soldQuantity"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[19]||(e[19]=t=>o.sort(-1,"soldQuantity"))},"Từ lớn đến nhỏ"),(0,i._)("li",{onClick:e[20]||(e[20]=t=>o.sort(0,"soldQuantity"))},"Bằng 0"),(0,i._)("div",cv,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[21]||(e[21]=t=>l.filterInput=t),onInput:e[22]||(e[22]=t=>o.handleFitter("soldQuantity"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",dv,[(0,i._)("div",hv,[pv,(0,i._)("div",uv,[mv,(0,i._)("ul",gv,[(0,i._)("li",{onClick:e[23]||(e[23]=t=>o.sort(1,"priceImport"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[24]||(e[24]=t=>o.sort(-1,"priceImport"))},"Từ lớn đến nhỏ"),(0,i._)("li",{onClick:e[25]||(e[25]=t=>o.sort(0,"priceImport"))},"Bằng 0"),(0,i._)("div",yv,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[26]||(e[26]=t=>l.filterInput=t),onInput:e[27]||(e[27]=t=>o.handleFitter("priceImport"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",fv,[(0,i._)("div",vv,[_v,(0,i._)("div",wv,[bv,(0,i._)("ul",kv,[(0,i._)("li",{onClick:e[28]||(e[28]=t=>o.sort(1,"priceSale"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[29]||(e[29]=t=>o.sort(-1,"priceSale"))},"Từ lớn đến nhỏ"),(0,i._)("div",Cv,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[30]||(e[30]=t=>l.filterInput=t),onInput:e[31]||(e[31]=t=>o.handleFitter("priceSale"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",xv,[(0,i._)("div",Sv,[Dv,(0,i._)("div",Tv,[Pv,(0,i._)("ul",Iv,[(0,i._)("li",{onClick:e[32]||(e[32]=t=>o.sort(1,"rentalQuantity"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[33]||(e[33]=t=>o.sort(-1,"rentalQuantity"))},"Từ lớn đến nhỏ"),(0,i._)("li",{onClick:e[34]||(e[34]=t=>o.sort(0,"rentalQuantity"))},"Bằng 0"),(0,i._)("div",Av,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[35]||(e[35]=t=>l.filterInput=t),onInput:e[36]||(e[36]=t=>o.handleFitter("rentalQuantity"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",Uv,[(0,i._)("div",qv,[Nv,(0,i._)("div",zv,[Fv,(0,i._)("ul",Ov,[(0,i._)("li",{onClick:e[37]||(e[37]=t=>o.sort(1,"priceRental"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[38]||(e[38]=t=>o.sort(-1,"priceRental"))},"Từ lớn đến nhỏ"),(0,i._)("div",Mv,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[39]||(e[39]=t=>l.filterInput=t),onInput:e[40]||(e[40]=t=>o.handleFitter("priceRental"))},null,544),[[A.nr,l.filterInput]])])])])])]),Vv,Ev])]),(0,i._)("tbody",$v,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.products,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t._id},[(0,i._)("td",Bv,(0,n.zw)(e+1),1),(0,i._)("td",Rv,(0,n.zw)(t.name),1),(0,i._)("td",Hv,(0,n.zw)(t.inputQuantity),1),(0,i._)("td",Yv,(0,n.zw)(t.soldQuantity),1),(0,i._)("td",Kv,(0,n.zw)(o.formatCurency(t.priceImport)),1),(0,i._)("td",Lv,(0,n.zw)(o.formatCurency(t.priceSale)),1),(0,i._)("td",Zv,(0,n.zw)(t.rentalQuantity||0),1),(0,i._)("td",jv,(0,n.zw)(o.formatCurency(t.priceRental)),1),(0,i._)("td",Qv,[(0,i._)("span",null,[Gv,(0,i.Uk)(" "+(0,n.zw)(o.formatDateNoTime(t.createdAt)),1)]),(0,i._)("span",null,[Wv,(0,i.Uk)(" "+(0,n.zw)(t.dateEntyReceipt?o.formatDateNoTime(t.dateEntyReceipt):"Chưa nhập"),1)])]),(0,i._)("td",Jv,[(0,i._)("div",{class:"btn btn-outline-info me-3",onClick:e=>o.handleProductDetail(t._id)},e_,8,Xv),(0,i.Wm)(r,{to:{name:"product.edit",params:{id:t?._id}},class:"btn btn-outline-warning me-3"},{default:(0,i.w5)((()=>[s_])),_:2},1032,["to"]),(0,i._)("div",{class:"btn btn-outline-success me-3",onClick:e=>o.handleProductSpe(t._id)},n_,8,a_)])])))),128))])]),(0,i._)("div",l_,[(0,i._)("ul",o_,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[41]||(e[41]=(...t)=>o.previousPage&&o.previousPage(...t))},c_)]),d_,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,h_)])))),128)),p_,(0,i._)("li",null,[(0,i._)("span",{onClick:e[42]||(e[42]=(...t)=>o.nextPage&&o.nextPage(...t))},m_)])])]),(0,i.Wm)(c,{activeProductDetail:l.activeProductDetail,id:l.id,onCloseProductDetail:o.closeProductDetail},null,8,["activeProductDetail","id","onCloseProductDetail"]),l.isActiveSpe?((0,i.wg)(),(0,i.j4)(d,{key:0,isActiveSpe:l.isActiveSpe,idProduct:l.id,onCloseSpe:e[43]||(e[43]=t=>l.isActiveSpe=!1)},null,8,["isActiveSpe","idProduct"])):(0,i.kq)("",!0),l.activeChart?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[45]||(e[45]=(...t)=>o.closeChart&&o.closeChart(...t))},[(0,i._)("div",{class:"chart2",onClick:e[44]||(e[44]=(0,A.iM)((()=>{}),["stop"]))},[g_,(0,i._)("div",y_,[l.activeChart?((0,i.wg)(),(0,i.j4)(h,{key:0,class:"chart-size",data:l.data,"dynamic-labels":l.label,"chart-type":"bar",year:(new Date).getFullYear(),month:(new Date).getMonth()+1,typeStatistical:"month",color:"#F55050",name:"Số lượng bán và tồn kho",data2:l.data2,label1:"Số lượng bán và thuê",label2:"Số lượng tồn kho"},null,8,["data","dynamic-labels","year","month","data2"])):(0,i.kq)("",!0)])])])):(0,i.kq)("",!0)])}const v_={key:0,class:"overlay"},__={class:"admin-card"},w_={class:"card-image"},b_={key:0,class:"card-image-head"},k_=(0,i._)("span",{class:"card-info-title"},"Ảnh sản phẩm",-1),C_=[k_],x_=["src"],S_={key:2,class:"card-specifications"},D_=(0,i._)("span",{class:"card-specifications-title"},"Thông số kỹ thuật",-1),T_={key:0,class:"card-info-name"},P_={key:1,class:"div"},I_=(0,i._)("span",null,"Chưa thêm thông số kỹ thuật",-1),A_=[I_],U_={class:"card-info"},q_=(0,i._)("span",{class:"card-info-title"},"Thông tin sản phẩm",-1),N_={class:"card-info-name"},z_={class:"card-info-price"},F_=(0,i._)("span",{class:"card-info-title"},"Mô tả ",-1),O_={class:"card-info-description"},M_={class:"card-control mt-3"};function V_(t,e,s,a,l,o){const r=(0,i.up)("router-link");return s.activeProductDetail?((0,i.wg)(),(0,i.iD)("div",v_,[(0,i._)("div",__,[(0,i._)("i",{class:"fa-solid fa-xmark card-close",onClick:e[0]||(e[0]=(...t)=>o.closeProductDetail&&o.closeProductDetail(...t))}),(0,i._)("div",w_,[l.activeImg?((0,i.wg)(),(0,i.iD)("div",b_,C_)):(0,i.kq)("",!0),l.activeImg?((0,i.wg)(),(0,i.iD)("img",{key:1,src:"http://localhost:3000/"+l.product.image,alt:""},null,8,x_)):(0,i.kq)("",!0),l.activeImg?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",S_,[(0,i._)("i",{class:"fa-solid fa-xmark card-close-speci",onClick:e[1]||(e[1]=t=>l.activeImg=!0)}),D_,l.existSpe?((0,i.wg)(),(0,i.iD)("div",T_,[(0,i._)("p",null,[(0,i.Uk)("Tốc độ in: "),(0,i._)("span",null,(0,n.zw)(l.infoSpe.speed),1)]),(0,i._)("p",null,[(0,i.Uk)("Khay giấy "),(0,i._)("span",null,(0,n.zw)(l.infoSpe.paperTray),1)]),(0,i._)("p",null,[(0,i.Uk)("Kích thước giấy "),(0,i._)("span",null,(0,n.zw)(l.infoSpe.paperSize),1)]),(0,i._)("p",null,[(0,i.Uk)("Công nghệ: "),(0,i._)("span",null,(0,n.zw)(l.infoSpe.connectionTechnology),1)]),(0,i._)("p",null,[(0,i.Uk)("Màn hình: "),(0,i._)("span",null,(0,n.zw)(l.infoSpe.screen),1)])])):((0,i.wg)(),(0,i.iD)("div",P_,A_))]))]),(0,i._)("div",U_,[(0,i._)("h3",null,(0,n.zw)(l.product.name),1),q_,(0,i._)("div",N_,[(0,i._)("p",null,[(0,i.Uk)("Tên thương hiệu: "),(0,i._)("span",null,(0,n.zw)(l.product.brandId?l.product.brandId.name:""),1)]),(0,i._)("p",null,[(0,i.Uk)("Tên danh mục: "),(0,i._)("span",null,(0,n.zw)(l.product.categoryId?l.product.categoryId.name:""),1)]),(0,i._)("p",null,[(0,i.Uk)("Loại: "),(0,i._)("span",null,(0,n.zw)(l.product.typeId?l.product.typeId.name:""),1)])]),(0,i._)("div",z_,[(0,i._)("p",null,[(0,i.Uk)("Giá nhập: "),(0,i._)("span",null,(0,n.zw)(l.product.priceImport),1)]),(0,i._)("p",null,[(0,i.Uk)("Số lượng nhập: "),(0,i._)("span",null,(0,n.zw)(l.product.inputQuantity),1)]),(0,i._)("p",null,[(0,i.Uk)("Giá bán: "),(0,i._)("span",null,(0,n.zw)(l.product.priceSale),1)]),(0,i._)("p",null,[(0,i.Uk)("Số lượng bán: "),(0,i._)("span",null,(0,n.zw)(l.product.soldQuantity),1)]),(0,i._)("p",null,[(0,i.Uk)("Giá cho thuê: "),(0,i._)("span",null,(0,n.zw)(l.product.priceRental),1)]),(0,i._)("p",null,[(0,i.Uk)("Ngày tạo: "),(0,i._)("span",null,(0,n.zw)(l.product.createdAt),1)]),(0,i._)("p",null,[(0,i.Uk)("Ngày sửa: "),(0,i._)("span",null,(0,n.zw)(l.product.updatedAt),1)])]),F_,(0,i._)("div",O_,(0,n.zw)(l.product.description),1),(0,i._)("div",M_,[(0,i._)("button",{class:"btn btn-info me-3",onClick:e[2]||(e[2]=(...t)=>o.toggleImg&&o.toggleImg(...t))},"Thông số kỹ thuật"),(0,i.Wm)(r,{to:{name:"product.edit",params:{id:s.id}},class:"btn btn-warning"},{default:(0,i.w5)((()=>[(0,i.Uk)("Chỉnh Sửa")])),_:1},8,["to"])])])])])):(0,i.kq)("",!0)}var E_={data(){return{activeImg:!0,product:{},specificatios:{},infoSpe:{},existSpe:!0}},watch:{activeProductDetail(){this.getProductDetail(),this.getSpeByIdProduct()}},props:{activeProductDetail:Boolean,id:String},emits:["closeProductDetail"],methods:{toggleImg(){this.activeImg=!1,console.log(this.id)},closeProductDetail(){this.$emit("closeProductDetail")},async getProductDetail(){try{const t=await I.getProductDetail(this.id);t.status&&(this.product=t.data,this.product.priceImport=mt.formatCurrency(this.product.priceImport),this.product.priceRental=mt.formatCurrency(this.product.priceRental),this.product.priceSale=mt.formatCurrency(this.product.priceSale),this.product.createdAt=mt.formatDate(this.product.createdAt),this.product.updatedAt=mt.formatDate(this.product.updatedAt))}catch(t){console.log(t)}},async getSpeByIdProduct(){try{const t=await qm.findByIdProduct(this.id);t.data.status?(this.infoSpe={...t.data.data},this.existSpe=!0):this.existSpe=!1}catch(t){console.log(t)}}}};const $_=(0,ft.Z)(E_,[["render",V_]]);var B_=$_;const R_={class:"overlay"},H_=["onSubmit"],Y_=(0,i._)("p",null,"Thông số kỹ thuật",-1),K_={key:0,class:"text-danger"},L_={key:1,class:"text-success"},Z_={class:"row"},j_={class:"col-lg-4"},Q_={class:"spe-group"},G_=(0,i._)("label",{for:""},"Tốc độ",-1),W_={class:"col-lg-4"},J_={class:"spe-group"},X_=(0,i._)("label",{for:""},"Kích thước giấy",-1),tw={class:"col-lg-4"},ew={class:"spe-group"},sw=(0,i._)("label",{for:""},"Khay giấy",-1),aw={class:"col-lg-4"},iw={class:"spe-group"},nw=(0,i._)("label",{for:""},"Màn hình",-1),lw={class:"col-lg-4"},ow={class:"spe-group"},rw=(0,i._)("label",{for:""},"Công nghệ",-1),cw={class:"col-lg-4"},dw={class:"spe-group"},hw=(0,i._)("label",{for:""},"Độ phân giải",-1),pw={class:"col-lg-4"},uw={class:"spe-group"},mw=(0,i._)("label",{for:""},"Bộ nhớ ram",-1),gw={class:"col-lg-4"},yw={class:"spe-group"},fw=(0,i._)("label",{for:""},"Ổ cứng",-1),vw={class:"col-lg-4"},_w={class:"spe-group"},ww=(0,i._)("label",{for:""},"Thời gian khởi động",-1),bw={class:"col-lg-4"},kw={class:"spe-group"},Cw=(0,i._)("label",{for:""},"Phóng to thu nhỏ",-1),xw={class:"col-lg-4"},Sw={class:"spe-group"},Dw=(0,i._)("label",{for:""},"Sao chép liên tục",-1),Tw={class:"col-lg-4"},Pw={class:"spe-group"},Iw=(0,i._)("label",{for:""},"Cổng kết nối",-1),Aw={class:"col-lg-4"},Uw={class:"spe-group"},qw=(0,i._)("label",{for:""},"Hệ điều hành",-1),Nw={class:"col-lg-4"},zw={class:"spe-group"},Fw=(0,i._)("label",{for:""},"Điện năng tiêu thụ",-1),Ow={class:"col-lg-4"},Mw={class:"spe-group"},Vw=(0,i._)("label",{for:""},"Công suất",-1),Ew={class:"col-lg-4"},$w={class:"spe-group"},Bw=(0,i._)("label",{for:""},"Trọng lượng",-1);function Rw(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",R_,[(0,i._)("form",{class:"spe-form",action:"",onSubmit:(0,A.iM)((t=>({})),["prevent","stop"])},[(0,i._)("i",{class:"fa-solid fa-xmark spe-close",onClick:e[0]||(e[0]=(...t)=>o.closeSpe&&o.closeSpe(...t))}),Y_,l.mesFail?((0,i.wg)(),(0,i.iD)("span",K_,(0,n.zw)(l.mesFail),1)):(0,i.kq)("",!0),l.mesSuccess?((0,i.wg)(),(0,i.iD)("span",L_,(0,n.zw)(l.mesSuccess),1)):(0,i.kq)("",!0),(0,i._)("div",Z_,[(0,i._)("div",j_,[(0,i._)("div",Q_,[G_,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.infoSpe.speed=t),type:"text",placeholder:"Nhập tốc độ"},null,512),[[A.nr,l.infoSpe.speed]])])]),(0,i._)("div",W_,[(0,i._)("div",J_,[X_,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.infoSpe.paperSize=t),type:"text",placeholder:"Nhập Kích thước giấy"},null,512),[[A.nr,l.infoSpe.paperSize]])])]),(0,i._)("div",tw,[(0,i._)("div",ew,[sw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.infoSpe.paperTray=t),type:"text",placeholder:"Nhập Khay giấy"},null,512),[[A.nr,l.infoSpe.paperTray]])])]),(0,i._)("div",aw,[(0,i._)("div",iw,[nw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[4]||(e[4]=t=>l.infoSpe.screen=t),type:"text",placeholder:"Nhập Màn hình"},null,512),[[A.nr,l.infoSpe.screen]])])]),(0,i._)("div",lw,[(0,i._)("div",ow,[rw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[5]||(e[5]=t=>l.infoSpe.connectionTechnology=t),type:"text",placeholder:"Nhập Công nghệ"},null,512),[[A.nr,l.infoSpe.connectionTechnology]])])]),(0,i._)("div",cw,[(0,i._)("div",dw,[hw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[6]||(e[6]=t=>l.infoSpe.screenResolution=t),type:"text",placeholder:"Nhập độ phân giải"},null,512),[[A.nr,l.infoSpe.screenResolution]])])]),(0,i._)("div",pw,[(0,i._)("div",uw,[mw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[7]||(e[7]=t=>l.infoSpe.ramMemory=t),type:"text",placeholder:"Nhập Bộ nhớ ram"},null,512),[[A.nr,l.infoSpe.ramMemory]])])]),(0,i._)("div",gw,[(0,i._)("div",yw,[fw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[8]||(e[8]=t=>l.infoSpe.hardDrive=t),type:"text",placeholder:"Nhập Ổ cứng"},null,512),[[A.nr,l.infoSpe.hardDrive]])])]),(0,i._)("div",vw,[(0,i._)("div",_w,[ww,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[9]||(e[9]=t=>l.infoSpe.bootTime=t),type:"text",placeholder:"Nhập Thời gian khởi động"},null,512),[[A.nr,l.infoSpe.bootTime]])])]),(0,i._)("div",bw,[(0,i._)("div",kw,[Cw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[10]||(e[10]=t=>l.infoSpe.zoom=t),type:"text",placeholder:"Nhập Phóng to thu nhỏ"},null,512),[[A.nr,l.infoSpe.zoom]])])]),(0,i._)("div",xw,[(0,i._)("div",Sw,[Dw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[11]||(e[11]=t=>l.infoSpe.continuously=t),type:"text",placeholder:"Nhập sao chép liên tục"},null,512),[[A.nr,l.infoSpe.continuously]])])]),(0,i._)("div",Tw,[(0,i._)("div",Pw,[Iw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[12]||(e[12]=t=>l.infoSpe.connector=t),type:"text",placeholder:"Nhập Cổng kết nối"},null,512),[[A.nr,l.infoSpe.connector]])])]),(0,i._)("div",Aw,[(0,i._)("div",Uw,[qw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[13]||(e[13]=t=>l.infoSpe.operatingSystem=t),type:"text",placeholder:"Nhập Hệ điều hành"},null,512),[[A.nr,l.infoSpe.operatingSystem]])])]),(0,i._)("div",Nw,[(0,i._)("div",zw,[Fw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[14]||(e[14]=t=>l.infoSpe.electricUsed=t),type:"text",placeholder:"Nhập Điện năng tiêu thụ"},null,512),[[A.nr,l.infoSpe.electricUsed]])])]),(0,i._)("div",Ow,[(0,i._)("div",Mw,[Vw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[15]||(e[15]=t=>l.infoSpe.wattage=t),type:"text",placeholder:"Nhập Công suất"},null,512),[[A.nr,l.infoSpe.wattage]])])]),(0,i._)("div",Ew,[(0,i._)("div",$w,[Bw,(0,i.wy)((0,i._)("input",{required:"","onUpdate:modelValue":e[16]||(e[16]=t=>l.infoSpe.weight=t),type:"text",placeholder:"Nhập Trọng lượng"},null,512),[[A.nr,l.infoSpe.weight]])])])]),l.create?((0,i.wg)(),(0,i.iD)("div",{key:3,class:"btn btn-outline-success",onClick:e[18]||(e[18]=(...t)=>o.createSpe&&o.createSpe(...t))},"Thêm")):((0,i.wg)(),(0,i.iD)("div",{key:2,class:"btn btn-outline-success",onClick:e[17]||(e[17]=(...t)=>o.createSpe&&o.createSpe(...t))},"Sửa"))],40,H_)])}var Hw={data(){return{infoSpe:{},create:!0,mesSuccess:"",mesFail:""}},props:{isActiveSpe:Boolean,idProduct:String},emits:["closeSpe"],methods:{closeSpe(){this.$emit("closeSpe")},async getByIdProduct(){try{const t=await qm.findByIdProduct(this.idProduct);t.data.status&&Object.keys(t.data.data).length>0&&(this.infoSpe={...t.data.data},this.create=!1)}catch(t){console.log(t)}},async createSpe(){try{if(console.log(Object.keys(this.infoSpe),this.create),Object.keys(this.infoSpe).length>0)if(this.infoSpe.idProduct=this.idProduct,this.create){const t=await qm.create(this.infoSpe);t.data.status?(this.mesSuccess=t.data.mes,this.mesFail="",this.getByIdProduct()):(this.mesSuccess="",this.mesFail=t.data.mes)}else{const t=await qm.update(this.infoSpe._id,this.infoSpe);t.data.status?(this.mesSuccess=t.data.mes,this.mesFail="",this.infoSpe=t.data.data):(this.mesSuccess="",this.mesFail=t.data.mes)}else this.mesSuccess="",this.mesFail="Chưa nhập dữ liệu"}catch(t){console.log(t)}}},mounted(){this.getByIdProduct()}};const Yw=(0,ft.Z)(Hw,[["render",Rw]]);var Kw=Yw;function Lw(t=[]){let e="";t.forEach(((t,s)=>{e+=` \n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #666; height: 50px;  width: 100%;">\n                    <td  style="width: 4%;  border: 1px solid #666" >${s+1}</td>\n                    <td style="width: 16.6667%; border: 1px solid #666;">${t.name}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${t.inputQuantity}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${mt.formatCurrency(t.priceImport)}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${t.soldQuantity}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${mt.formatCurrency(t.priceSale)}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${t.retalQuantity}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${mt.formatCurrency(t.priceRental)}</td>\n                </tr>\n            `}));const s=`\n   <div style="width: 100%;">\n        <div>\n            <div style="width: 100%;">\n                <h4 style="text-align: center; font-size: 20px; margin: 0px;">Phiếu Sản phẩm</h4>\n                <br>\n                <h4 style="text-align: center; font-size: 15px; margin: 0px;">Ngày tạo: 22 thg5 2019</h4>\n            </div>\n        </div>\n        <h4 style="text-align: center; font-size: 18px;">Bảng sản phẩm</h4>\n        <table style="width: 100%;  border-spacing: 0px; border: 1px solid #666">\n            <thead style="background-color: #ccc;">\n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #666; height: 50px; line-height: 50px; width: 100%;">\n                    <th style="width: 5%;border: 1px solid #666">STT</th>\n                    <th  style="width: 16.6667%; border: 1px solid #666">Tên</th>\n                    <th style="width: 12%; border: 1px solid #666;">SL nhập</th>\n                    <th style="width: 12%; border: 1px solid #666;">Giá nhập</th>\n                    <th style="width: 12%; border: 1px solid #666;">SL bán</th>\n                    <th style="width: 12%; border: 1px solid #666;">Giá bán</th>\n                    <th style="width: 12%; border: 1px solid #666;">SL thuê</th>\n                    <th style="width: 12%; border: 1px solid #666;">Giá thuê</th>\n                </tr>\n            </thead>\n            <tbody style="width: 100%;">\n                ${e}\n            </tbody>\n        </table>\n    </div>\n   `;return s}var Zw=Lw,jw=s(7092);function Qw(t=[],e="Example"){const s=jw.P6.json_to_sheet(t),a=t.reduce(((t,e)=>(Object.keys(e).forEach((s=>{const a=String(e[s]).length;t[s]=Math.max(t[s]||20,a)})),t)),{}),i=Object.keys(a).map((t=>({wch:a[t]})));s["!cols"]=i;const n=jw.P6.book_new();jw.P6.book_append_sheet(n,s,"Sheet1");const l=jw.cW(n,{bookType:"xlsx",type:"buffer"}),o=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=URL.createObjectURL(o),c=document.createElement("a");c.href=r,c.download=`${e}.xlsx`,c.click(),URL.revokeObjectURL(r)}var Gw=Qw;const Ww={class:"chart"},Jw={ref:"chart",class:"myChart1"};function Xw(t,e,s,a,n,l){return(0,i.wg)(),(0,i.iD)("div",Ww,[(0,i._)("button",{class:"btn btn-warning px-2 me-2",onClick:e[0]||(e[0]=(...t)=>l.exportPDF&&l.exportPDF(...t))},"InPDF"),(0,i._)("button",{class:"btn btn-success px-2",onClick:e[1]||(e[1]=(...t)=>l.exportToExcel&&l.exportToExcel(...t))},"Excel"),(0,i._)("canvas",Jw,null,512)])}var tb=s(6580),eb=s(8914),sb=s(3414),ab=s.n(sb),ib={props:{dynamicLabels:{type:Array,required:!0},data:{type:Array,required:!0},data2:{type:Array},label1:String,label2:String,year:Number,month:Number,typeStatistical:String,chartType:String,color:String,name:String},data(){return{chart:null,btnChange:!0}},watch:{data:{handler(){this.updateChart()},deep:!0},data2:{handler(){this.updateChart()},deep:!0},dynamicLabels:{handler(){this.updateChart()},deep:!0},label1:{handler(){this.updateChart()},deep:!0},label2:{handler(){this.updateChart()},deep:!0}},methods:{renderChart(){const t=this.$refs.chart.getContext("2d");this.chart=new tb.ZP(t,{type:this.chartType,data:{labels:this.dynamicLabels,datasets:this.data2?.length>0?[{label:this.label1,data:this.data,borderWidth:1,backgroundColor:this.color},{label:this.label2,data:this.data2,borderWidth:1,backgroundColor:"#87C4FF"}]:[{label:"Doanh thu",data:this.data,borderWidth:1,backgroundColor:this.color}]},options:{layout:{paddingBottom:10},responsive:!0,maintainAspectRatio:!1,scales:{y:{beginAtZero:!0}}}})},async updateChart(){Object.keys(this.chart).length>0&&(console.log("thien thanh"),await this.chart.destroy(),this.renderChart())},exportPDF(t){const e=t.target.parentElement,s=e.querySelector(".myChart1"),a=new eb.kH,i=s.toDataURL("image/png",1);"month"==this.typeStatistical?a.text(`BIEU DO DOANH THU ${ab()(this.name).toUpperCase()} THANG ${this.month} NAM ${this.year}`,40,10):a.text(`BIEU DO DOANH THU ${ab()(this.name).toUpperCase()} NAM ${this.year}`,50,20),a.addImage(i,"JPEG",15,30,180,100),a.save("chart.pdf")},exportToExcel(){const t=[],e={};"month"==this.typeStatistical?this.data.forEach(((t,s)=>{e["Ngày "+(s+1)+" Tháng "+this.month]=t})):this.data.forEach(((t,s)=>{e["Tháng "+(s+1)+"Năm "+this.year]=t})),t.push({...e}),Gw(t,"Bieudo")}},mounted(){this.renderChart()}};const nb=(0,ft.Z)(ib,[["render",Xw]]);var lb=nb,ob={components:{adminProductDetail:B_,adminSpecificationVue:Kw,adminChart:lb},data(){return{data:[],data2:[],label:[],activeChart:!1,activePage:1,products:[],lengthPage:1,activeProductDetail:!1,isActiveSpe:!1,id:"",pageNumber:1,pageSize:10,isSort:!1,type:"",field:"",filterInput:"",years:[],idTimeOut:null,dateFilter:{day:"0",month:"0",year:"0",field:""}}},watch:{activeChart(){0==this.activeChart&&(this.data=[],this.data2=[],this.label=[])}},methods:{closeChart(){this.data=[],this.data2=[],this.activeChart=!1},chart(){this.data=[],this.data2=[],this.label=[],this.products.forEach((t=>{this.data.push(t.soldQuantity+t.rentalQuantity),this.label.push(t.name)})),this.products.forEach((t=>{this.data2.push(t.inputQuantity)})),this.activeChart=!0},handlePage(t){this.activePage=t,this.pageNumber=t,this.getproducts(),this.isSort=!1},handleProductDetail(t){this.activeProductDetail=!0,this.id=t},handleProductSpe(t){this.isActiveSpe=!0,this.id=t},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getproducts(),this.sort(this.type,this.field))},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getproducts(),this.sort(this.type,this.field))},closeProductDetail(){this.activeProductDetail=!1,this.id=""},offSort(){this.getproducts(),this.isSort=!1},formatCurency(t){return mt.formatCurrency(t)},formatDateNoTime(t){return mt.formatDateNoTime(t)},async getproducts(){try{const t=await I.getProducts();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await I.getProducts(this.pageNumber,this.pageSize);this.products=e.data}catch(t){console.log(t)}},async sort(t,e){if(this.type=t,this.field=e,this.isSort=!0,"name"===e)this.products.sort(((s,a)=>1==t?s[e].localeCompare(a[e]):-1==t?a[e].localeCompare(s[e]):void 0));else if(this.products.sort(((s,a)=>1==t?parseFloat(s[e])-parseFloat(a[e]):-1==t?parseFloat(a[e])-parseInt(s[e]):void 0)),0===t){const t=this.products.filter((t=>0===t[e]));this.products=[],this.products=[...t]}},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},handleFitter(t){clearTimeout(this.idTimeOut),this.getproducts(),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){const e=new RegExp(this.filterInput.trim(),"i"),s=this.products.filter((s=>"name"===t?e.test(s[t]):s[t]>=this.filterInput));this.products=s},async exportToExcel(){Gw(this.products,"San_pham")},async exportToPDF(){const t=Zw(this.products),e=await I.exportPDF({data:t},"vertical"),s=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.setAttribute("download","SanPham.pdf"),document.body.appendChild(i),i.click()},async filterDate(){const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await I.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.products=[...i.data]}},mounted(){this.getproducts(),this.getYears()}};const rb=(0,ft.Z)(ob,[["render",f_],["__scopeId","data-v-21ec3e0a"]]);var cb=rb;const db=(0,i._)("h3",{class:"h3"},"Thêm sản phẩm",-1),hb={key:0,class:"mes mess-success"},pb={key:1,class:"mes mes-failded"},ub={key:2,class:"overlay"},mb=(0,i._)("div",{class:"loading-add-product"},[(0,i._)("div",{class:"lds-dual-ring"})],-1),gb=[mb],yb={class:"group col-lg-6"},fb=(0,i._)("label",{for:""},[(0,i.Uk)("Tên Sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),vb={class:"group col-lg-6"},_b=(0,i._)("label",{for:"form-file"},[(0,i.Uk)("Ảnh sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),wb={class:"group d-flex col-lg-4"},bb={class:"d-flex mb-1"},kb=(0,i._)("label",{for:""},[(0,i.Uk)("Loại sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),Cb={class:"brand"},xb={key:0,class:"overlay2"},Sb=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),Db=[Sb],Tb={class:"form-head me-5 ms-3"},Pb=(0,i._)("h2",{class:"title"},"Thêm thương hiệu",-1),Ib={key:0,class:"mes-success"},Ab={key:1,class:"mes-failed"},Ub={key:2,class:"lds-dual-ring"},qb={class:"group"},Nb=(0,i._)("label",{for:""},[(0,i.Uk)("Tên loại "),(0,i._)("span",{class:"required"},"*")],-1),zb=(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1),Fb=(0,i._)("option",{value:"",class:"form-option"},"--- Chọn loại ---",-1),Ob=["value"],Mb={class:"group d-flex col-lg-4"},Vb={class:"d-flex mb-1"},Eb=(0,i._)("label",{for:""},[(0,i.Uk)("Thương hiệu sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),$b={class:"brand"},Bb={key:0,class:"overlay2"},Rb=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),Hb=[Rb],Yb={class:"form-head me-5 ms-3"},Kb=(0,i._)("h2",{class:"title"},"Thêm thương hiệu",-1),Lb={key:0,class:"mes-success"},Zb={key:1,class:"mes-failed"},jb={key:2,class:"lds-dual-ring"},Qb={class:"group"},Gb=(0,i._)("label",{for:""},[(0,i.Uk)("Ảnh thương hiệu "),(0,i._)("span",{class:"required"},"*")],-1),Wb={class:"group"},Jb=(0,i._)("label",{for:""},[(0,i.Uk)("Tên thương hiệu "),(0,i._)("span",{class:"required"},"*")],-1),Xb=(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1),tk=(0,i._)("option",{value:"",class:"form-option"},"--- Chọn thương hiệu ---",-1),ek=["value"],sk={class:"group d-flex col-lg-4"},ak={class:"d-flex mb-1"},ik=(0,i._)("label",{for:""},[(0,i.Uk)("Danh mục sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),nk={class:"brand"},lk={key:0,class:"overlay2"},ok=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),rk=[ok],ck={class:"form-head me-5 ms-3"},dk=(0,i._)("h2",{class:"title"},"Thêm Danh mục",-1),hk={key:0,class:"mes-success"},pk={key:1,class:"mes-failed"},uk={key:2,class:"lds-dual-ring"},mk={class:"group"},gk=(0,i._)("label",{for:""},[(0,i.Uk)("Tên danh mục "),(0,i._)("span",{class:"required"},"*")],-1),yk=(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1),fk=(0,i._)("option",{value:"",class:"form-option"},"--- Chọn danh mục ---",-1),vk=["value"],_k={class:"group col-lg-4 mt-1"},wk=(0,i._)("label",{for:""},[(0,i.Uk)("Giá bán sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),bk={class:"group col-lg-4 mt-1"},kk=(0,i._)("label",{for:""},[(0,i.Uk)("Giá thuê sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),Ck={class:"group col-lg-4 mt-1"},xk=(0,i._)("label",{for:""},[(0,i.Uk)("Số tháng bảo hành "),(0,i._)("span",{class:"required"},"*")],-1),Sk={class:"group col-lg-12"},Dk=(0,i._)("label",{for:""},"Mô tả",-1),Tk=(0,i._)("div",null,[(0,i._)("button",{class:"btn form-btn"},"Thêm")],-1);function Pk(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",null,[db,(0,i._)("form",{class:"form-product row",action:"",onSubmit:e[22]||(e[22]=(0,A.iM)(((...t)=>o.addProduct&&o.addProduct(...t)),["prevent","stop"])),enctype:"multipart/form-data"},[l.addProductSuccess?((0,i.wg)(),(0,i.iD)("span",hb,(0,n.zw)(l.addProductSuccess),1)):(0,i.kq)("",!0),l.addProductFail?((0,i.wg)(),(0,i.iD)("span",pb,(0,n.zw)(l.addProductFail),1)):(0,i.kq)("",!0),l.loadingProduct?((0,i.wg)(),(0,i.iD)("div",ub,gb)):(0,i.kq)("",!0),(0,i._)("div",yb,[fb,(0,i.wy)((0,i._)("input",{name:"name-product","onUpdate:modelValue":e[0]||(e[0]=t=>l.infoProduct.name=t),required:"",placeholder:"Nhập tên sản phẩm",type:"text",class:"product-input"},null,512),[[A.nr,l.infoProduct.name]])]),(0,i._)("div",vb,[_b,(0,i._)("input",{onChange:e[1]||(e[1]=(...t)=>o.handleSelectFile&&o.handleSelectFile(...t)),ref:"inputFile",required:"",class:"formFile",type:"file",id:"form-file"},null,544)]),(0,i._)("div",wb,[(0,i._)("div",bb,[kb,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[2]||(e[2]=t=>l.activeFormType=!0)},"Mới")]),(0,i._)("div",Cb,[l.activeFormType?((0,i.wg)(),(0,i.iD)("div",xb,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[5]||(e[5]=(0,A.iM)(((...t)=>o.addType&&o.addType(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[3]||(e[3]=(...t)=>o.closeFormType&&o.closeFormType(...t))},Db),(0,i._)("div",Tb,[Pb,l.mesSuccess?((0,i.wg)(),(0,i.iD)("span",Ib,(0,n.zw)(l.mesSuccess),1)):(0,i.kq)("",!0),l.mesFaild?((0,i.wg)(),(0,i.iD)("span",Ab,(0,n.zw)(l.mesFaild),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",Ub)):(0,i.kq)("",!0)]),(0,i._)("div",qb,[Nb,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.infoType.name=t),type:"text",required:"",placeholder:"Nhập tên thương hiệu"},null,512),[[A.nr,l.infoType.name]])]),zb],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[6]||(e[6]=t=>l.infoProduct.typeId=t),required:""},[Fb,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.types,((t,e)=>((0,i.wg)(),(0,i.iD)("option",{key:e,class:"form-option",value:t._id},(0,n.zw)(t.name),9,Ob)))),128))],512),[[A.bM,l.infoProduct.typeId]])]),(0,i._)("div",Mb,[(0,i._)("div",Vb,[Eb,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[7]||(e[7]=t=>l.activeFormbrand=!0)},"Mới")]),(0,i._)("div",$b,[l.activeFormbrand?((0,i.wg)(),(0,i.iD)("div",Bb,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[11]||(e[11]=(0,A.iM)(((...t)=>o.addBrand&&o.addBrand(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[8]||(e[8]=(...t)=>o.closeFormBrand&&o.closeFormBrand(...t))},Hb),(0,i._)("div",Yb,[Kb,l.mesSuccess?((0,i.wg)(),(0,i.iD)("span",Lb,(0,n.zw)(l.mesSuccess),1)):(0,i.kq)("",!0),l.mesFaild?((0,i.wg)(),(0,i.iD)("span",Zb,(0,n.zw)(l.mesFaild),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",jb)):(0,i.kq)("",!0)]),(0,i._)("div",Qb,[Gb,(0,i._)("input",{onChange:e[9]||(e[9]=(...t)=>o.handleBrand&&o.handleBrand(...t)),ref:"fileBrand",type:"file"},null,544)]),(0,i._)("div",Wb,[Jb,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.infoBrand.name=t),type:"text",required:"",placeholder:"Nhập tên thương hiệu"},null,512),[[A.nr,l.infoBrand.name]])]),Xb],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[12]||(e[12]=t=>l.infoProduct.brandId=t),required:""},[tk,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.brands,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t._id,class:"form-option",value:t._id},(0,n.zw)(t.name),9,ek)))),128))],512),[[A.bM,l.infoProduct.brandId]])]),(0,i._)("div",sk,[(0,i._)("div",ak,[ik,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[13]||(e[13]=t=>l.activeFormCategory=!0)},"Mới")]),(0,i._)("div",nk,[l.activeFormCategory?((0,i.wg)(),(0,i.iD)("div",lk,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[16]||(e[16]=(0,A.iM)(((...t)=>o.addCategory&&o.addCategory(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[14]||(e[14]=(...t)=>o.closeFormCategory&&o.closeFormCategory(...t))},rk),(0,i._)("div",ck,[dk,l.mesSuccess?((0,i.wg)(),(0,i.iD)("span",hk,(0,n.zw)(l.mesSuccess),1)):(0,i.kq)("",!0),l.mesFaild?((0,i.wg)(),(0,i.iD)("span",pk,(0,n.zw)(l.mesFaild),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",uk)):(0,i.kq)("",!0)]),(0,i._)("div",mk,[gk,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[15]||(e[15]=t=>l.infoCategory.name=t),type:"text",required:"",placeholder:"Nhập tên danh mục"},null,512),[[A.nr,l.infoCategory.name]])]),yk],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[17]||(e[17]=t=>l.infoProduct.categoryId=t),required:""},[fk,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.categories,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t._id,class:"form-option",value:t._id},(0,n.zw)(t.name),9,vk)))),128))],512),[[A.bM,l.infoProduct.categoryId]])]),(0,i._)("div",_k,[wk,(0,i.wy)((0,i._)("input",{name:"price-sale","onUpdate:modelValue":e[18]||(e[18]=t=>l.infoProduct.priceSale=t),required:"",placeholder:"Nhập giá bán",type:"number",class:"product-input"},null,512),[[A.nr,l.infoProduct.priceSale]]),l.valid.priceSale?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.priceSale})},(0,n.zw)(l.valid.priceSale),3)):(0,i.kq)("",!0)]),(0,i._)("div",bk,[kk,(0,i.wy)((0,i._)("input",{name:"price-rental","onUpdate:modelValue":e[19]||(e[19]=t=>l.infoProduct.priceRental=t),required:"",placeholder:"Nhập giá cho thuê/Ngày",type:"number",class:"product-input"},null,512),[[A.nr,l.infoProduct.priceRental]]),l.valid.priceRental?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.priceRental})},(0,n.zw)(l.valid.priceRental),3)):(0,i.kq)("",!0)]),(0,i._)("div",Ck,[xk,(0,i.wy)((0,i._)("input",{name:"price-rental","onUpdate:modelValue":e[20]||(e[20]=t=>l.infoProduct.warrantyTime=t),required:"",placeholder:"Nhập số tháng bảo hành",type:"number",class:"product-input"},null,512),[[A.nr,l.infoProduct.warrantyTime]]),l.valid.warrantyTime?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.warrantyTime})},(0,n.zw)(l.valid.warrantyTime),3)):(0,i.kq)("",!0)]),(0,i._)("div",Sk,[Dk,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[21]||(e[21]=t=>l.infoProduct.description=t),required:"",placeholder:"Mô tả về sản phẩm",class:"col-lg-12 form-description",name:"",id:"",cols:"30",rows:"4"},null,512),[[A.nr,l.infoProduct.description]])]),Tk],32)])}var Ik={data(){return{infoProduct:{image:null,brandId:"",categoryId:"",typeId:""},infoCategory:{},activeFormbrand:!1,activeFormCategory:!1,activeFormType:!1,infoBrand:{},infoType:{},mesSuccess:"",mesFaild:"",addProductSuccess:"",addProductFail:"",loading:!1,loadingProduct:!1,brands:[],categories:[],types:[],valid:{}}},methods:{closeFormCategory(){this.activeFormCategory=!1,this.mesFaild="",this.mesSuccess="",this.infoCategory={}},closeFormBrand(){this.activeFormbrand=!1,this.mesFaild="",this.mesSuccess="",this.infoBrand={}},closeFormType(){this.activeFormType=!1,this.mesFaild="",this.mesSuccess="",this.infoType={}},handleSelectFile(t){this.infoProduct.image=t.target.files[0]||""},handleBrand(t){this.infoBrand.image=t.target.files[0]||""},validateForm(t){t.priceSale<0?this.valid.priceSale="Giá bán không được nhỏ hơn 0":this.valid.priceSale=!1,t.priceRental<0?this.valid.priceRental="Giá thuê không được nhỏ hơn 0":this.valid.priceRental=!1,t.warrantyTime<0?this.valid.warrantyTime="Số tháng không được nhỏ hơn 0":this.valid.warrantyTime=!1;let e=!1;const s=Object.values(this.valid);for(let a=0;a<s.length;a++){if(!1!==s[a]){e=!1;break}e=!0}return e},async addProduct(){try{const t=this.validateForm(this.infoProduct);if(t){this.loadingProduct=!0;const t=await I.create(this.infoProduct);console.log(this.infoProduct),this.loadingProduct=!1,t.data.status?(this.addProductSuccess=t.data.mes,this.addProductFail="",this.infoProduct={image:null,brandId:"",categoryId:"",typeId:""},this.$refs.inputFile.value=""):(this.addProductFail=t.data.mes,this.addProductSuccess="")}}catch(t){console.log(t)}},async addBrand(){try{this.loading=!0;const t=await Fi.create(this.infoBrand);this.loading=!1,t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild="",this.infoBrand={},this.$refs.fileBrand.value=""):(this.mesFaild=t.data.mes,this.mesSuccess=""),this.getBrands()}catch(t){console.log(t)}},async addType(){try{this.loading=!0;const t=await Ei.create(this.infoType);this.loading=!1,t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild="",this.infoType={}):(this.mesFaild=t.data.mes,this.mesSuccess=""),this.getType()}catch(t){console.log(t)}},async getBrands(){try{const t=await Fi.getAll();this.brands=[...t.data]}catch(t){console.log(t)}},async addCategory(){try{this.loading=!0;const t=await Mi.create(this.infoCategory);this.loading=!1,t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild="",this.infoCategory={}):(this.mesFaild=t.data.mes,this.mesSuccess=""),this.getCategories()}catch(t){console.log(t)}},async getCategories(){try{const t=await Mi.getAll();this.categories=[...t.data]}catch(t){console.log(t)}},async getType(){try{const t=await Ei.getAll();this.types=[...t.data]}catch(t){console.log(t)}}},mounted(){this.getBrands(),this.getCategories(),this.getType()}};const Ak=(0,ft.Z)(Ik,[["render",Pk]]);var Uk=Ak;const qk=t=>((0,i.dD)("data-v-4f25d8de"),t=t(),(0,i.Cn)(),t),Nk={class:"header-ui"},zk={class:"top container"},Fk={class:"row"},Ok=qk((()=>(0,i._)("div",{class:"header-logo col-4"},[(0,i._)("img",{src:"http://localhost:3000/logo/logo.jpg",alt:"",class:"logo"}),(0,i._)("span",null,"Thiên Thanh"),(0,i._)("p",null,"Photocopy Company")],-1))),Mk=qk((()=>(0,i._)("button",{class:"search-btn"},[(0,i._)("i",{class:"fa-solid fa-magnifying-glass"})],-1))),Vk={key:0,class:"spinner-border text-danger loading",role:"status"},Ek=qk((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),$k=[Ek],Bk=qk((()=>(0,i._)("i",{class:"fa-regular fa-circle-xmark"},null,-1))),Rk=[Bk],Hk={key:2,class:"search-list"},Yk=["onClick"],Kk=qk((()=>(0,i._)("div",{class:"top-tact col-4"},[(0,i._)("img",{src:"http://localhost:3000/head/phone-logo.png",alt:""}),(0,i._)("div",null,[(0,i._)("span",null,[(0,i._)("b",null,"Gọi ngay: "),(0,i.Uk)(" 09880980098")]),(0,i._)("span",null,[(0,i._)("b",null,"Email: "),(0,i.Uk)("Nguyenthienthanh17082001@gmail.com")])])],-1))),Lk={class:"header-nav"},Zk={class:"container header-content"},jk={class:"header-list"},Qk=qk((()=>(0,i._)("span",{class:"not-active"},null,-1))),Gk=qk((()=>(0,i._)("span",{class:"not-active"},null,-1))),Wk=qk((()=>(0,i._)("span",{class:"not-active"},null,-1))),Jk=qk((()=>(0,i._)("span",{class:"not-active"},null,-1))),Xk=qk((()=>(0,i._)("span",{class:"not-active"},null,-1))),tC=qk((()=>(0,i._)("span",{class:"not-active"},null,-1))),eC=qk((()=>(0,i._)("span",{class:"not-active"},null,-1))),sC={key:0,class:"header-user"},aC=["src"],iC=["src"],nC={class:"header-name"},lC=qk((()=>(0,i._)("i",{class:"fa-solid fa-sort-down"},null,-1))),oC={key:2,class:"user-drop-down"},rC={key:0},cC={key:1,class:"login"},dC={class:"btn btn-login"},hC={class:"btn btn-login"},pC={key:1,class:"header-user"},uC={class:"login"},mC={class:"btn btn-login"},gC={class:"btn btn-login"},yC={class:"cart-icon"},fC=qk((()=>(0,i._)("i",{class:"fa-solid fa-cart-shopping"},null,-1))),vC=qk((()=>(0,i._)("span",null,"Giỏ hàng",-1)));function _C(t,e,s,a,l,o){const r=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("header",Nk,[(0,i._)("div",zk,[(0,i._)("div",Fk,[Ok,(0,i._)("div",{class:"search col-4",onBlur:e[4]||(e[4]=t=>l.productsSearch=[]),tabindex:"0"},[(0,i.wy)((0,i._)("input",{onFocus:e[0]||(e[0]=(...t)=>o.onSearch&&o.onSearch(...t)),"onUpdate:modelValue":e[1]||(e[1]=t=>l.searchVal=t),type:"text",class:"top-input",placeholder:"Tìm kiếm ...",onInput:e[2]||(e[2]=(...t)=>o.onSearch&&o.onSearch(...t))},null,544),[[A.nr,l.searchVal]]),Mk,l.loading?((0,i.wg)(),(0,i.iD)("div",Vk,$k)):(0,i.kq)("",!0),l.loading||""===l.searchVal?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"delete-test",onClick:e[3]||(e[3]=t=>l.searchVal="")},Rk)),0!==l.productsSearch.length?((0,i.wg)(),(0,i.iD)("ul",Hk,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.productsSearch,(t=>((0,i.wg)(),(0,i.iD)("li",{onClick:e=>o.detailPage(t),key:t._id},(0,n.zw)(t.name),9,Yk)))),128))])):(0,i.kq)("",!0)],32),Kk])]),(0,i._)("nav",Lk,[(0,i._)("div",Zk,[(0,i._)("ul",jk,[(0,i._)("li",null,[(0,i.Wm)(r,{to:"/","active-class":"active-nav",exact:""},{default:(0,i.w5)((()=>[Qk,(0,i.Uk)("Trang chủ")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/introduce",class:"nav__link me-2","active-class":"active-nav"},{default:(0,i.w5)((()=>[Gk,(0,i.Uk)("Giới thiệu")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/product",class:"nav__link me-2","active-class":"active-nav"},{default:(0,i.w5)((()=>[Wk,(0,i.Uk)("Sản phẩm")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/warranty",class:"nav__link me-2","active-class":"active-nav"},{default:(0,i.w5)((()=>[Jk,(0,i.Uk)("Bảo hành")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/service",class:"nav__link me-2","active-class":"active-nav"},{default:(0,i.w5)((()=>[Xk,(0,i.Uk)("Sửa chữa & Bảo trì")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/contact",class:"nav__link me-2","active-class":"active-nav"},{default:(0,i.w5)((()=>[tC,(0,i.Uk)("Liên hệ")])),_:1})]),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/news",class:"nav__link me-2","active-class":"active-nav"},{default:(0,i.w5)((()=>[eC,(0,i.Uk)("Tin Tức")])),_:1})])]),Object.keys(o.test2).length>0?((0,i.wg)(),(0,i.iD)("div",sC,[l.islogin&&o.test2?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"logined",onClick:e[6]||(e[6]=t=>l.isActive=!l.isActive)},[o.test2.isGoogle?((0,i.wg)(),(0,i.iD)("img",{key:0,src:o.test2.avatar,alt:"",class:"header-avt"},null,8,aC)):(0,i.kq)("",!0),o.test2.isGoogle?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("img",{key:1,src:"http://localhost:3000/"+o.test2.avatar,alt:"",class:"header-avt"},null,8,iC)),(0,i._)("span",nC,(0,n.zw)(o.test2.fullName),1),lC,l.islogin&&l.isActive?((0,i.wg)(),(0,i.iD)("ul",oC,[(0,i._)("li",{onClick:e[5]||(e[5]=(...t)=>o.logout&&o.logout(...t))},"Đăng xuất"),(0,i._)("li",null,[(0,i.Wm)(r,{to:"/change-info"},{default:(0,i.w5)((()=>[(0,i.Uk)("Chỉnh sửa thông tin")])),_:1})]),o.test2.isAdmin||o.test2.roles.length>0?((0,i.wg)(),(0,i.iD)("li",rC,[(0,i.Wm)(r,{to:"/admin"},{default:(0,i.w5)((()=>[(0,i.Uk)("Quay lại trang Admin")])),_:1})])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)])):((0,i.wg)(),(0,i.iD)("div",cC,[(0,i._)("span",dC,[(0,i.Wm)(r,{to:"/login"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Đăng nhập")])),_:1})]),(0,i._)("span",hC,[(0,i.Wm)(r,{to:"/register"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Đăng ký")])),_:1})])]))])):(0,i.kq)("",!0),Object.keys(o.test2).length<=0?((0,i.wg)(),(0,i.iD)("div",pC,[(0,i._)("div",uC,[(0,i._)("span",mC,[(0,i.Wm)(r,{to:"/login"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Đăng nhập")])),_:1})]),(0,i._)("span",gC,[(0,i.Wm)(r,{to:"/register"},{default:(0,i.w5)((()=>[(0,i.Uk)(" Đăng ký")])),_:1})])])])):(0,i.kq)("",!0),(0,i.Wm)(r,{to:"/cart",class:"header-cart"},{default:(0,i.w5)((()=>[(0,i._)("div",yC,[fC,(0,i._)("span",null,(0,n.zw)(o.test()),1)]),vC])),_:1})])])])}var wC={data(){return{infoUser:{},islogin:!1,isActive:!1,searchVal:"",productsSearch:[],loading:!1}},watch:{searchVal(){""===this.searchVal&&(this.productsSearch=[])}},computed:{test2(){return this.$store.getters.inforuser}},methods:{test(){return this.$store.getters.cartItemCount},Checklogin(){const t=JSON.parse(sessionStorage.getItem("user"));t?(this.infoUser=t.user,this.islogin=!0):this.infoUser="",this.$store.commit("changeInfo",this.infoUser)},async getInfoUser(){try{const t=await Gt.getInfo(),e=JSON.stringify(t.data);sessionStorage.setItem("user",e),this.$store.commit("changeInfo",t.data.user),this.Checklogin()}catch(t){console.log(t)}},async logout(){try{await Gt.logout(),sessionStorage.removeItem("user"),this.Checklogin(),this.islogin=!1,this.$store.commit("addToCart"),this.$store.commit("changeInfo",{}),this.$router.push("/")}catch(t){console.log(t)}},onSearch(){clearTimeout(this.idTimeOut),this.productsSearch=[],this.idTimeOut=setTimeout(this.search,500)},async search(){try{if(""!==this.searchVal){this.loading=!0;const t=await I.search(this.searchVal);this.loading=!1,this.productsSearch=[...t.data],console.log(this.productsSearch)}else this.productsSearch=[]}catch(t){console.log(t)}},detailPage(t){this.$router.push({name:"product.detail",params:{id:t._id},query:{typeProduct:t.typeProduct}})}},mounted(){this.getInfoUser(),this.Checklogin()}};const bC=(0,ft.Z)(wC,[["render",_C],["__scopeId","data-v-4f25d8de"]]);var kC=bC;const CC={class:"footer"},xC=(0,i.uE)('<div class="footer-top"><div class="container"><div class="row"><div class="col-12 col-sm-12 col-md-6 col-lg-3 footer-contact"><h5>Liên hệ với chúng tôi</h5><ul class="footer-list"><li><i class="fa-solid fa-earth-americas"></i><span>Công ty Photocopy Thien Thanh</span></li><li><i class="fa-solid fa-location-dot"></i><span>Đại hải Kế Sách Sóc trăng</span></li><li><i class="fa-solid fa-phone"></i><span>0366176577</span></li><li><i class="fa-solid fa-envelope"></i><span>thienthanh17082001@gmail.com</span></li></ul></div><div class="col-12 col-sm-12 col-md-6 col-lg-3 footer-contact"><h5>Về chúng tôi</h5><ul class="footer-list"><li><a href="">Giới thiệu</a></li><li><a href="">Liên hệ</a></li><li><a href="">Tin tưc</a></li><li><a href="">Bảo hành</a></li></ul></div><div class="col-12 col-sm-12 col-md-6 col-lg-3 footer-contact"><h5>Giấy phép kinh doanh</h5><ul class="footer-lisence"><li><div class="license-icon"><i class="fa-solid fa-check"></i></div><div class="license-content"><h6>Chủ khinh doanh</h6><span>Công ty photocopy Thien Thanh</span></div></li><li class="mt-3"><div class="license-icon"><i class="fa-solid fa-check"></i></div><div class="license-content"><h6>Giấy Phép DKKD</h6><span>Số : 0304744000 do Sở KHĐT Hồ Chí Minh cấp ngày: 21/12/2006</span></div></li></ul></div><div class="col-12 col-sm-12 col-md-6 col-lg-3 footer-contact"><h5>Mạng xã hội</h5><ul class="footer-social"><li><a href=""><i style="--color:#4267b2;" class="fa-brands fa-facebook"></i></a></li><li><a href=""><i style="--color:#E95950;" class="fa-brands fa-instagram"></i></a></li><li><a href=""><i style="--color:#E50914;" class="fa-brands fa-youtube"></i></a></li><li><a href=""><i style="--color:#000000;" class="fa-brands fa-tiktok"></i></a></li><li><a href=""><i style="--color:#1DA1F2;" class="fa-brands fa-twitter"></i></a></li></ul></div></div></div></div><div class="footer-copyright"><span>Bản quyền thuộc về © 2023 | Thiết kế website bởi Thiên Thanh</span></div>',2),SC=[xC];function DC(t,e,s,a,n,l){return(0,i.wg)(),(0,i.iD)("footer",CC,SC)}var TC={};const PC=(0,ft.Z)(TC,[["render",DC]]);var IC=PC;const AC=(0,i._)("h3",{class:"h3"},"Sửa sản phẩm",-1),UC={key:0,class:"mes mess-success"},qC={key:1,class:"mes mes-failded"},NC={key:2,class:"overlay"},zC=(0,i._)("div",{class:"loading-add-product"},[(0,i._)("div",{class:"lds-dual-ring"})],-1),FC=[zC],OC={class:"group col-lg-6"},MC=(0,i._)("label",{for:""},[(0,i.Uk)("Tên Sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),VC={class:"group col-lg-6"},EC=(0,i._)("label",{for:"form-file"},[(0,i.Uk)("Ảnh sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),$C={class:"d-flex label-file-edit"},BC=(0,i._)("label",{for:"form-file"},[(0,i._)("i",{class:"edit-icon fa-solid fa-file-pen"})],-1),RC=["src"],HC={class:"group d-flex col-lg-4"},YC={class:"d-flex mb-1"},KC=(0,i._)("label",{for:""},[(0,i.Uk)("Loại sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),LC={class:"brand"},ZC={key:0,class:"overlay2"},jC=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),QC=[jC],GC={class:"form-head me-5 ms-3"},WC=(0,i._)("h2",{class:"title"},"Thêm thương hiệu",-1),JC={key:0,class:"mes-success"},XC={key:1,class:"mes-failed"},tx={key:2,class:"lds-dual-ring"},ex={class:"group"},sx=(0,i._)("label",{for:""},[(0,i.Uk)("Tên loại "),(0,i._)("span",{class:"required"},"*")],-1),ax=(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1),ix=(0,i._)("option",{value:"",class:"form-option"},"--- Chọn loại ---",-1),nx=["value"],lx={class:"group d-flex col-lg-4"},ox={class:"d-flex mb-1"},rx=(0,i._)("label",{for:""},[(0,i.Uk)("Thương hiệu sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),cx={class:"brand"},dx={key:0,class:"overlay2"},hx=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),px=[hx],ux={class:"form-head me-5 ms-3"},mx=(0,i._)("h2",{class:"title"},"Thêm thương hiệu",-1),gx={key:0,class:"mes-success"},yx={key:1,class:"mes-failed"},fx={key:2,class:"lds-dual-ring"},vx={class:"group"},_x=(0,i._)("label",{for:""},[(0,i.Uk)("Ảnh thương hiệu "),(0,i._)("span",{class:"required"},"*")],-1),wx={class:"group"},bx=(0,i._)("label",{for:""},[(0,i.Uk)("Tên thương hiệu "),(0,i._)("span",{class:"required"},"*")],-1),kx=(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1),Cx=(0,i._)("option",{value:"",class:"form-option"},"--- Chọn thương hiệu ---",-1),xx=["value"],Sx={class:"group d-flex col-lg-4"},Dx={class:"d-flex mb-1"},Tx=(0,i._)("label",{for:""},[(0,i.Uk)("Danh mục sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),Px={class:"brand"},Ix={key:0,class:"overlay2"},Ax=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),Ux=[Ax],qx={class:"form-head me-5 ms-3"},Nx=(0,i._)("h2",{class:"title"},"Thêm Danh mục",-1),zx={key:0,class:"mes-success"},Fx={key:1,class:"mes-failed"},Ox={key:2,class:"lds-dual-ring"},Mx={class:"group"},Vx=(0,i._)("label",{for:""},[(0,i.Uk)("Tên danh mục "),(0,i._)("span",{class:"required"},"*")],-1),Ex=(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1),$x=(0,i._)("option",{value:"",class:"form-option"},"--- Chọn danh mục ---",-1),Bx=["value"],Rx={class:"group col-lg-4 mt-1"},Hx=(0,i._)("label",{for:""},[(0,i.Uk)("Giá bán sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),Yx={class:"group col-lg-4 mt-1"},Kx=(0,i._)("label",{for:""},[(0,i.Uk)("Giá thuê sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1),Lx={class:"group col-lg-4 mt-1"},Zx=(0,i._)("label",{for:""},[(0,i.Uk)("Số tháng bảo hành "),(0,i._)("span",{class:"required"},"*")],-1),jx={class:"group col-lg-12"},Qx=(0,i._)("label",{for:""},"Mô tả",-1),Gx=(0,i._)("div",null,[(0,i._)("button",{class:"btn form-btn"},"Chỉnh sửa")],-1);function Wx(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",null,[AC,(0,i._)("form",{class:"form-product row",action:"",onSubmit:e[22]||(e[22]=(0,A.iM)(((...t)=>o.editProduct&&o.editProduct(...t)),["prevent","stop"])),enctype:"multipart/form-data"},[l.addProductSuccess?((0,i.wg)(),(0,i.iD)("span",UC,(0,n.zw)(l.addProductSuccess),1)):(0,i.kq)("",!0),l.addProductFail?((0,i.wg)(),(0,i.iD)("span",qC,(0,n.zw)(l.addProductFail),1)):(0,i.kq)("",!0),l.loadingProduct?((0,i.wg)(),(0,i.iD)("div",NC,FC)):(0,i.kq)("",!0),(0,i._)("div",OC,[MC,(0,i.wy)((0,i._)("input",{name:"name-product","onUpdate:modelValue":e[0]||(e[0]=t=>l.infoProduct.name=t),required:"",placeholder:"Nhập tên sản phẩm",type:"text",class:"product-input"},null,512),[[A.nr,l.infoProduct.name]])]),(0,i._)("div",VC,[EC,(0,i._)("div",$C,[BC,(0,i._)("img",{ref:"imgRef",src:l.imgSrc,alt:"",class:"img-admin-edit"},null,8,RC),(0,i._)("input",{name:"abc",onChange:e[1]||(e[1]=(...t)=>o.handleSelectFile&&o.handleSelectFile(...t)),ref:"inputFile",class:"form-File-edit",type:"file",id:"form-file"},null,544)])]),(0,i._)("div",HC,[(0,i._)("div",YC,[KC,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[2]||(e[2]=t=>l.activeFormType=!0)},"Mới")]),(0,i._)("div",LC,[l.activeFormType?((0,i.wg)(),(0,i.iD)("div",ZC,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[5]||(e[5]=(0,A.iM)(((...t)=>o.addType&&o.addType(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[3]||(e[3]=(...t)=>o.closeFormType&&o.closeFormType(...t))},QC),(0,i._)("div",GC,[WC,l.mesSuccess?((0,i.wg)(),(0,i.iD)("span",JC,(0,n.zw)(l.mesSuccess),1)):(0,i.kq)("",!0),l.mesFaild?((0,i.wg)(),(0,i.iD)("span",XC,(0,n.zw)(l.mesFaild),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",tx)):(0,i.kq)("",!0)]),(0,i._)("div",ex,[sx,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.infoType.name=t),type:"text",required:"",placeholder:"Nhập tên thương hiệu"},null,512),[[A.nr,l.infoType.name]])]),ax],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[6]||(e[6]=t=>l.infoProduct.typeId=t),required:""},[ix,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.types,((t,e)=>((0,i.wg)(),(0,i.iD)("option",{key:e,class:"form-option",value:t._id},(0,n.zw)(t.name),9,nx)))),128))],512),[[A.bM,l.infoProduct.typeId]])]),(0,i._)("div",lx,[(0,i._)("div",ox,[rx,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[7]||(e[7]=t=>l.activeFormbrand=!0)},"Mới")]),(0,i._)("div",cx,[l.activeFormbrand?((0,i.wg)(),(0,i.iD)("div",dx,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[11]||(e[11]=(0,A.iM)(((...t)=>o.addBrand&&o.addBrand(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[8]||(e[8]=(...t)=>o.closeFormBrand&&o.closeFormBrand(...t))},px),(0,i._)("div",ux,[mx,l.mesSuccess?((0,i.wg)(),(0,i.iD)("span",gx,(0,n.zw)(l.mesSuccess),1)):(0,i.kq)("",!0),l.mesFaild?((0,i.wg)(),(0,i.iD)("span",yx,(0,n.zw)(l.mesFaild),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",fx)):(0,i.kq)("",!0)]),(0,i._)("div",vx,[_x,(0,i._)("input",{onChange:e[9]||(e[9]=(...t)=>o.handleBrand&&o.handleBrand(...t)),ref:"fileBrand",type:"file"},null,544)]),(0,i._)("div",wx,[bx,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.infoBrand.name=t),type:"text",required:"",placeholder:"Nhập tên thương hiệu"},null,512),[[A.nr,l.infoBrand.name]])]),kx],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[12]||(e[12]=t=>l.infoProduct.brandId=t),required:""},[Cx,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.brands,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t._id,class:"form-option",value:t._id},(0,n.zw)(t.name),9,xx)))),128))],512),[[A.bM,l.infoProduct.brandId]])]),(0,i._)("div",Sx,[(0,i._)("div",Dx,[Tx,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[13]||(e[13]=t=>l.activeFormCategory=!0)},"Mới")]),(0,i._)("div",Px,[l.activeFormCategory?((0,i.wg)(),(0,i.iD)("div",Ix,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[16]||(e[16]=(0,A.iM)(((...t)=>o.addCategory&&o.addCategory(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[14]||(e[14]=(...t)=>o.closeFormCategory&&o.closeFormCategory(...t))},Ux),(0,i._)("div",qx,[Nx,l.mesSuccess?((0,i.wg)(),(0,i.iD)("span",zx,(0,n.zw)(l.mesSuccess),1)):(0,i.kq)("",!0),l.mesFaild?((0,i.wg)(),(0,i.iD)("span",Fx,(0,n.zw)(l.mesFaild),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",Ox)):(0,i.kq)("",!0)]),(0,i._)("div",Mx,[Vx,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[15]||(e[15]=t=>l.infoCategory.name=t),type:"text",required:"",placeholder:"Nhập tên danh mục"},null,512),[[A.nr,l.infoCategory.name]])]),Ex],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[17]||(e[17]=t=>l.infoProduct.categoryId=t),required:""},[$x,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.categories,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t._id,class:"form-option",value:t._id},(0,n.zw)(t.name),9,Bx)))),128))],512),[[A.bM,l.infoProduct.categoryId]])]),(0,i._)("div",Rx,[Hx,(0,i.wy)((0,i._)("input",{name:"price-sale","onUpdate:modelValue":e[18]||(e[18]=t=>l.infoProduct.priceSale=t),required:"",placeholder:"Nhập giá bán",type:"number",class:"product-input"},null,512),[[A.nr,l.infoProduct.priceSale]]),l.valid.priceSale?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.priceSale})},(0,n.zw)(l.valid.priceSale),3)):(0,i.kq)("",!0)]),(0,i._)("div",Yx,[Kx,(0,i.wy)((0,i._)("input",{name:"price-rental","onUpdate:modelValue":e[19]||(e[19]=t=>l.infoProduct.priceRental=t),required:"",placeholder:"Nhập giá cho thuê/Ngày",type:"number",class:"product-input"},null,512),[[A.nr,l.infoProduct.priceRental]]),l.valid.priceRental?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.priceRental})},(0,n.zw)(l.valid.priceRental),3)):(0,i.kq)("",!0)]),(0,i._)("div",Lx,[Zx,(0,i.wy)((0,i._)("input",{name:"price-rental","onUpdate:modelValue":e[20]||(e[20]=t=>l.infoProduct.warrantyTime=t),required:"",placeholder:"Nhập số tháng bảo hành",type:"number",class:"product-input"},null,512),[[A.nr,l.infoProduct.warrantyTime]]),l.valid.warrantyTime?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.warrantyTime})},(0,n.zw)(l.valid.warrantyTime),3)):(0,i.kq)("",!0)]),(0,i._)("div",jx,[Qx,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[21]||(e[21]=t=>l.infoProduct.description=t),required:"",placeholder:"Mô tả về sản phẩm",class:"col-lg-12 form-description",name:"",id:"",cols:"30",rows:"4"},null,512),[[A.nr,l.infoProduct.description]])]),Gx],32)])}var Jx={data(){return{infoProduct:{},activeFormbrand:!1,activeFormCategory:!1,activeFormType:!1,infoCategory:{},infoBrand:{},infoType:{},mesSuccess:"",mesFaild:"",addProductSuccess:"",addProductFail:"",loading:!1,loadingProduct:!1,brands:[],categories:[],types:[],imgSrc:"",valid:{}}},props:{id:{type:String}},methods:{async getProduct(){try{const t=await I.getProductById(this.id);this.infoProduct={...t.data},this.infoProduct.brandId=this.infoProduct.brandId._id,this.infoProduct.typeId=this.infoProduct.typeId._id,this.infoProduct.categoryId=this.infoProduct.categoryId._id,this.imgSrc="http://localhost:3000/"+this.infoProduct.image}catch(t){console.log(t)}},closeFormCategory(){this.activeFormCategory=!1,this.mesFaild="",this.mesSuccess="",this.infoCategory={}},closeFormBrand(){this.activeFormbrand=!1,this.mesFaild="",this.mesSuccess="",this.infoBrand={}},closeFormType(){this.activeFormType=!1,this.mesFaild="",this.mesSuccess="",this.infoType={}},handleSelectFile(t){const e=t.target.files[0];if(this.infoProduct.image=e,e){const t=URL.createObjectURL(e);this.$refs.imgRef.src=t}},handleBrand(t){this.infoBrand.image=t.target.files[0]||""},validateForm(t){t.priceSale<0?this.valid.priceSale="Giá bán không được nhỏ hơn 0":this.valid.priceSale=!1,t.priceRental<0?this.valid.priceRental="Giá thuê không được nhỏ hơn 0":this.valid.priceRental=!1,t.warrantyTime<0?this.valid.warrantyTime="Số tháng không được nhỏ hơn 0":this.valid.warrantyTime=!1;let e=!1;const s=Object.values(this.valid);for(let a=0;a<s.length;a++){if(!1!==s[a]){e=!1;break}e=!0}return e},async editProduct(){try{const t={...this.infoProduct},e=this.validateForm(t);if(e){this.loadingProduct=!0;const e=await I.update(this.id,t);this.loadingProduct=!1,e.data.status?(this.addProductSuccess=e.data.mes,this.addProductFail="",this.infoProduct={...e.data.data},this.$refs.inputFile.value=""):(this.addProductFail=e.data.mes,this.addProductSuccess="")}}catch(t){console.log(t)}},async addBrand(){try{this.loading=!0;const t=await Fi.create(this.infoBrand);this.loading=!1,t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild="",this.infoBrand={},this.$refs.fileBrand.value=""):(this.mesFaild=t.data.mes,this.mesSuccess=""),this.getBrands()}catch(t){console.log(t)}},async getBrands(){try{const t=await Fi.getAll();this.brands=[...t.data]}catch(t){console.log(t)}},async addCategory(){try{this.loading=!0;const t=await Mi.create(this.infoCategory);this.loading=!1,t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild="",this.infoCategory={}):(this.mesFaild=t.data.mes,this.mesSuccess=""),this.getCategories()}catch(t){console.log(t)}},async getCategories(){try{const t=await Mi.getAll();this.categories=[...t.data]}catch(t){console.log(t)}},async addType(){try{this.loading=!0;const t=await Ei.create(this.infoType);this.loading=!1,t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild="",this.infoType={}):(this.mesFaild=t.data.mes,this.mesSuccess=""),this.getType()}catch(t){console.log(t)}},async getType(){try{const t=await Ei.getAll();this.types=[...t.data]}catch(t){console.log(t)}}},mounted(){this.getBrands(),this.getCategories(),this.getProduct(),this.getType()}};const Xx=(0,ft.Z)(Jx,[["render",Wx]]);var tS=Xx;const eS=(0,i._)("h3",{class:"h3"},"Bảng Phiếu nhập hàng",-1),sS={class:"input-admin-filter admin-export-entry"},aS=(0,i._)("option",{value:"0"},"Ngày",-1),iS=["value"],nS=(0,i._)("option",{value:"0"},"Tháng",-1),lS=["value"],oS=(0,i._)("option",{value:"0"},"Năm",-1),rS=["value"],cS=(0,i._)("option",{value:""},"Chọn kiểu",-1),dS=(0,i._)("option",{value:"createdAt"},"Ngày Tạo",-1),hS=(0,i._)("option",{value:"updatedAt"},"Ngày cập nhật",-1),pS=[cS,dS,hS],uS=(0,i._)("button",null,"Lọc",-1),mS={class:"admin-export"},gS=(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1),yS=(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1),fS={ref:"example",class:"entry-table"},vS={class:"entry-thead"},_S=(0,i._)("th",{class:"entry-col1 text-center"},"STT",-1),wS={class:"entry-col2"},bS={class:"admin-table-title"},kS=(0,i._)("p",null,"Tên người tạo",-1),CS={class:"admin-sort"},xS=(0,i._)("i",{class:"fa-solid fa-sort"},null,-1),SS={class:"admin-sort-list"},DS={class:"filter-admin-input"},TS={class:"entry-col4"},PS={class:"admin-table-title"},IS=(0,i._)("p",null,"Tổng giá",-1),AS={class:"admin-sort"},US=(0,i._)("i",{class:"fa-solid fa-sort"},null,-1),qS={class:"admin-sort-list"},NS={class:"filter-admin-input"},zS={class:"entry-col4"},FS={class:"admin-table-title"},OS=(0,i._)("p",null,"Nhà cung cấp",-1),MS={class:"admin-sort"},VS=(0,i._)("i",{class:"fa-solid fa-sort"},null,-1),ES={class:"admin-sort-list"},$S={class:"filter-admin-input"},BS=(0,i._)("th",{class:"entry-col3 text-center"},"Ngày tạo",-1),RS=(0,i._)("th",{class:"entry-col5 text-center"},"Xem chi tiết",-1),HS=(0,i._)("th",{class:"entry-col5 text-center"},"In phiếu",-1),YS={class:"entry-tbody"},KS={class:"entry-col1 text-center"},LS={class:"entry-col2 text-center"},ZS={class:"entry-col4 text-center"},jS={class:"entry-col4 text-center"},QS={class:"entry-col3 text-center"},GS={class:"entry-col5 text-center"},WS=["onClick"],JS={class:"entry-col5 text-center"},XS=["onClick"],tD={key:0,class:"overlay"},eD=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),sD=[eD],aD=(0,i._)("h3",{class:"h3"},"Tạo phiếu nhập hàng",-1),iD={key:0,class:"text-success fs-4"},nD={key:1,class:"text-danger fs-4"},lD={class:"row"},oD={class:"entry-group col-6"},rD={for:""},cD=(0,i._)("option",{value:""},"---Chọn tên nhà cung cấp---",-1),dD=["value"],hD={class:"entry-group col-lg-6"},pD=(0,i._)("label",{for:""},"Ảnh chụp thực tế",-1),uD={class:"row"},mD={class:"entry-group col-4"},gD=(0,i._)("label",{for:""},"Chọn loại hàng ",-1),yD=["onUpdate:modelValue"],fD=(0,i._)("option",{value:""},"---Chọn Loại hàng---",-1),vD=(0,i._)("option",{value:"accessory"},"Phụ kiện",-1),_D=(0,i._)("option",{value:"product"},"Sản phẩm",-1),wD=[fD,vD,_D],bD={class:"row"},kD={key:0,class:"entry-group col-4"},CD=(0,i._)("label",{for:""},"Chọn sản phẩm ",-1),xD=["onUpdate:modelValue"],SD=(0,i._)("option",{value:""},"---Chọn tên sản phẩm---",-1),DD=["value"],TD={key:1,class:"entry-group col-4"},PD=(0,i._)("label",{for:""},"Chọn Phụ kiện",-1),ID=["onUpdate:modelValue"],AD=(0,i._)("option",{value:""},"---Chọn phụ kiện---",-1),UD=["value"],qD={class:"entry-group col-4"},ND=(0,i._)("label",{for:""},"Giá nhập sản phẩm",-1),zD=["onUpdate:modelValue"],FD={class:"entry-group col-4"},OD=(0,i._)("label",{for:""},"Số lượng nhập",-1),MD=["onUpdate:modelValue"],VD={class:"my-3"},ED=(0,i._)("button",{type:"submit",class:"btn btn-lg btn-info text-white"},"Tạo phiếu",-1),$D={key:2,class:"entry-img"},BD=["src"],RD={key:0,class:"overlay"},HD=(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1),YD=[HD],KD=(0,i._)("h5",{class:"h5"},"Thêm nhà cung cấp",-1),LD={key:0,class:"text-success fs-4"},ZD={key:1,class:"text-danger fs-4"},jD={class:"row"},QD={class:"entry-group col-lg-12"},GD=(0,i._)("label",{for:""},"Tên nhà cũng cấp",-1),WD={class:"entry-group col-lg-12"},JD=(0,i._)("label",{for:""},"Địa chỉ",-1),XD={class:"entry-group col-lg-12"},tT=(0,i._)("label",{for:""},"Số điện thoại ",-1),eT=(0,i._)("button",{class:"btn btn-success mt-3"},"Thêm nhà cung cấp",-1),sT={class:"product-pagination"},aT={class:"pagination"},iT=(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1),nT=[iT],lT=(0,i._)("li",null,[(0,i._)("span",null,"...")],-1),oT=["onClick"],rT=(0,i._)("li",null,[(0,i._)("span",null,"...")],-1),cT=(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1),dT=[cT];function hT(t,e,s,a,l,o){const r=(0,i.up)("detail-entry-receipt");return(0,i.wg)(),(0,i.iD)(i.HY,null,[eS,(0,i._)("div",sS,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[aS,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,iS))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[nS,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,lS))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[oS,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,rS)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},pS,512),[[A.bM,l.dateFilter.field]]),uS],32),(0,i._)("div",mS,[(0,i._)("div",{class:"btn btn-success",onClick:e[5]||(e[5]=(...t)=>o.exportExcel&&o.exportExcel(...t))},[gS,(0,i.Uk)(" Excel ")]),(0,i._)("div",{class:"btn btn-warning",onClick:e[6]||(e[6]=(...t)=>o.exportToPDF&&o.exportToPDF(...t))},[yS,(0,i.Uk)(" Pdf")])])]),(0,i._)("table",fS,[(0,i._)("thead",vS,[(0,i._)("tr",null,[_S,(0,i._)("th",wS,[(0,i._)("div",bS,[kS,(0,i._)("div",CS,[xS,(0,i._)("ul",SS,[(0,i._)("li",{onClick:e[7]||(e[7]=t=>o.sort(1,"createBy"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[8]||(e[8]=t=>o.sort(-1,"createBy"))},"Từ Z về A"),(0,i._)("div",DS,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[9]||(e[9]=t=>l.filterInput=t),onInput:e[10]||(e[10]=t=>o.handleFitter("createBy"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",TS,[(0,i._)("div",PS,[IS,(0,i._)("div",AS,[US,(0,i._)("ul",qS,[(0,i._)("li",{onClick:e[11]||(e[11]=t=>o.sort(1,"totalAmount"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[12]||(e[12]=t=>o.sort(-1,"totalAmount"))},"Từ lớn đến nhỏ"),(0,i._)("div",NS,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[13]||(e[13]=t=>l.filterInput=t),onInput:e[14]||(e[14]=t=>o.handleFitter("totalAmount"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",zS,[(0,i._)("div",FS,[OS,(0,i._)("div",MS,[VS,(0,i._)("ul",ES,[(0,i._)("li",{onClick:e[15]||(e[15]=t=>o.sort(1,"supplier"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[16]||(e[16]=t=>o.sort(-1,"supplier"))},"Từ Z về A"),(0,i._)("div",$S,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[17]||(e[17]=t=>l.filterInput=t),onInput:e[18]||(e[18]=t=>o.handleFitter("supplier"))},null,544),[[A.nr,l.filterInput]])])])])])]),BS,RS,HS])]),(0,i._)("tbody",YS,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.entrys,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t._id},[(0,i._)("td",KS,(0,n.zw)(e+1),1),(0,i._)("td",LS,(0,n.zw)(t.createBy.fullName),1),(0,i._)("td",ZS,(0,n.zw)(o.formatCurrency(t.totalAmount)),1),(0,i._)("td",jS,(0,n.zw)(t.supplier.name),1),(0,i._)("td",QS,(0,n.zw)(t.createdAt),1),(0,i._)("td",GS,[(0,i._)("span",{onClick:e=>o.openDetaiEntry(t._id),class:"btn btn-info"},"Xem chi tiết",8,WS)]),(0,i._)("td",JS,[(0,i._)("span",{class:"btn btn-warning",onClick:e=>o.printPDF(t._id)},"In phiếu",8,XS)])])))),128))])],512),(0,i._)("button",{class:"btn btn-info text-left mt-3",onClick:e[19]||(e[19]=t=>l.activeEntry=!0)},"Tạo phiếu nhập kho"),l.activeEntry?((0,i.wg)(),(0,i.iD)("div",tD,[(0,i._)("form",{class:"entry-form",action:"",onSubmit:e[27]||(e[27]=(0,A.iM)(((...t)=>o.addEntryReceipt&&o.addEntryReceipt(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"entry-close",onClick:e[20]||(e[20]=t=>l.activeEntry=!1)},sD),aD,l.mesSuccess?((0,i.wg)(),(0,i.iD)("span",iD,(0,n.zw)(l.mesSuccess),1)):(0,i.kq)("",!0),l.mesFail?((0,i.wg)(),(0,i.iD)("span",nD,(0,n.zw)(l.mesFail),1)):(0,i.kq)("",!0),(0,i._)("div",lD,[(0,i._)("div",oD,[(0,i._)("label",rD,[(0,i.Uk)("Nhà Cung cấp "),(0,i._)("span",{class:"btn btn-info btn-entry",onClick:e[21]||(e[21]=(...t)=>o.openSupplier&&o.openSupplier(...t))},"Mới")]),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[22]||(e[22]=t=>l.Idsupplier=t),name:"",id:"",required:""},[cD,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.suppliers,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t._id,value:t._id},(0,n.zw)(t.name),9,dD)))),128))],512),[[A.bM,l.Idsupplier]])]),(0,i._)("div",hD,[pD,(0,i._)("input",{class:"entry-file-input",ref:"entryInputFile",type:"file",onChange:e[23]||(e[23]=(...t)=>o.handleImage&&o.handleImage(...t))},null,544)])]),(0,i._)("div",{class:(0,n.C_)({"entry-info":!0,"entry-scroll":l.products.length>1})},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.products,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e},[(0,i._)("div",uD,[(0,i._)("div",mD,[gD,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>t.typeProduct=e,name:"",id:"",required:""},wD,8,yD),[[A.bM,t.typeProduct]])])]),(0,i._)("div",bD,["product"==t.typeProduct?((0,i.wg)(),(0,i.iD)("div",kD,[CD,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>t.idProduct=e,name:"",id:"",required:""},[SD,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.productsName,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t._id,value:t._id},(0,n.zw)(t.name),9,DD)))),128))],8,xD),[[A.bM,t.idProduct]])])):(0,i.kq)("",!0),"accessory"==t.typeProduct?((0,i.wg)(),(0,i.iD)("div",TD,[PD,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>t.idProduct=e,name:"",id:"",required:""},[AD,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.accessorys,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t._id,value:t._id},(0,n.zw)(t.name),9,UD)))),128))],8,ID),[[A.bM,t.idProduct]])])):(0,i.kq)("",!0),(0,i._)("div",qD,[ND,(0,i.wy)((0,i._)("input",{required:"",placeholder:"Giá nhập","onUpdate:modelValue":e=>t.priceImport=e,type:"number",min:"0"},null,8,zD),[[A.nr,t.priceImport]])]),(0,i._)("div",FD,[OD,(0,i.wy)((0,i._)("input",{required:"",placeholder:"Số lượng nhập","onUpdate:modelValue":e=>t.inputQuantity=e,type:"number",min:"0"},null,8,MD),[[A.nr,t.inputQuantity]])])])])))),128))],2),(0,i._)("div",VD,[(0,i._)("span",{class:"btn btn-outline-success me-3",onClick:e[24]||(e[24]=(...t)=>o.addinput&&o.addinput(...t))},"Thêm dòng"),(0,i._)("span",{class:"btn btn-outline-danger",onClick:e[25]||(e[25]=(...t)=>o.removeinput&&o.removeinput(...t))},"Xóa dòng")]),ED,l.imgSrc?((0,i.wg)(),(0,i.iD)("div",$D,[(0,i._)("img",{src:l.imgSrc,ref:"entryImg",alt:"",class:"entry-img"},null,8,BD),(0,i._)("i",{class:"fa-solid fa-xmark",onClick:e[26]||(e[26]=(...t)=>o.deleteEntryImg&&o.deleteEntryImg(...t))})])):(0,i.kq)("",!0)],32),l.activeSupplier?((0,i.wg)(),(0,i.iD)("div",RD,[(0,i._)("form",{action:"",class:"form-supplier",onSubmit:e[32]||(e[32]=(0,A.iM)(((...t)=>o.createSupplier&&o.createSupplier(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"entry-close",onClick:e[28]||(e[28]=(...t)=>o.closeSupplier&&o.closeSupplier(...t))},YD),KD,l.mesSuccess?((0,i.wg)(),(0,i.iD)("span",LD,(0,n.zw)(l.mesSuccess),1)):(0,i.kq)("",!0),l.mesFail?((0,i.wg)(),(0,i.iD)("span",ZD,(0,n.zw)(l.mesFail),1)):(0,i.kq)("",!0),(0,i._)("div",jD,[(0,i._)("div",QD,[GD,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[29]||(e[29]=t=>l.supplier.name=t),type:"text",placeholder:"Tên nhà cung cấp"},null,512),[[A.nr,l.supplier.name]])]),(0,i._)("div",WD,[JD,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[30]||(e[30]=t=>l.supplier.address=t),type:"text",placeholder:"Địa chỉ nhà cung cấp"},null,512),[[A.nr,l.supplier.address]])]),(0,i._)("div",XD,[tT,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[31]||(e[31]=t=>l.supplier.phone=t),type:"text",placeholder:"Số điện thoại nhà cung cấp"},null,512),[[A.nr,l.supplier.phone]])])]),eT],32)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0),(0,i._)("div",sT,[(0,i._)("ul",aT,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[33]||(e[33]=(...t)=>o.previousPage&&o.previousPage(...t))},nT)]),lT,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,oT)])))),128)),rT,(0,i._)("li",null,[(0,i._)("span",{onClick:e[34]||(e[34]=(...t)=>o.nextPage&&o.nextPage(...t))},dT)])])]),l.activeDetailEntry?((0,i.wg)(),(0,i.j4)(r,{key:1,id:l.idEntry,onCloseEntry:e[35]||(e[35]=t=>l.activeDetailEntry=!1)},null,8,["id"])):(0,i.kq)("",!0)],64)}function pT(t,e="Phiếu in"){let s=window.open("","PRINT","height=1123,width=900,top=100,left=150");s.document.write(`\n    <html><title>${e}</title>\n    <style>\n    @media print {\n        .page-break {\n          page-break-before: always;\n        }\n        img{\n          margin-top:20px;\n          width:100%;\n          height:auto;\n        }\n        \n      }\n  </style><head>`),s.document.write("</head><body >"),s.document.write(`${t}`),s.document.write("</body></html>"),s.document.close(),s.focus(),s.print()}var uT=pT;class mT{constructor(t="http://localhost:3000/entry-receipt"){this.api=(0,T.Z)(t)}async create(t){const e={"Content-Type":"multipart/form-data"},s="http://localhost:3000/entry-receipt";return this.api=(0,T.Z)(s,e),await this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async getById(t){return await this.api.get(`/entry-id/?id=${t}`)}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}}var gT=new mT;class yT{constructor(t="http://localhost:3000/supplier"){this.api=(0,T.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}}var fT=new yT;const vT=t=>((0,i.dD)("data-v-253f6ace"),t=t(),(0,i.Cn)(),t),_T=vT((()=>(0,i._)("h3",{class:"h3 my-2"},"Phiếu nhập hàng",-1))),wT={class:"entry-content"},bT={class:"entry-date my-3 row"},kT={class:"col-lg-6"},CT=vT((()=>(0,i._)("b",null,"Mã số phiếu",-1))),xT={class:"col-lg-6"},ST=vT((()=>(0,i._)("b",null,"Ngày lập",-1))),DT={class:"content-head row"},TT={class:"col-lg-6"},PT=vT((()=>(0,i._)("h5",{class:"text-info fs-4"},"Người lập phiếu",-1))),IT={class:"name"},AT=vT((()=>(0,i._)("b",null,"Họ và tên",-1))),UT=vT((()=>(0,i._)("br",null,null,-1))),qT={class:"name"},NT=vT((()=>(0,i._)("b",null,"Số điện thoại",-1))),zT={key:0,class:"col-lg-6"},FT=vT((()=>(0,i._)("h5",{class:"text-info fs-4"},"Nhà cung cấp",-1))),OT={class:"name"},MT=vT((()=>(0,i._)("b",null,"Tên nhà cung cấp",-1))),VT=vT((()=>(0,i._)("br",null,null,-1))),ET={class:"name"},$T=vT((()=>(0,i._)("b",null,"Địa chỉ ",-1))),BT=vT((()=>(0,i._)("br",null,null,-1))),RT={class:"name"},HT=vT((()=>(0,i._)("b",null,"Số điện thoại ",-1))),YT=vT((()=>(0,i._)("hr",null,null,-1))),KT=vT((()=>(0,i._)("h5",{class:"mt-2"},"Danh sách sản phẩm",-1))),LT={class:"entry-product"},ZT=(0,i.uE)('<div class="row mb-3 product-head" data-v-253f6ace><div class="col-1 text-center" data-v-253f6ace>STT</div><div class="col" data-v-253f6ace>Tên sản phẩm</div><div class="col" data-v-253f6ace>Giá nhập</div><div class="col text-center" data-v-253f6ace>Số lượng</div><div class="col text-center" data-v-253f6ace>Loại hàng</div><div class="col text-center" data-v-253f6ace>Tổng giá</div></div>',1),jT={class:"col-1 text-center"},QT={class:"col"},GT={class:"col"},WT={class:"col text-center"},JT={class:"col text-center"},XT={class:"col text-center"},tP={class:"entry-total row"},eP={key:0,class:"col-lg-2"},sP=vT((()=>(0,i._)("b",{class:"text-info"},"Ảnh thực tế",-1))),aP=["src"],iP=vT((()=>(0,i._)("div",{class:"entry-note col-lg-6"},[(0,i._)("b",{class:"text-warning"},"Ghi chú"),(0,i._)("p",null,"Kiểm tra kỹ các thông tin trên phiếu")],-1))),nP={class:"entry-price col-lg-4"},lP={class:""},oP=vT((()=>(0,i._)("span",null,[(0,i._)("b",null,"Tổng cộng: ")],-1))),rP=vT((()=>(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1)));function cP(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",{class:"overlay",onClick:e[2]||(e[2]=(...t)=>o.closeDetailEntry&&o.closeDetailEntry(...t))},[(0,i._)("div",{onClick:e[1]||(e[1]=(0,A.iM)((()=>{}),["stop"])),class:"detail-entry"},[_T,(0,i._)("div",wT,[(0,i._)("div",bT,[(0,i._)("span",kT,[CT,(0,i.Uk)(": "+(0,n.zw)(l.entry._id),1)]),(0,i._)("span",xT,[ST,(0,i.Uk)(": "+(0,n.zw)(l.entry.createdAt),1)])]),(0,i._)("div",DT,[(0,i._)("div",TT,[PT,(0,i._)("span",IT,[AT,(0,i.Uk)(": "+(0,n.zw)(l.entry.createBy?l.entry.createBy.fullName:""),1)]),UT,(0,i._)("span",qT,[NT,(0,i.Uk)(": "+(0,n.zw)(l.entry.createBy?l.entry.createBy.phoneNumber:""),1)])]),l.entry.supplier?((0,i.wg)(),(0,i.iD)("div",zT,[FT,(0,i._)("span",OT,[MT,(0,i.Uk)(": "+(0,n.zw)(l.entry.supplier.name||""),1)]),VT,(0,i._)("span",ET,[$T,(0,i.Uk)(": "+(0,n.zw)(l.entry.supplier.address),1)]),BT,(0,i._)("span",RT,[HT,(0,i.Uk)(": "+(0,n.zw)(l.entry.supplier.phone),1)])])):(0,i.kq)("",!0)]),YT,KT,(0,i._)("div",LT,[ZT,l.entry.products?((0,i.wg)(),(0,i.iD)("div",{key:0,class:(0,n.C_)([{"entry-scroll":l.entry.products.length>1},"entry-products"])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.entry.products,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"row my-3",key:e},[(0,i._)("div",jT,(0,n.zw)(e+1)+" .",1),(0,i._)("div",QT,(0,n.zw)(t.idProduct.name),1),(0,i._)("div",GT,(0,n.zw)(t.priceImport),1),(0,i._)("div",WT,(0,n.zw)(t.inputQuantity),1),(0,i._)("div",JT,(0,n.zw)("product"==t.typeProduct?"Máy photocopy":"Phụ kiện"),1),(0,i._)("div",XT,(0,n.zw)(t.total),1)])))),128))],2)):(0,i.kq)("",!0)]),(0,i._)("div",tP,[l.entry.image?((0,i.wg)(),(0,i.iD)("div",eP,[sP,(0,i._)("img",{class:"entry-detail-image",src:"data:image/jpg;base64,"+l.entry.image.data,alt:""},null,8,aP)])):(0,i.kq)("",!0),iP,(0,i._)("div",nP,[(0,i._)("div",lP,[oP,(0,i._)("span",null,(0,n.zw)(l.entry.totalAmount),1)])])])]),(0,i._)("div",{class:"btn btn-warning mb-2",onClick:e[0]||(e[0]=(...t)=>o.exportToPDF&&o.exportToPDF(...t))},[rP,(0,i.Uk)(" Pdf")])])])}function dP(t={}){const e=t.image?"data:image/jpg;base64,"+t.image.data:"";let s="";t.products.forEach(((t,e)=>{s+=` \n        <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; padding-bottom: 10px;">\n        <div style="width: 8.333333%; margin-top: 10px;">\n        ${e+1}. \n     </div>\n     <div style="width: 16.6666667%; margin-top: 10px;">\n         ${t.idProduct.name}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n         ${t.priceImport}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n         ${t.inputQuantity}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n         ${"product"==t.typeProduct?"Máy photocopy":"Phụ kiện"}\n     </div>\n     <div style="width: 25%; margin-top: 10px;">\n         ${t.total}\n     </div>\n        </div>\n     `}));let a=`\n   <div style="height:90%">\n        <h4 style=" margin: 20px; font-size: 18px;">Số: ${t._id}</h4>\n        <div style="width: 100%;">\n            <h4 style="text-align: center; font-size: 30px; margin: 0px;">Phiếu nhập kho</h4>\n            <br>\n            <h4 style="text-align: center; font-size: 20px; margin: 0px;">Ngày tạo phiếu: ${t.createdAt}</h4>\n        </div>\n        <div style="display: flex; justify-content: center; align-items: center;">\n            <div style="width: 50%; text-align:center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Người lập phiếu</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Họ và tên: </b>${t.createBy.fullName}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${t.createBy.phoneNumber}</span>\n                </div>\n            </div>\n\n            <div style="width: 50%; text-align: center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Nhà cung cấp</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Tên: </b>${t.supplier.name}</span>\n                        <br>\n                        <span><b>Địa chỉ: </b>${t.supplier.address}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${t.supplier.phone}</span>\n                </div>\n            </div>\n        </div>\n        <h5 style="text-align: center; font-size: 16px;">Danh sách sản phẩm</h5>\n        <div style="margin: 20px 0; ">\n            <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; height: 50px; line-height: 50px;">\n                <div style="width: 8.333333%;">\n                    STT\n                </div>\n                <div style="width: 16.66666667%;">\n                    Tên Sản phẩm\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Giá nhập\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Số lượng\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Loại hàng\n                </div>\n                <div style="width: 25%;">\n                    Tổng tiền\n                </div>\n            </div>\n            ${s}\n        </div>\n        <div style="width: 100%;">\n            <div style="font-size: 20px; margin-right: 10px; display: flex; justify-content: flex-end;">\n                <b>Tổng cộng</b>: ${t.totalAmount}\n            </div>\n        </div>\n        <div style="margin-top: 40px; height: 150px;">\n            <div style="width: 25%; float: left; text-align:center;">\n                <b>Người giao</b></br>\n                (Ký, họ tên)\n            </div>\n            <div style="width: 25%; float: left; text-align:center;">\n                <b>Thủ kho</b></br>\n                (Ký, họ tên)\n            </div>\n            <div style="width: 25%; float: left; text-align:center;">\n                <b>Người nhận</b></br>\n                (Ký, họ tên)\n            </div>\n            <div style="width: 25%; float: left; text-align:center;">\n                <b>Kế toán</b></br>\n                (Ký, họ tên)\n            </div>\n        </div>\n    </div>\n     \n`;return""!=e&&(a+=`<div style="height:90%">\n            <img style="height:auto; width:100%;" src="${e}">\n        </div>`),a}var hP=dP,pP={data(){return{entry:{},products:[]}},props:{id:String},watch:{id(){this.getEntryById()}},methods:{async getEntryById(){try{const t=await gT.getById(this.id);this.entry=t.data,this.entry.createdAt=mt.formatDate(this.entry.createdAt),this.entry.totalAmount=mt.formatCurrency(this.entry.totalAmount),this.entry.products.forEach(((t,e)=>{this.entry.products[e].total=t.priceImport*t.inputQuantity,t.priceImport=mt.formatCurrency(t.priceImport),this.entry.products[e].total=mt.formatCurrency(this.entry.products[e].total)}))}catch(t){console.log(t)}},closeDetailEntry(){this.$emit("closeEntry")},async exportToPDF(){const t=hP(this.entry),e=await I.exportPDF({data:t},"vertical"),s=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.target="_blank",i.setAttribute("download","TatCaPhieuNhapKho.pdf"),document.body.appendChild(i),i.click()}},mounted(){this.getEntryById()}};const uP=(0,ft.Z)(pP,[["render",cP],["__scopeId","data-v-253f6ace"]]);var mP=uP;function gP(t=[]){let e="",s="";t.forEach(((t,a)=>{t.products.forEach(((t,e)=>{s+=` \n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #ccc; height: 50px;  width: 100%;">\n                    <td  style="width: 5%;  border: 1px solid #ccc" >${e+1}.</td>\n                    <td style="width: 16.6667%; border: 1px solid #ccc; overflow: hidden;">${t.idProduct.name}</td>\n                    <td style="width: 16.6667%; border: 1px solid #ccc;">${t.inputQuantity}</td>\n                    <td style="width: 16.6667%; border: 1px solid #ccc;">${mt.formatCurrency(t.priceImport)}</td>\n                    <td style="width: 16.6667%; border: 1px solid #ccc;">${mt.formatCurrency(t.priceImport*t.inputQuantity)}</td>\n                    <td style="width: 16.6667%; border: 1px solid #ccc;"></td>\n                </tr>\n                `})),e+=`\n            <div style="height:100%; box-sizing:border-box">\n                <span style="padding-top:20px; display:block;"><strong>Phiếu thứ</strong>: ${a+1}</span>\n                <div>\n                    <div style="width: 100%;">\n                        <h4 style="text-align: center; font-size: 22px; margin: 0px;">Phiếu Nhập kho</h4>\n                        <br>\n                        <h4 style="text-align: center; font-size: 15px; margin: 0px;">Ngày xuất file: ${mt.formatDate(new Date)}</h4>\n                    </div>\n                </div>                \n                <hr>\n                    <div style="display: flex; width: 100%;">\n                        <div style="width: 60%; font-size: 17px; margin-left:10px;">\n                            <span style="margin-top: 20px; display: block;"> <strong>Nhà cung cấp: </strong> ${t.supplier.name}</span>\n                            <span style="margin-top: 10px; display: block;"> <strong>Số điện thoại: </strong>${t.supplier.phone}</span>\n                            <span style="margin-top: 10px; display: block;"> <strong>Địa chỉ: </strong>${t.supplier.address}</span>\n                        </div>\n                        <div style="width: 40%; font-size: 17px;">\n                            <span style="margin-top: 10px; display: block;"> <strong>Người lập phiếu: </strong> ${t.createBy.fullName}</span>\n                            <span style="margin-top: 10px; display: block;"> <strong>Số điện thoại: </strong>${t.createBy.phoneNumber}</span>\n                        </div>\n                    </div>\n                    <h4 style="text-align: center; font-size: 18px;">Bảng sản phẩm</h4>\n                    <table style=" border-spacing: 0px; border: 1px solid #ccc">\n                        <thead style="background-color: #999;">\n                            <tr style=" font-size: 15px; text-align: center; border: 1px solid #ccc; height: 50px; line-height: 50px; width: 100%;">\n                                <th style="width: 5%;border: 1px solid #ccc">STT</th>\n                                <th  style="width: 16.6667%; border: 1px solid #ccc">Tên Sản phẩm</th>\n                                <th style="width: 16.66667%; border: 1px solid #ccc;">Số lượng nhập</th>\n                                <th style="width: 16.6667%; border: 1px solid #ccc;">Giá nhập</th>\n                                <th style="width:16.6667%; border: 1px solid #ccc;">Tổng giá</th>\n                                <th style="width: 16.66667%; border: 1px solid #ccc;">Ghi chú</th>\n                            </tr>\n                        </thead>\n                        <tbody style="width: 100%;">\n                            ${s}\n                        </tbody>\n                    </table>\n                    <div style="margin-top: 20px; font-size: 20px; display: flex; justify-content: flex-end; width: 100%;">\n                        <strong>Tổng tiền: </strong><span style="margin-left: 10px;">${mt.formatCurrency(t.totalAmount)}</span>\n                    </div>\n            </div>\n            `,s=""}));const a=`\n<div style="width: 100%; ">\n        ${e} \n</div>\n   `;return a}var yP=gP,fP={components:{detailEntryReceipt:mP},data(){return{products:[{idProduct:"",typeProduct:""}],accessorys:[],Idsupplier:"",supplier:{},suppliers:[],activeSupplier:!1,productsName:[],activeEntry:!1,entrys:[],pageNumber:1,pageSize:5,mesSuccess:"",mesFail:"",lengthPage:1,activePage:1,activeDetailEntry:!1,idEntry:"",entry:{},image:"",imgSrc:"",years:[],dateFilter:{day:"0",month:"0",year:"0",field:""},idTimeOut:null,filterInput:""}},methods:{handlePage(t){this.activePage=t,this.pageNumber=t,this.getAllEntry()},openDetaiEntry(t){this.activeDetailEntry=!0,this.idEntry=t},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getAllEntry())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAllEntry())},addinput(){this.products.push({idProduct:"",typeProduct:""})},removeinput(){this.products.length>1&&this.products.pop()},handleImage(t){this.image=t.target.files[0]||"";const e=URL.createObjectURL(this.image);this.imgSrc=e},deleteEntryImg(){this.image=null,this.imgSrc="",this.$refs.entryInputFile.value=""},closeSupplier(){this.activeSupplier=!1,this.mesFail="",this.mesSuccess=""},openSupplier(){this.activeSupplier=!0,this.mesFail="",this.mesSuccess=""},async createSupplier(){try{const t=await fT.create({data:this.supplier});t.data.status?(this.mesFail="",this.mesSuccess=t.data.mes,this.supplier={},this.getSupplier()):(this.mesSuccess="",this.mesFail=t.data.mes)}catch(t){console.log(t)}},async getSupplier(){try{const t=await fT.getAll();this.suppliers=[...t.data]}catch(t){console.log(t)}},async addEntryReceipt(){let t=0;this.products.map((e=>{t+=Number(e.priceImport)*Number(e.inputQuantity)}));const e={products:[...this.products],totalAmount:t,supplier:this.Idsupplier||void 0,image:this.image||void 0},s=await gT.create(e);s.data.status?(this.products=[{idProduct:"",typeProduct:"product"}],this.Idsupplier="",this.mesSuccess=s.data.mes,this.mesFail="",this.image=null,this.imgSrc="",this.$refs.entryInputFile.value="",this.getAllEntry()):(this.mesSuccess="",this.mesFail=s.data.mes)},async getProductsName(){try{const t=await I.getProducts();this.productsName=[...t.data]}catch(t){console.log(t)}},async getAccessory(){try{const t=await _i.getAll();this.accessorys=[...t.data]}catch(t){console.log(t)}},async getAllEntry(){try{const t=await gT.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await gT.getAll(this.pageNumber,this.pageSize);e.data.forEach((t=>{t.createdAt=mt.formatDate(t.createdAt)})),this.entrys=e.data}catch(t){console.log(t)}},async printPDF(t){const e=await gT.getById(t);this.entry=e.data,this.entry.createdAt=mt.formatDate(this.entry.createdAt),this.entry.totalAmount=mt.formatCurrency(this.entry.totalAmount),this.entry.products.forEach(((t,e)=>{this.entry.products[e].total=t.priceImport*t.inputQuantity,t.priceImport=mt.formatCurrency(t.priceImport),this.entry.products[e].total=mt.formatCurrency(this.entry.products[e].total)}));const s=hP(this.entry),a=this.entry.image?this.entry.image.data:void 0;uT(s,"Phiếu in",a)},async exportToPDF(){const t=yP(this.entrys),e=await I.exportPDF({data:t}),s=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.target="_blank",i.setAttribute("download","TatCaPhieuNhapKho.pdf"),document.body.appendChild(i),i.click()},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t);for(let e=1;e<=5;e++)this.years.push(t+e)},formatCurrency(t){return mt.formatCurrency(t)},async filterDate(){const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await gT.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);i.data.forEach((t=>{t.createdAt=mt.formatDate(t.createdAt)})),this.entrys=i.data},async sort(t,e){if(this.type=t,this.field=e,"createBy"===e)this.entrys.sort(((s,a)=>1==t?s[e].fullName.localeCompare(a[e].fullName):-1==t?a[e].fullName.localeCompare(s[e].fullName):void 0));else if("supplier"===e)this.entrys.sort(((s,a)=>1==t?s[e].name.localeCompare(a[e].name):-1==t?a[e].name.localeCompare(s[e].name):void 0));else if(this.entrys.sort(((s,a)=>1==t?parseFloat(s[e])-parseFloat(a[e]):-1==t?parseFloat(a[e])-parseInt(s[e]):void 0)),0===t){const t=this.entrys.filter((t=>0===t[e]));this.entrys=[],this.entrys=[...t]}},handleFitter(t){clearTimeout(this.idTimeOut),this.getAllEntry(),this.idTimeOut=setTimeout((()=>{this.filter(t)}),300)},filter(t){const e=new RegExp(this.filterInput.trim(),"i"),s=this.entrys.filter((s=>"createBy"===t?e.test(s[t].fullName):"supplier"===t?e.test(s[t].name):s[t]>=this.filterInput));this.entrys=s},exportExcel(){const t=[];this.entrys.forEach(((e,s)=>{t.push({STT:s+1,"Người tạo phiếu":e.createBy.fullName,"Nhà Cung cấp":e.supplier.name,"Tổng giá":this.formatCurrency(e.totalAmount),"Ngày tạo":e.createdAt})}));const e="phieu_nhap_kho";Gw(t,e)}},mounted(){this.getProductsName(),this.getAllEntry(),this.getSupplier(),this.getYears(),this.getAccessory()}};const vP=(0,ft.Z)(fP,[["render",hT]]);var _P=vP;const wP={class:"admin-user"},bP=(0,i._)("h3",null,"Bảng Tài khoản người dùng",-1),kP={class:"input-admin-filter"},CP=(0,i._)("option",{value:"0"},"Ngày",-1),xP=["value"],SP=(0,i._)("option",{value:"0"},"Tháng",-1),DP=["value"],TP=(0,i._)("option",{value:"0"},"Năm",-1),PP=["value"],IP=(0,i._)("option",{value:""},"Chọn kiểu",-1),AP=(0,i._)("option",{value:"0"},"Tất cả",-1),UP=(0,i._)("option",{value:"createdAt"},"Ngày Tạo",-1),qP=(0,i._)("option",{value:"updatedAt"},"Ngày cập nhật",-1),NP=[IP,AP,UP,qP],zP=(0,i._)("button",null,"Lọc",-1),FP={class:"admin-export"},OP=(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1),MP=(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1),VP={class:"admin-user-table"},EP={class:"admin-user-thead"},$P=(0,i._)("th",{class:"admin-user-col1"},"STT",-1),BP={class:"admin-user-col2"},RP={class:"admin-table-title"},HP=(0,i._)("p",null,"Tên Người dùng",-1),YP={class:"admin-sort"},KP=(0,i._)("i",{class:"fa-solid fa-sort"},null,-1),LP={class:"admin-sort-list"},ZP={class:"filter-admin-input"},jP={class:"admin-user-col3"},QP={class:"admin-table-title text-left"},GP=(0,i._)("p",null,"Địa chỉ email",-1),WP={class:"admin-sort"},JP=(0,i._)("i",{class:"fa-solid fa-sort"},null,-1),XP={class:"admin-sort-list"},tI={class:"filter-admin-input"},eI={class:"admin-user-col4"},sI={class:"admin-table-title"},aI=(0,i._)("p",null,"Số điện thoại",-1),iI={class:"admin-sort"},nI=(0,i._)("i",{class:"fa-solid fa-sort"},null,-1),lI={class:"admin-sort-list"},oI={class:"filter-admin-input"},rI={class:"admin-user-col5"},cI={class:"admin-table-title"},dI=(0,i._)("p",null,"Chức danh",-1),hI={class:"admin-sort"},pI=(0,i._)("i",{class:"fa-solid fa-sort"},null,-1),uI={class:"admin-sort-list"},mI=(0,i._)("th",{class:"admin-user-col6"},"Lịch sử",-1),gI=(0,i._)("th",{class:"admin-user-col7"},"Hành động",-1),yI={class:"admin-user-tbody"},fI={class:"admin-user-col1"},vI={class:"admin-user-col2"},_I={class:"admin-user-col3"},wI={class:"admin-user-col4"},bI={key:0,class:"admin-user-col5"},kI={key:1,class:"admin-user-col5"},CI={key:2,class:"admin-user-col5"},xI={class:"admin-user-col6"},SI=(0,i._)("b",null,"Tạo: ",-1),DI=(0,i._)("br",null,null,-1),TI=(0,i._)("b",null,"Sửa: ",-1),PI={class:"admin-user-col7"},II=["onClick"],AI=(0,i._)("i",{class:"fa-solid fa-turn-up"},null,-1),UI=[AI],qI=["onClick"],NI=(0,i._)("i",{class:"fa-solid fa-check"},null,-1),zI=[NI],FI={key:2,disabled:"",class:"btn btn-outline-info me-3"},OI=(0,i._)("i",{class:"fa-solid fa-turn-up"},null,-1),MI=[OI],VI=["onClick"],EI=(0,i._)("i",{class:"fa-solid fa-lock-open"},null,-1),$I=[EI],BI=["onClick"],RI=(0,i._)("i",{class:"fa-solid fa-lock"},null,-1),HI=[RI],YI={class:"product-pagination"},KI={class:"pagination"},LI=(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1),ZI=[LI],jI=(0,i._)("li",null,[(0,i._)("span",null,"...")],-1),QI=["onClick"],GI=(0,i._)("li",null,[(0,i._)("span",null,"...")],-1),WI=(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1),JI=[WI];function XI(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",wP,[bP,(0,i._)("div",kP,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[CP,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,xP))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[SP,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,DP))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[TP,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,PP)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},NP,512),[[A.bM,l.dateFilter.field]]),zP],32),(0,i._)("div",FP,[(0,i._)("div",{class:"btn btn-success",onClick:e[5]||(e[5]=(...t)=>o.exportToExcel&&o.exportToExcel(...t))},[OP,(0,i.Uk)(" Excel")]),(0,i._)("div",{class:"btn btn-warning",onClick:e[6]||(e[6]=(...t)=>o.exportToPDF&&o.exportToPDF(...t))},[MP,(0,i.Uk)(" Pdf")])])]),(0,i._)("div",{class:(0,n.C_)(["isSort",{"isSort-active":l.isSort}])},[(0,i._)("span",{onClick:e[7]||(e[7]=(...t)=>o.offSort&&o.offSort(...t))},"Đang lọc")],2),(0,i._)("table",VP,[(0,i._)("thead",EP,[(0,i._)("tr",null,[$P,(0,i._)("th",BP,[(0,i._)("div",RP,[HP,(0,i._)("div",YP,[KP,(0,i._)("ul",LP,[(0,i._)("li",{onClick:e[8]||(e[8]=t=>o.sort(1,"fullName"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[9]||(e[9]=t=>o.sort(-1,"fullName"))},"Từ Z về A"),(0,i._)("div",ZP,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[10]||(e[10]=t=>l.filterInput=t),onInput:e[11]||(e[11]=t=>o.handleFitter("fullName"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",jP,[(0,i._)("div",QP,[GP,(0,i._)("div",WP,[JP,(0,i._)("ul",XP,[(0,i._)("li",{onClick:e[12]||(e[12]=t=>o.sort(1,"email"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[13]||(e[13]=t=>o.sort(-1,"email"))},"Từ Z về A"),(0,i._)("div",tI,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[14]||(e[14]=t=>l.filterInput=t),onInput:e[15]||(e[15]=t=>o.handleFitter("email"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",eI,[(0,i._)("div",sI,[aI,(0,i._)("div",iI,[nI,(0,i._)("ul",lI,[(0,i._)("div",oI,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm Số điện thoại","onUpdate:modelValue":e[16]||(e[16]=t=>l.filterInput=t),onInput:e[17]||(e[17]=t=>o.handleFitter("phoneNumber"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",rI,[(0,i._)("div",cI,[dI,(0,i._)("div",hI,[pI,(0,i._)("ul",uI,[(0,i._)("li",{onClick:e[18]||(e[18]=t=>o.sort(1,"isStaff"))},"Nhân viên"),(0,i._)("li",{onClick:e[19]||(e[19]=t=>o.sort(-1,"isStaff"))},"Người dùng")])])])]),mI,gI])]),(0,i._)("tbody",yI,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.users,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t._id,class:(0,n.C_)({isDisable:t.disable})},[(0,i._)("td",fI,(0,n.zw)(e+1)+".",1),(0,i._)("td",vI,(0,n.zw)(t.fullName),1),(0,i._)("td",_I,(0,n.zw)(o.hideEmail(t.email)),1),(0,i._)("td",wI,(0,n.zw)(o.hidePhoneNumber(t.phoneNumber)),1),t.isStaff?((0,i.wg)(),(0,i.iD)("td",bI,"Nhân viên")):t.isAdmin?((0,i.wg)(),(0,i.iD)("td",kI,"Quản trị viên")):((0,i.wg)(),(0,i.iD)("td",CI,"Người dùng")),(0,i._)("td",xI,[(0,i._)("span",null,[SI,(0,i.Uk)((0,n.zw)(o.formatDateNoTime(t.createdAt)),1)]),DI,(0,i._)("span",null,[TI,(0,i.Uk)((0,n.zw)(o.formatDateNoTime(t.updatedAt)),1)])]),(0,i._)("td",PI,[t.disable||t.isStaff?!t.disable&&t.isStaff?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"btn btn-success me-3",onClick:e=>o.upStaff(t._id,"down"),title:"Hạ xuống tài khoản người dùng"},zI,8,qI)):t.disable?((0,i.wg)(),(0,i.iD)("button",FI,MI)):(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:e=>o.upStaff(t._id,"up"),class:"btn btn-outline-info me-3",title:"Nâng cấp thành tài khoản nhân viên"},UI,8,II)),!0===t.disable?((0,i.wg)(),(0,i.iD)("button",{key:3,onClick:e=>o.disableUser(t._id,"unlock"),class:"btn btn-outline-danger",title:"Mở khóa tài khoản"},$I,8,VI)):((0,i.wg)(),(0,i.iD)("button",{key:4,onClick:e=>o.disableUser(t._id,"lock"),class:"btn btn-outline-danger me-3",title:"Khóa tài khoản"},HI,8,BI))])],2)))),128))])]),(0,i._)("div",YI,[(0,i._)("ul",KI,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[20]||(e[20]=(...t)=>o.previousPage&&o.previousPage(...t))},ZI)]),jI,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,QI)])))),128)),GI,(0,i._)("li",null,[(0,i._)("span",{onClick:e[21]||(e[21]=(...t)=>o.nextPage&&o.nextPage(...t))},JI)])])])])}function tA(t=[]){let e="";t.forEach(((t,s)=>{e+=`\n            <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px;  width: 100%; height: ca;">\n                <td  style="width: 3%;  border: 1px solid #111" >${s+1}.</td>\n                <td style="width: 16.6667%; border: 1px solid #111; overflow: hidden;">${t.fullName}</td>\n                <td style="width: 12%; border: 1px solid #111;">${t.phoneNumber}</td>\n                <td style="width: 16.66667%; border: 1px solid #111;">${t.email}</td>\n                <td style="width: 16.6667%; border: 1px solid #111;">${t.isStaff?"Nhân viên":"Người dùng"}</td>\n                <td style="width: 16.66667%; border: 1px solid #111;">${mt.formatDateNoTime(t.createdAt)}</td>\n                <td style="width: 16.66667%; border: 1px solid #111;"></td>\n            </tr>\n        `}));const s=`\n        <div style="width: 100%; ">\n            <div>\n                <div style="width: 100%;">\n                    <h4 style="text-align: center; font-size: 25px; margin: 0px;">Phiếu tất cả tài khoản</h4>\n                    <br>\n                    <h4 style="text-align: center; font-size: 15px; margin: 0px;">Ngày tạo: ${mt.formatDate(new Date)}</h4>\n                </div>\n            </div>\n\n        <h4 style="text-align: center; font-size: 18px;">Bảng tất cả tài khoản</h4>\n        <table style=" border-spacing: 0px; border: 1px solid #111; width: 100%; margin: auto;">\n            <thead style="background-color: #ccc;">\n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px; line-height: 50px; width: 100%;">\n                    <th style="width: 3%;border: 1px solid #111">STT</th>\n                    <th  style="width: 16.6667%; border: 1px solid #111">Họ và tên</th>\n                    <th style="width: 12%; border: 1px solid #111;">Số điện thoại</th>\n                    <th style="width:16.66667%; border: 1px solid #111;">Email</th>\n                    <th style="width: 16.6667%; border: 1px solid #111;">Chức vụ</th>\n                    <th style="width: 16.6667%; border: 1px solid #111;">Lịch sử</th>\n                    <th style="width: 16.6667%; border: 1px solid #111;">Ghi chú</th>\n                </tr>\n            </thead>\n            <tbody style="width: 100%;">\n                ${e}\n            </tbody>\n        </table>\n        <div style="margin-top: 20px; font-size: 20px; display: flex; justify-content: flex-end; width: 100%;">\n            <strong>Tổng số tài khoản: </strong><span style="margin-left: 10px;">${t.length}</span>\n        </div>\n        </div>\n    `;return s}var eA=tA,sA={data(){return{dateFilter:{day:"0",month:"0",year:"0",field:""},years:[],pageNumber:1,pageSize:8,users:[],idTimeOut:null,isSort:!1,filterInput:"",activePage:1,lengthPage:0}},methods:{getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},handlePage(t){this.activePage=t,this.pageNumber=t,this.getAllUsers(),this.isSort=!1},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getAllUsers())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAllUsers())},hidePhoneNumber(t){const e=t.slice(-4),s="x".repeat(e.length),a=t.slice(0,-4)+s;return a},hideEmail(t){const e=t.slice(0,8),s="*".repeat(e.length),a=s+t.slice(8);return a},formatCurency(t){return mt.formatCurrency(t)},formatDateNoTime(t){return mt.formatDateNoTime(t)},async getAllUsers(){try{const t=await Gt.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await Gt.getAll({},this.pageNumber,this.pageSize);console.log(e),this.users=[...e.data]}catch(t){console.log(t)}},handleFitter(t){clearTimeout(this.idTimeOut),this.getAllUsers(),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){this.isSort=!0;const e=new RegExp(this.filterInput.trim(),"i"),s=this.users.filter((s=>e.test(s[t])));this.users=s},async sort(t,e){this.type=t,this.field=e,this.isSort=!0,"fullName"===e||"email"===e||"phoneNumber"===e?this.users.sort(((s,a)=>1==t?s[e].localeCompare(a[e]):-1==t?a[e].localeCompare(s[e]):void 0)):(await this.getAllUsers(),this.users=this.users.filter((e=>1==t?1==e.isStaff:(console.log(0==e.isStaff),0==e.isStaff&&!e.isAdmin))))},offSort(){this.isSort=!1,this.getAllUsers(),this.filterInput=""},async filterDate(){this.isSort=!0;const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await Gt.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.users=[...i.data]},exportToExcel(){const t=[];this.users.map((e=>t.push({"Tên":e.fullName,"Số điện thoại":e.phoneNumber,email:e.email,"Chức danh":e.isStaff?"Nhân viên":"Khách hàng"}))),Gw(t,"user")},async exportToPDF(){const t=eA(this.users),e=await I.exportPDF({data:t},"vertical"),s=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.target="_blank",i.setAttribute("download","TaiKhoan.pdf"),document.body.appendChild(i),i.click()},async disableUser(t,e){if("lock"===e&&confirm("Hành động này sẽ khóa tài khoản")){const e=await Gt.updateUser(t,{disable:!0,isStaff:!1});e.data.status&&this.getAllUsers()}else if(confirm("Mở khóa cho tài khoản này")&&"unlock"===e){const e=await Gt.updateUser(t,{disable:!1});e.data.status&&this.getAllUsers()}},async upStaff(t,e){if("up"==e&&confirm("Nâng cấp thành tài khoản nhân viên")){const e=await Gt.updateUser(t,{isStaff:!0});e.data.status&&this.getAllUsers()}else if("down"==e&&confirm("Chuyển thành tài khoản thường")){const e=await Gt.updateUser(t,{isStaff:!1});e.data.status&&this.getAllUsers()}}},mounted(){this.getYears(),this.getAllUsers()}};const aA=(0,ft.Z)(sA,[["render",XI]]);var iA=aA;const nA={class:"admin-profile-company"},lA=(0,i._)("h3",null,"Thông tin doanh nghiệp",-1),oA={class:"row"},rA={class:"row info"},cA={class:"logo"},dA=["src"],hA=(0,i._)("label",{for:"admin-company-logo"},[(0,i._)("i",{class:"fa-solid fa-file-pen"})],-1),pA=(0,i._)("hr",null,null,-1),uA=(0,i._)("label",{class:"col-lg-2",for:""},[(0,i._)("i",{class:"fa-solid fa-earth-americas me-2"}),(0,i.Uk)(" Tên Doanh nghiệp")],-1),mA={ref:"adminCompany1",class:"col-lg-5"},gA=(0,i._)("hr",null,null,-1),yA=(0,i._)("label",{class:"col-lg-2",for:""},[(0,i._)("i",{class:"fa-solid fa-hashtag me-2"}),(0,i.Uk)(" Mã số thuế ")],-1),fA={ref:"adminCompany2",class:"col-lg-5"},vA=(0,i._)("hr",null,null,-1),_A=(0,i._)("label",{class:"col-lg-2",for:""},[(0,i._)("i",{class:"fa-solid fa-location-dot me-2"}),(0,i.Uk)(" Địa chỉ")],-1),wA={ref:"adminCompany3",class:"col-lg-5"},bA=(0,i._)("hr",null,null,-1),kA=(0,i._)("label",{class:"col-lg-2",for:""},[(0,i._)("i",{class:"fa-solid fa-phone me-2"}),(0,i.Uk)(" Số điện thoại")],-1),CA={ref:"adminCompany4",class:"col-lg-5"},xA=(0,i._)("hr",null,null,-1),SA=(0,i._)("label",{class:"col-lg-2",for:""},[(0,i._)("i",{class:"fa-solid fa-envelope me-2"}),(0,i.Uk)(" Địa chỉ Email")],-1),DA={ref:"adminCompany5",class:"col-lg-5"},TA=(0,i._)("hr",null,null,-1),PA=(0,i._)("label",{class:"col-lg-2",for:""},[(0,i._)("i",{class:"fa-solid fa-user me-2"}),(0,i.Uk)(" Người đại diện")],-1),IA={ref:"adminCompany6",class:"col-lg-5"},AA=(0,i._)("hr",null,null,-1),UA=(0,i._)("label",{class:"col-lg-2",for:""},[(0,i._)("i",{class:"fa-solid fa-building me-2"}),(0,i.Uk)(" Giới thiệu")],-1),qA={ref:"adminCompany7",class:"col-lg-5"},NA={class:"text-danger fs-5"},zA={class:"text-success fs-5"},FA=(0,i._)("button",{class:"mt-3 mb-3 btn btn-warning"},"Thay đổi thông tin",-1);function OA(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",nA,[lA,(0,i._)("div",oA,[(0,i._)("form",{class:"col-lg-12",onSubmit:e[15]||(e[15]=(0,A.iM)(((...t)=>o.updateProfileCompany&&o.updateProfileCompany(...t)),["prevent","stop"]))},[(0,i._)("div",rA,[(0,i._)("div",cA,[(0,i._)("div",null,[(0,i._)("img",{ref:"imgRef",src:l.imgSrc,alt:""},null,8,dA),(0,i._)("input",{type:"file",class:"d-none",onChange:e[0]||(e[0]=(...t)=>o.handleSelectFile&&o.handleSelectFile(...t)),id:"admin-company-logo"},null,32),hA])]),(0,i._)("div",null,[pA,uA,(0,i._)("span",mA,[(0,i.wy)((0,i._)("input",{type:"text",disabled:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.infoCompany.name=t)},null,512),[[A.nr,l.infoCompany.name]]),(0,i._)("i",{class:"ms-2 fa-solid fa-pen-to-square",onClick:e[2]||(e[2]=t=>o.handleDisable("adminCompany1"))})],512)]),(0,i._)("div",null,[gA,yA,(0,i._)("span",fA,[(0,i.wy)((0,i._)("input",{type:"text",disabled:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.infoCompany.taxCode=t)},null,512),[[A.nr,l.infoCompany.taxCode]]),(0,i._)("i",{class:"ms-2 fa-solid fa-pen-to-square",onClick:e[4]||(e[4]=t=>o.handleDisable("adminCompany2"))})],512)]),(0,i._)("div",null,[vA,_A,(0,i._)("span",wA,[(0,i.wy)((0,i._)("input",{type:"text",disabled:"","onUpdate:modelValue":e[5]||(e[5]=t=>l.infoCompany.address=t)},null,512),[[A.nr,l.infoCompany.address]]),(0,i._)("i",{class:"ms-2 fa-solid fa-pen-to-square",onClick:e[6]||(e[6]=t=>o.handleDisable("adminCompany3"))})],512)]),(0,i._)("div",null,[bA,kA,(0,i._)("span",CA,[(0,i.wy)((0,i._)("input",{type:"text",disabled:"","onUpdate:modelValue":e[7]||(e[7]=t=>l.infoCompany.phone=t)},null,512),[[A.nr,l.infoCompany.phone]]),(0,i._)("i",{class:"ms-2 fa-solid fa-pen-to-square",onClick:e[8]||(e[8]=t=>o.handleDisable("adminCompany4"))})],512)]),(0,i._)("div",null,[xA,SA,(0,i._)("span",DA,[(0,i.wy)((0,i._)("input",{type:"text",disabled:"","onUpdate:modelValue":e[9]||(e[9]=t=>l.infoCompany.email=t)},null,512),[[A.nr,l.infoCompany.email]]),(0,i._)("i",{class:"ms-2 fa-solid fa-pen-to-square",onClick:e[10]||(e[10]=t=>o.handleDisable("adminCompany5"))})],512)]),(0,i._)("div",null,[TA,PA,(0,i._)("span",IA,[(0,i.wy)((0,i._)("input",{type:"text",disabled:"","onUpdate:modelValue":e[11]||(e[11]=t=>l.infoCompany.president=t)},null,512),[[A.nr,l.infoCompany.president]]),(0,i._)("i",{class:"ms-2 fa-solid fa-pen-to-square",onClick:e[12]||(e[12]=t=>o.handleDisable("adminCompany6"))})],512)]),(0,i._)("div",null,[AA,UA,(0,i._)("span",qA,[(0,i.wy)((0,i._)("input",{type:"text",disabled:"","onUpdate:modelValue":e[13]||(e[13]=t=>l.infoCompany.introduce=t)},null,512),[[A.nr,l.infoCompany.introduce]]),(0,i._)("i",{class:"ms-2 fa-solid fa-pen-to-square",onClick:e[14]||(e[14]=t=>o.handleDisable("adminCompany7"))})],512)])]),(0,i._)("div",null,[(0,i._)("span",NA,(0,n.zw)(l.mesFaild),1),(0,i._)("span",zA,(0,n.zw)(l.mesSuccess),1)]),FA],32)])])}var MA={data(){return{infoCompany:{},imgSrc:"",mesFaild:"",mesSuccess:""}},methods:{handleDisable(t){const e=this.$refs[t],s=e.querySelector("input");s.disabled=!s.disabled,s.focus()},async getCompany(){try{const t=await sg.get();this.infoCompany={...t.data[0]},this.imgSrc="http://localhost:3000/"+this.infoCompany.logo}catch(t){console.log(t)}},handleSelectFile(t){const e=t.target.files[0];if(this.infoCompany.image=e,e){const t=URL.createObjectURL(e);this.$refs.imgRef.src=t}},async updateProfileCompany(){try{const t=await sg.update(this.infoCompany._id,this.infoCompany);t.data.status?(this.mesFaild="",this.mesSuccess=t.data.mes,this.infoCompany={...t.data.data}):(this.mesSuccess="",this.mesFaild=t.data.mes)}catch(t){console.log(t)}}},mounted(){this.getCompany()}};const VA=(0,ft.Z)(MA,[["render",OA]]);var EA=VA;const $A=t=>((0,i.dD)("data-v-0020d3a0"),t=t(),(0,i.Cn)(),t),BA={key:0,class:"alert alert-success admin-alert",role:"alert"},RA=$A((()=>(0,i._)("h3",null,"Phân quyền cho tài khoản nhân viên",-1))),HA={class:"d-flex justify-content-between my-3"},YA={class:"table"},KA={class:"row"},LA=$A((()=>(0,i._)("th",{class:"col-1"},"STT",-1))),ZA=$A((()=>(0,i._)("th",{class:"col-3"},[(0,i._)("span",{class:"admin-role-name1"},"Email"),(0,i._)("span",{class:"admin-wall"}),(0,i._)("span",{class:"admin-role-name2"},"Tên quyền")],-1))),jA={class:"col-1"},QA={class:"col-3"},GA=["checked","value","onChange"],WA=$A((()=>(0,i._)("h3",null,"Thêm quyền mới",-1))),JA=$A((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên quyền "),(0,i._)("span",null,"*")],-1))),XA=$A((()=>(0,i._)("button",null,"Thêm quyền",-1))),tU={key:2,class:"overlay"},eU=$A((()=>(0,i._)("div",{class:"center-laoding"},[(0,i._)("div",{class:"spinner-border text-light",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")])],-1))),sU=[eU],aU={class:"product-pagination mt-5"},iU={class:"pagination"},nU=$A((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),lU=[nU],oU=$A((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),rU=["onClick"],cU=$A((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),dU=$A((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),hU=[dU];function pU(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.alert?((0,i.wg)(),(0,i.iD)("div",BA,"Thay đổi quyền thành công")):(0,i.kq)("",!0),RA,(0,i._)("div",HA,[(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-warning me-1",onClick:e[0]||(e[0]=t=>o.handelRole("pre"))},"Các quyền trước đó"),(0,i._)("button",{class:"btn btn-info",onClick:e[1]||(e[1]=t=>o.handelRole("next"))},"Các quyền tiếp theo")])]),(0,i._)("table",YA,[(0,i._)("thead",null,[(0,i._)("tr",KA,[LA,ZA,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.roles,(t=>((0,i.wg)(),(0,i.iD)("th",{class:"col-1",key:t._id},(0,n.zw)(t.roleName),1)))),128))])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.users,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row",key:t._id},[(0,i._)("td",jA,(0,n.zw)(e+1),1),(0,i._)("td",QA,(0,n.zw)(t.email),1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.roles,(e=>((0,i.wg)(),(0,i.iD)("td",{class:"col-1",key:e._id},[(0,i._)("input",{type:"checkbox",name:"",id:"",checked:t.roles.some((t=>t.roleId==e._id)),value:e._id,onChange:e=>o.updateRole(e,t._id)},null,40,GA)])))),128))])))),128))])]),l.activeAddRole?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[5]||(e[5]=t=>l.activeAddRole=!1)},[(0,i._)("form",{onClick:e[3]||(e[3]=(0,A.iM)((()=>{}),["stop"])),action:"",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.addRole&&o.addRole(...t)),["prevent","stop"]))},[WA,(0,i._)("div",null,[JA,(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tên quyền...","onUpdate:modelValue":e[2]||(e[2]=t=>l.inFoRole.roleName=t)},null,512),[[A.nr,l.inFoRole.roleName]])]),XA],32)])):(0,i.kq)("",!0),l.isLoading?((0,i.wg)(),(0,i.iD)("div",tU,sU)):(0,i.kq)("",!0),(0,i._)("div",aU,[(0,i._)("ul",iU,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[6]||(e[6]=(...t)=>o.previousPage&&o.previousPage(...t))},lU)]),oU,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,rU)])))),128)),cU,(0,i._)("li",null,[(0,i._)("span",{onClick:e[7]||(e[7]=(...t)=>o.nextPage&&o.nextPage(...t))},hU)])])])],64)}class uU{constructor(t="http://localhost:3000/role"){this.api=(0,T.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}}var mU=new uU,gU={data(){return{ischeck:!1,users:[],roles:[],inFoRole:{roleName:""},isLoading:!1,alert:!1,activeAddRole:!1,pageNumber:1,pageSize:8,lengthPage:1,activePage:1,pageRole:1,lengthRole:1}},methods:{handlePage(t){this.activePage=t,this.pageNumber=t,this.getUsers(),this.isSort=!1},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getUsers())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getUsers())},async updateRole(t,e){try{t.target.checked?(this.isLoading=!0,await Gt.updateRole(e,{roleId:t.target.value,type:"add"}),this.isLoading=!1,this.alert=!0,setTimeout((()=>{this.alert=!1}),1e3),this.getUsers()):(this.isLoading=!0,await Gt.updateRole(e,{roleId:t.target.value,type:"remove"}),this.isLoading=!1,this.alert=!0,setTimeout((()=>{this.alert=!1}),1500),this.getUsers())}catch(s){console.log(s)}},async getUsers(){try{const t=await Gt.getAll({isStaff:!0});console.log(t),this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await Gt.getAll({isStaff:!0},this.pageNumber,this.pageSize);this.users=e.data}catch(t){console.log(t)}},async addRole(){try{if(console.log(this.inFoRole),""==this.inFoRole.roleName)return void alert("Nhập tên quyền");const t=await mU.create(this.inFoRole);t.data.status&&this.getRoles()}catch(t){console.log(t)}},async getRoles(){try{const t=await mU.getAll();this.lengthRole=Math.ceil(t.data.length/8);const e=await mU.getAll(this.pageRole,8);this.roles=[...e.data]}catch(t){console.log(t)}},handelRole(t){"next"==t?this.pageRole<this.lengthRole?(this.pageRole+=1,this.getRoles()):(this.pageRole=1,this.getRoles()):(console.log(this.pageRole),this.pageRole>1?(this.pageRole-=1,this.getRoles()):(console.log(this.lengthRole),this.pageRole=this.lengthRole,this.getRoles()))}},mounted(){this.getUsers(),this.getRoles()}};const yU=(0,ft.Z)(gU,[["render",pU],["__scopeId","data-v-0020d3a0"]]);var fU=yU;const vU=t=>((0,i.dD)("data-v-3f0d203a"),t=t(),(0,i.Cn)(),t),_U={class:"admin-staff"},wU=vU((()=>(0,i._)("h3",null,"Bảng nhân viên",-1))),bU={class:"d-flex justify-content-between align-items-center my-3"},kU={class:"input-admin-filter"},CU=vU((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),xU=["value"],SU=vU((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),DU=["value"],TU=vU((()=>(0,i._)("option",{value:"0"},"Năm",-1))),PU=["value"],IU=vU((()=>(0,i._)("option",{value:""},"Chọn kiểu",-1))),AU=vU((()=>(0,i._)("option",{value:"0"},"Tất cả",-1))),UU=vU((()=>(0,i._)("option",{value:"dateOfBirth"},"Ngày sinh",-1))),qU=vU((()=>(0,i._)("option",{value:"startDate"},"Ngày vào làm",-1))),NU=[IU,AU,UU,qU],zU=vU((()=>(0,i._)("button",null,"Lọc",-1))),FU={class:"admin-export"},OU=vU((()=>(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1))),MU=vU((()=>(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1))),VU={class:"w-100"},EU={class:"row gx-0"},$U=vU((()=>(0,i._)("th",{class:"col-1 ps-2 text-center"},"STT",-1))),BU={class:"col-2 ps-2"},RU={class:"admin-table-title"},HU=vU((()=>(0,i._)("p",null,"Tên Nhân viên",-1))),YU={class:"admin-sort"},KU=vU((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),LU={class:"admin-sort-list"},ZU={class:"filter-admin-input"},jU={class:"col ps-2"},QU={class:"admin-table-title"},GU=vU((()=>(0,i._)("p",null,"Số điện thoại",-1))),WU={class:"admin-sort"},JU=vU((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),XU={class:"admin-sort-list"},tq={class:"filter-admin-input"},eq={class:"col ps-2"},sq={class:"admin-table-title"},aq=vU((()=>(0,i._)("p",null,"Chức vụ",-1))),iq={class:"admin-sort"},nq=vU((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),lq={class:"admin-sort-list"},oq={class:"filter-admin-input"},rq={class:"col-2 ps-2"},cq={class:"admin-table-title"},dq=vU((()=>(0,i._)("p",null,"Phòng ban",-1))),hq={class:"admin-sort"},pq=vU((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),uq={class:"admin-sort-list"},mq={class:"filter-admin-input"},gq={class:"col ps-2"},yq={class:"admin-table-title"},fq=vU((()=>(0,i._)("p",null,"Giới tính",-1))),vq={class:"admin-sort"},_q=vU((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),wq={class:"admin-sort-list"},bq=vU((()=>(0,i._)("th",{class:"col ps-2"},"Ngày sinh",-1))),kq=vU((()=>(0,i._)("th",{class:"col ps-2"},"Ngày vào làm",-1))),Cq=vU((()=>(0,i._)("th",{class:"col ps-2"},"Hành động",-1))),xq={class:"col-1 ps-2 text-center"},Sq={class:"col-2 ps-2"},Dq=["src"],Tq={class:"col ps-2"},Pq={class:"col ps-2"},Iq={class:"col-2 ps-2"},Aq={class:"col ps-2"},Uq={class:"col ps-2"},qq={class:"col ps-2"},Nq={class:"col ps-2"},zq=["onClick"],Fq=vU((()=>(0,i._)("i",{class:"fa-solid fa-pen-to-square"},null,-1))),Oq=[Fq],Mq=["onClick"],Vq=vU((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1))),Eq=[Vq],$q={class:"product-pagination mt-5"},Bq={class:"pagination"},Rq=vU((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),Hq=[Rq],Yq=vU((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),Kq=["onClick"],Lq=vU((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),Zq=vU((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),jq=[Zq],Qq={key:0,class:"overlay"},Gq={class:"d-flex justify-content-end"},Wq=vU((()=>(0,i._)("h3",{class:"mb-3"},"Thêm nhân viên",-1))),Jq={class:"row"},Xq={class:"col-lg-4"},tN={class:"spe-group"},eN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên nhân viên "),(0,i._)("span",{class:"text-danger"},"*")],-1))),sN={class:"col-lg-4"},aN={class:"spe-group"},iN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Giới tính "),(0,i._)("span",{class:"text-danger"},"*")],-1))),nN=vU((()=>(0,i._)("option",{value:""},"---Chọn giới tính----",-1))),lN=vU((()=>(0,i._)("option",{value:"Nam"},"Nam",-1))),oN=vU((()=>(0,i._)("option",{value:"Nữ"},"Nữ",-1))),rN=[nN,lN,oN],cN={class:"col-lg-4"},dN={class:"spe-group"},hN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Ngày sinh nhật "),(0,i._)("span",{class:"text-danger"},"*")],-1))),pN={class:"col-lg-4"},uN={class:"spe-group"},mN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Email "),(0,i._)("span",{class:"text-danger"},"*")],-1))),gN={class:"col-lg-4"},yN={class:"spe-group"},fN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại "),(0,i._)("span",{class:"text-danger"},"*")],-1))),vN={class:"col-lg-4"},_N={class:"spe-group"},wN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ "),(0,i._)("span",{class:"text-danger"},"*")],-1))),bN={class:"col-lg-4"},kN={class:"spe-group"},CN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Ngày bắt đầu "),(0,i._)("span",{class:"text-danger"},"*")],-1))),xN={class:"col-lg-4"},SN={class:"spe-group"},DN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Vị trí "),(0,i._)("span",{class:"text-danger"},"*")],-1))),TN={class:"col-lg-4"},PN={class:"spe-group"},IN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Phòng ban "),(0,i._)("span",{class:"text-danger"},"*")],-1))),AN={class:"col-lg-4"},UN={class:"spe-group"},qN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Lương "),(0,i._)("span",{class:"text-danger"},"*")],-1))),NN={key:0,class:"col-lg-4"},zN={class:"spe-group"},FN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Mật khẩu cho tài khoản "),(0,i._)("span",{class:"text-danger"},"*")],-1))),ON={class:"col-lg-4"},MN={class:"spe-group"},VN=vU((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tài khoản nhân viên"),(0,i._)("span",{class:"text-danger"},"*")],-1))),EN=vU((()=>(0,i._)("option",{value:""},"---Chọn----",-1))),$N=vU((()=>(0,i._)("option",{value:"1"},"Đã có",-1))),BN=vU((()=>(0,i._)("option",{value:"2"},"Chưa có",-1))),RN=[EN,$N,BN],HN={class:"col-lg-4"},YN={class:"spe-group"},KN=vU((()=>(0,i._)("label",{for:""},"Ảnh nhân viên",-1))),LN=vU((()=>(0,i._)("div",null,[(0,i._)("button",{class:"mt-3 btn btn-success"},"Thêm nhân viên")],-1)));function ZN(t,e,s,a,l,o){const r=(0,i.up)("admin-form-edit-staff"),c=(0,i.up)("admin-staff-detail-vue");return(0,i.wg)(),(0,i.iD)("div",_U,[wU,(0,i._)("div",bU,[(0,i._)("div",{class:"ms-3 text-white btn btn-info h-50",onClick:e[0]||(e[0]=t=>l.activeStaff=!0)},"Thêm nhân viên mới"),(0,i._)("div",kU,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[5]||(e[5]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.day=t),required:""},[CU,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,xU))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.month=t),required:""},[SU,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,DU))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.year=t),required:""},[TU,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,PU)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[4]||(e[4]=t=>l.dateFilter.field=t),required:""},NU,512),[[A.bM,l.dateFilter.field]]),zU],32),(0,i._)("div",FU,[(0,i._)("div",{class:"btn btn-success",onClick:e[6]||(e[6]=(...t)=>o.exportToExcel&&o.exportToExcel(...t))},[OU,(0,i.Uk)(" Excel ")]),(0,i._)("div",{class:"btn btn-warning",onClick:e[7]||(e[7]=(...t)=>o.exportToPDF&&o.exportToPDF(...t))},[MU,(0,i.Uk)(" Pdf")])])])]),(0,i._)("div",{class:(0,n.C_)(["isSort",{"isSort-active":l.isSort}])},[(0,i._)("span",{onClick:e[8]||(e[8]=(...t)=>o.offSort&&o.offSort(...t))},"Đang lọc")],2),(0,i._)("table",VU,[(0,i._)("thead",null,[(0,i._)("tr",EU,[$U,(0,i._)("th",BU,[(0,i._)("div",RU,[HU,(0,i._)("div",YU,[KU,(0,i._)("ul",LU,[(0,i._)("li",{onClick:e[9]||(e[9]=t=>o.sort(1,"fullName"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[10]||(e[10]=t=>o.sort(-1,"fullName"))},"Từ Z về A"),(0,i._)("div",ZU,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[11]||(e[11]=t=>l.filterInput=t),onInput:e[12]||(e[12]=t=>o.handleFitter("fullName"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",jU,[(0,i._)("div",QU,[GU,(0,i._)("div",WU,[JU,(0,i._)("ul",XU,[(0,i._)("div",tq,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm Số điện thoại","onUpdate:modelValue":e[13]||(e[13]=t=>l.filterInput=t),onInput:e[14]||(e[14]=t=>o.handleFitter("phone"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",eq,[(0,i._)("div",sq,[aq,(0,i._)("div",iq,[nq,(0,i._)("ul",lq,[(0,i._)("li",{onClick:e[15]||(e[15]=t=>o.sort(1,"position"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[16]||(e[16]=t=>o.sort(-1,"position"))},"Từ Z về A"),(0,i._)("div",oq,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhập từ khóa...","onUpdate:modelValue":e[17]||(e[17]=t=>l.filterInput=t),onInput:e[18]||(e[18]=t=>o.handleFitter("position"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",rq,[(0,i._)("div",cq,[dq,(0,i._)("div",hq,[pq,(0,i._)("ul",uq,[(0,i._)("li",{onClick:e[19]||(e[19]=t=>o.sort(1,"department"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[20]||(e[20]=t=>o.sort(-1,"department"))},"Từ Z về A"),(0,i._)("div",mq,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhập từ khóa...","onUpdate:modelValue":e[21]||(e[21]=t=>l.filterInput=t),onInput:e[22]||(e[22]=t=>o.handleFitter("department"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",gq,[(0,i._)("div",yq,[fq,(0,i._)("div",vq,[_q,(0,i._)("ul",wq,[(0,i._)("li",{onClick:e[23]||(e[23]=t=>o.sort("Nam","gender"))},"Nam"),(0,i._)("li",{onClick:e[24]||(e[24]=t=>o.sort("Nữ","gender"))},"Nữ")])])])]),bq,kq,Cq])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.staffs,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row gx-0",key:t._id},[(0,i._)("td",xq,(0,n.zw)(e+1)+".",1),(0,i._)("td",Sq,[(0,i._)("img",{class:"staff-avatar",src:"http://localhost:3000"+t.avatar,alt:""},null,8,Dq),(0,i.Uk)(" "+(0,n.zw)(t.fullName),1)]),(0,i._)("td",Tq,(0,n.zw)(t.phone),1),(0,i._)("td",Pq,(0,n.zw)(t.position),1),(0,i._)("td",Iq,(0,n.zw)(t.department),1),(0,i._)("td",Aq,(0,n.zw)(t.gender),1),(0,i._)("td",Uq,(0,n.zw)(t.dateOfBirth),1),(0,i._)("td",qq,(0,n.zw)(t.startDate),1),(0,i._)("td",Nq,[(0,i._)("span",{class:"btn btn-outline-warning me-3",title:"Sửa đổi thông tin",onClick:e=>o.editStaff(t._id)},Oq,8,zq),(0,i._)("span",{onClick:e=>o.detailStaff(t._id),class:"btn btn-outline-info",title:"Xem chi tiết"},Eq,8,Mq)])])))),128))])]),(0,i._)("div",$q,[(0,i._)("ul",Bq,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[25]||(e[25]=(...t)=>o.previousPage&&o.previousPage(...t))},Hq)]),Yq,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,Kq)])))),128)),Lq,(0,i._)("li",null,[(0,i._)("span",{onClick:e[26]||(e[26]=(...t)=>o.nextPage&&o.nextPage(...t))},jq)])])]),l.activeStaff?((0,i.wg)(),(0,i.iD)("div",Qq,[(0,i._)("form",{onClick:e[41]||(e[41]=(0,A.iM)((()=>{}),["stop"])),action:"",class:"admin-form-staff",onSubmit:e[42]||(e[42]=(0,A.iM)(((...t)=>o.addStaff&&o.addStaff(...t)),["prevent","stop"]))},[(0,i._)("div",Gq,[(0,i._)("i",{class:"fa-solid fa-xmark text-danger fs-1",onClick:e[27]||(e[27]=t=>l.activeStaff=!1)})]),Wq,(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":l.mesFaild,"text-success":l.mesSuccess}])},(0,n.zw)(l.mesSuccess||l.mesFaild),3),(0,i._)("div",Jq,[(0,i._)("div",Xq,[(0,i._)("div",tN,[eN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[28]||(e[28]=t=>l.infoStaff.fullName=t),required:"",type:"text",placeholder:"Họ và tên nhân viên"},null,512),[[A.nr,l.infoStaff.fullName]])])]),(0,i._)("div",sN,[(0,i._)("div",aN,[iN,(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[29]||(e[29]=t=>l.infoStaff.gender=t)},rN,512),[[A.bM,l.infoStaff.gender]])])]),(0,i._)("div",cN,[(0,i._)("div",dN,[hN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[30]||(e[30]=t=>l.infoStaff.dateOfBirth=t),required:"",type:"date",placeholder:"Ngày sinh nhật"},null,512),[[A.nr,l.infoStaff.dateOfBirth]]),l.valid.dateOfBirth?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.dateOfBirth})},(0,n.zw)(l.valid.dateOfBirth),3)):(0,i.kq)("",!0)])]),(0,i._)("div",pN,[(0,i._)("div",uN,[mN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[31]||(e[31]=t=>l.infoStaff.email=t),required:"",type:"text",placeholder:"Tài khoản email"},null,512),[[A.nr,l.infoStaff.email]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.email})},(0,n.zw)(l.valid.email),3)):(0,i.kq)("",!0)])]),(0,i._)("div",gN,[(0,i._)("div",yN,[fN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[32]||(e[32]=t=>l.infoStaff.phone=t),required:"",type:"text",placeholder:"Số điện thoại"},null,512),[[A.nr,l.infoStaff.phone]]),l.valid.phone?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.phone})},(0,n.zw)(l.valid.phone),3)):(0,i.kq)("",!0)])]),(0,i._)("div",vN,[(0,i._)("div",_N,[wN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[33]||(e[33]=t=>l.infoStaff.address=t),required:"",type:"text",placeholder:"Địa chỉ"},null,512),[[A.nr,l.infoStaff.address]])])]),(0,i._)("div",bN,[(0,i._)("div",kN,[CN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[34]||(e[34]=t=>l.infoStaff.startDate=t),required:"",type:"date",placeholder:"Ngày được tuyển"},null,512),[[A.nr,l.infoStaff.startDate]])])]),(0,i._)("div",xN,[(0,i._)("div",SN,[DN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[35]||(e[35]=t=>l.infoStaff.position=t),required:"",type:"text",placeholder:"Vị trí"},null,512),[[A.nr,l.infoStaff.position]])])]),(0,i._)("div",TN,[(0,i._)("div",PN,[IN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[36]||(e[36]=t=>l.infoStaff.department=t),required:"",type:"text",placeholder:"Phòng ban"},null,512),[[A.nr,l.infoStaff.department]])])]),(0,i._)("div",AN,[(0,i._)("div",UN,[qN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[37]||(e[37]=t=>l.infoStaff.salary=t),required:"",type:"number",placeholder:"Mức lương"},null,512),[[A.nr,l.infoStaff.salary]]),l.valid.salary?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.salary})},(0,n.zw)(l.valid.salary),3)):(0,i.kq)("",!0)])]),2==l.infoStaff.account?((0,i.wg)(),(0,i.iD)("div",NN,[(0,i._)("div",zN,[FN,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[38]||(e[38]=t=>l.infoStaff.password=t),required:"",type:"password",placeholder:"Mật khẩu"},null,512),[[A.nr,l.infoStaff.password]])])])):(0,i.kq)("",!0),(0,i._)("div",ON,[(0,i._)("div",MN,[VN,(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[39]||(e[39]=t=>l.infoStaff.account=t)},RN,512),[[A.bM,l.infoStaff.account]])])]),(0,i._)("div",HN,[(0,i._)("div",YN,[KN,(0,i._)("input",{class:"entry-file-input",onChange:e[40]||(e[40]=(...t)=>o.handleImage&&o.handleImage(...t)),type:"file",placeholder:"Địa chỉ"},null,32)])])]),LN],32)])):(0,i.kq)("",!0),l.activeStaffEdit?((0,i.wg)(),(0,i.j4)(r,{key:1,idStaff:l.idStaff,onCloseFormEdit:e[43]||(e[43]=t=>l.activeStaffEdit=!1),onUpdated:o.getAll},null,8,["idStaff","onUpdated"])):(0,i.kq)("",!0),l.activeStaffDetail?((0,i.wg)(),(0,i.j4)(c,{key:2,idStaff:l.idStaff,onCloseDetail:e[44]||(e[44]=t=>l.activeStaffDetail=!1)},null,8,["idStaff"])):(0,i.kq)("",!0)])}class jN{constructor(t="http://localhost:3000/staff"){this.api=(0,T.Z)(t)}async create(t){const e={"Content-Type":"multipart/form-data"},s="http://localhost:3000/staff";return this.api=(0,T.Z)(s,e),await this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNummber=${t}&pageSize=${e}`):await this.api.get("/")}async update(t,e){const s={"Content-Type":"multipart/form-data"},a="http://localhost:3000/staff";return this.api=(0,T.Z)(a,s),await this.api.post(`/update/?id=${t}`,e)}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}async findById(t){return await this.api.get(`/find/?id=${t}`)}}var QN=new jN;const GN={class:"overlay"},WN={class:"d-flex justify-content-end"},JN=(0,i._)("h3",{class:"mb-3"},"Chỉnh sửa thông tin nhân viên",-1),XN={class:"row"},tz={class:"avatar"},ez=["src"],sz=["src"],az=(0,i._)("label",{for:"avatar"},[(0,i._)("i",{class:"fa-solid fa-file-pen"})],-1),iz={class:"col-lg-4"},nz={class:"spe-group"},lz=(0,i._)("label",{for:""},[(0,i.Uk)("Tên nhân viên "),(0,i._)("span",{class:"text-danger"},"*")],-1),oz={class:"col-lg-4"},rz={class:"spe-group"},cz=(0,i._)("label",{for:""},[(0,i.Uk)("Giới tính "),(0,i._)("span",{class:"text-danger"},"*")],-1),dz=(0,i._)("option",{value:""},"---Chọn giới tính----",-1),hz=(0,i._)("option",{value:"Nam"},"Nam",-1),pz=(0,i._)("option",{value:"Nữ"},"Nữ",-1),uz=[dz,hz,pz],mz={class:"col-lg-4"},gz={class:"spe-group"},yz=(0,i._)("label",{for:""},[(0,i.Uk)("Ngày sinh nhật "),(0,i._)("span",{class:"text-danger"},"*")],-1),fz={class:"col-lg-4"},vz={class:"spe-group"},_z=(0,i._)("label",{for:""},[(0,i.Uk)("Email "),(0,i._)("span",{class:"text-danger"},"*")],-1),wz={class:"col-lg-4"},bz={class:"spe-group"},kz=(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại "),(0,i._)("span",{class:"text-danger"},"*")],-1),Cz={class:"col-lg-4"},xz={class:"spe-group"},Sz=(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ "),(0,i._)("span",{class:"text-danger"},"*")],-1),Dz={class:"col-lg-4"},Tz={class:"spe-group"},Pz=(0,i._)("label",{for:""},[(0,i.Uk)("Ngày bắt đầu "),(0,i._)("span",{class:"text-danger"},"*")],-1),Iz={class:"col-lg-4"},Az={class:"spe-group"},Uz=(0,i._)("label",{for:""},[(0,i.Uk)("Vị trí "),(0,i._)("span",{class:"text-danger"},"*")],-1),qz={class:"col-lg-4"},Nz={class:"spe-group"},zz=(0,i._)("label",{for:""},[(0,i.Uk)("Phòng ban "),(0,i._)("span",{class:"text-danger"},"*")],-1),Fz={class:"col-lg-4"},Oz={class:"spe-group"},Mz=(0,i._)("label",{for:""},[(0,i.Uk)("Lương "),(0,i._)("span",{class:"text-danger"},"*")],-1),Vz=(0,i._)("div",null,[(0,i._)("button",{class:"mt-3 btn btn-success"},"Sửa đổi thông tin")],-1);function Ez(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",GN,[l.staffInfo?((0,i.wg)(),(0,i.iD)("form",{key:0,onClick:e[12]||(e[12]=(0,A.iM)((()=>{}),["stop"])),action:"",class:"admin-form-staff",onSubmit:e[13]||(e[13]=(0,A.iM)(((...t)=>o.editStaff&&o.editStaff(...t)),["prevent","stop"]))},[(0,i._)("div",WN,[(0,i._)("i",{class:"fa-solid fa-xmark text-danger fs-1",onClick:e[0]||(e[0]=(...t)=>o.closeFormEdit&&o.closeFormEdit(...t))})]),JN,(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":l.mesFaild,"text-success":l.mesSuccess}])},(0,n.zw)(l.mesSuccess||l.mesFaild),3),(0,i._)("div",XN,[(0,i._)("div",tz,[(0,i._)("span",null,[l.imgSrc?((0,i.wg)(),(0,i.iD)("img",{key:1,src:l.imgSrc,alt:""},null,8,sz)):((0,i.wg)(),(0,i.iD)("img",{key:0,src:"http://localhost:3000"+l.staffInfo.avatar,alt:""},null,8,ez)),az,(0,i._)("input",{type:"file",class:"d-none",id:"avatar",onChange:e[1]||(e[1]=(...t)=>o.handleImage&&o.handleImage(...t))},null,32)])]),(0,i._)("div",iz,[(0,i._)("div",nz,[lz,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.staffInfo.fullName=t),required:"",type:"text",placeholder:"Họ và tên nhân viên"},null,512),[[A.nr,l.staffInfo.fullName]])])]),(0,i._)("div",oz,[(0,i._)("div",rz,[cz,(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.staffInfo.gender=t)},uz,512),[[A.bM,l.staffInfo.gender]])])]),(0,i._)("div",mz,[(0,i._)("div",gz,[yz,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[4]||(e[4]=t=>l.staffInfo.dateOfBirth=t),required:"",type:"date",placeholder:"Ngày sinh nhật"},null,512),[[A.nr,l.staffInfo.dateOfBirth]]),l.valid.dateOfBirth?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.dateOfBirth})},(0,n.zw)(l.valid.dateOfBirth),3)):(0,i.kq)("",!0)])]),(0,i._)("div",fz,[(0,i._)("div",vz,[_z,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[5]||(e[5]=t=>l.staffInfo.email=t),required:"",type:"text",placeholder:"Tài khoản email"},null,512),[[A.nr,l.staffInfo.email]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.email})},(0,n.zw)(l.valid.email),3)):(0,i.kq)("",!0)])]),(0,i._)("div",wz,[(0,i._)("div",bz,[kz,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.staffInfo.phone=t),required:"",type:"text",placeholder:"Số điện thoại"},null,512),[[A.nr,l.staffInfo.phone]]),l.valid.phone?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.phone})},(0,n.zw)(l.valid.phone),3)):(0,i.kq)("",!0)])]),(0,i._)("div",Cz,[(0,i._)("div",xz,[Sz,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.staffInfo.address=t),required:"",type:"text",placeholder:"Địa chỉ"},null,512),[[A.nr,l.staffInfo.address]])])]),(0,i._)("div",Dz,[(0,i._)("div",Tz,[Pz,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.staffInfo.startDate=t),required:"",type:"date",placeholder:"Ngày được tuyển"},null,512),[[A.nr,l.staffInfo.startDate]])])]),(0,i._)("div",Iz,[(0,i._)("div",Az,[Uz,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.staffInfo.position=t),required:"",type:"text",placeholder:"Vị trí"},null,512),[[A.nr,l.staffInfo.position]])])]),(0,i._)("div",qz,[(0,i._)("div",Nz,[zz,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.staffInfo.department=t),required:"",type:"text",placeholder:"Phòng ban"},null,512),[[A.nr,l.staffInfo.department]])])]),(0,i._)("div",Fz,[(0,i._)("div",Oz,[Mz,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.staffInfo.salary=t),required:"",type:"number",placeholder:"Mức lương"},null,512),[[A.nr,l.staffInfo.salary]]),l.valid.salary?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.salary})},(0,n.zw)(l.valid.salary),3)):(0,i.kq)("",!0)])])]),Vz],32)):(0,i.kq)("",!0)])}var $z={props:["idStaff"],data(){return{staffInfo:{},valid:{},mesFaild:"",mesSuccess:"",imgSrc:""}},emits:["closeFormEdit","updated"],methods:{closeFormEdit(){this.$emit("closeFormEdit")},handleImage(t){this.image=t.target.files[0]||"";const e=URL.createObjectURL(this.image);this.imgSrc=e,this.staffInfo.avatar=this.image},formattedDate(t){const e=new Date(t),s=e.getFullYear(),a=("0"+(e.getMonth()+1)).slice(-2),i=("0"+e.getDate()).slice(-2);return`${s}-${a}-${i}`},async getById(){const t=await QN.findById(this.idStaff);this.staffInfo={...t.data},this.staffInfo.dateOfBirth=this.formattedDate(this.staffInfo.dateOfBirth),this.staffInfo.startDate=this.formattedDate(this.staffInfo.startDate)},validateForm(t){const e=new Date,s=new Date(t.dateOfBirth),a=e.getFullYear()-s.getFullYear(),i=/^[0-9]+$/,n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;this.valid.dateOfBirth=a<=18?"Chưa đủ 18 tuổi":void 0,!i.test(t.phone)||!t.phone.length>10?this.valid.phone="Số điện thoại không hợp lệ":this.valid.phone=void 0,t.salary<0?this.valid.salary="Không được là số âm":this.valid.salary=void 0,n.test(t.email)?this.valid.email=void 0:this.valid.email="Email không hợp lệ";let l=!1;const o=Object.values(this.valid);for(let r=0;r<o.length;r++){if(void 0!==o[r]){l=!1;break}l=!0}return l},async editStaff(){try{const t=this.validateForm(this.staffInfo);if(t){console.log(this.staffInfo);const t=await QN.update(this.idStaff,this.staffInfo);t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild=!1,this.getById(),this.$emit("updated")):(this.mesFaild=t.data.mes,this.mesSuccess=!1)}}catch(t){console.log(t)}}},mounted(){this.getById()}};const Bz=(0,ft.Z)($z,[["render",Ez]]);var Rz=Bz;const Hz=t=>((0,i.dD)("data-v-2b0619b2"),t=t(),(0,i.Cn)(),t),Yz=Hz((()=>(0,i._)("div",{class:"banner"},null,-1))),Kz={key:0,class:"avatar"},Lz=["src"],Zz={class:"info"},jz={class:"row gx-0"},Qz={class:"col-12"},Gz=Hz((()=>(0,i._)("strong",null,"Họ và tên: ",-1))),Wz={class:"col-12"},Jz=Hz((()=>(0,i._)("strong",null,"Số điện thoại: ",-1))),Xz={class:"col-12"},tF=Hz((()=>(0,i._)("strong",null,"Email: ",-1))),eF={class:"col-12"},sF=Hz((()=>(0,i._)("strong",null,"Địa chỉ: ",-1))),aF={class:"col-12"},iF=Hz((()=>(0,i._)("strong",null,"Ngày sinh: ",-1))),nF={class:"col-12"},lF=Hz((()=>(0,i._)("strong",null,"Giới tính: ",-1))),oF={class:"col-12"},rF=Hz((()=>(0,i._)("strong",null,"Chức vụ: ",-1))),cF={class:"col-12"},dF=Hz((()=>(0,i._)("strong",null,"Phòng ban: ",-1))),hF={class:"col-12"},pF=Hz((()=>(0,i._)("strong",null,"Lương: ",-1))),uF={class:"col-12"},mF=Hz((()=>(0,i._)("strong",null,"Ngày bắt đầu: ",-1)));function gF(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",{class:"overlay",onClick:e[1]||(e[1]=(...t)=>o.closeDetail&&o.closeDetail(...t))},[(0,i._)("div",{onClick:e[0]||(e[0]=(0,A.iM)((()=>{}),["stop"])),class:"staff-detail"},[Yz,l.infoStaff.avatar?((0,i.wg)(),(0,i.iD)("div",Kz,[(0,i._)("img",{src:"http://localhost:3000"+l.infoStaff.avatar,alt:"ko có hình ảnh"},null,8,Lz)])):(0,i.kq)("",!0),(0,i._)("div",Zz,[(0,i._)("div",jz,[(0,i._)("div",Qz,[(0,i._)("span",null,[Gz,(0,i.Uk)((0,n.zw)(l.infoStaff.fullName),1)])]),(0,i._)("div",Wz,[(0,i._)("span",null,[Jz,(0,i.Uk)((0,n.zw)(l.infoStaff.phone),1)])]),(0,i._)("div",Xz,[(0,i._)("span",null,[tF,(0,i.Uk)((0,n.zw)(l.infoStaff.email),1)])]),(0,i._)("div",eF,[(0,i._)("span",null,[sF,(0,i.Uk)((0,n.zw)(l.infoStaff.address),1)])]),(0,i._)("div",aF,[(0,i._)("span",null,[iF,(0,i.Uk)((0,n.zw)(l.infoStaff.dateOfBirth),1)])]),(0,i._)("div",nF,[(0,i._)("span",null,[lF,(0,i.Uk)((0,n.zw)(l.infoStaff.gender),1)])]),(0,i._)("div",oF,[(0,i._)("span",null,[rF,(0,i.Uk)((0,n.zw)(l.infoStaff.position),1)])]),(0,i._)("div",cF,[(0,i._)("span",null,[dF,(0,i.Uk)((0,n.zw)(l.infoStaff.department),1)])]),(0,i._)("div",hF,[(0,i._)("span",null,[pF,(0,i.Uk)((0,n.zw)(l.infoStaff.salary),1)])]),(0,i._)("div",uF,[(0,i._)("span",null,[mF,(0,i.Uk)((0,n.zw)(l.infoStaff.startDate),1)])])])])])])}var yF={data(){return{infoStaff:{}}},props:["idStaff"],emits:["closeDetail"],methods:{async getById(){const t=await QN.findById(this.idStaff);this.infoStaff={...t.data},this.infoStaff.dateOfBirth=mt.formatDateNoTime(this.infoStaff.dateOfBirth),this.infoStaff.startDate=mt.formatDateNoTime(this.infoStaff.startDate),this.infoStaff.salary=mt.formatCurrency(this.infoStaff.salary),console.log(this.infoStaff)},closeDetail(){this.$emit("closeDetail")}},mounted(){this.getById()}};const fF=(0,ft.Z)(yF,[["render",gF],["__scopeId","data-v-2b0619b2"]]);var vF=fF;function _F(t=[]){let e="";t.forEach(((t,s)=>{e+=`\n            <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px;  width: 100%; height: ca;">\n                <td  style="width: 3%;  border: 1px solid #111" >${s+1}</td>\n                <td style="width: 10%; border: 1px solid #111; overflow: hidden;">${t.fullName}</td>\n                <td style="width: 5%; border: 1px solid #111;">${t.gender}</td>\n                <td style="width: 12%; border: 1px solid #111;">${t.dateOfBirth}</td>\n                <td style="width: 6%; border: 1px solid #111;">${t.phone}</td>\n                <td style="width: 16.66667%; border: 1px solid #111;">${t.email}</td>\n                <td style="width: 16.66667%; border: 1px solid #111;">${t.address}</td>\n                <td style="width: 12%; border: 1px solid #111;">${t.position}</td>\n                <td style="width: 12%; border: 1px solid #111;">${t.department}</td>\n                <td style="width: 12%; border: 1px solid #111;">${mt.formatCurrency(t.salary)}</td>\n            </tr>\n        `}));const s=`\n        <div style="width: 100%; ">\n        <div>\n            <div style="width: 100%;">\n                <h4 style="text-align: center; font-size: 25px; margin: 0px;">Phiếu Thông tin nhân viên</h4>\n                <br>\n                <h4 style="text-align: center; font-size: 15px; margin: 0px;">Ngày tạo: ${mt.formatDate(new Date)}</h4>\n            </div>\n        </div>\n\n        <h4 style="text-align: center; font-size: 18px;">Bảng tất cả nhân viên</h4>\n        <table style=" border-spacing: 0px; border: 1px solid #111">\n            <thead style="background-color: #ccc; width:50px">\n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px; line-height: 50px; width: 100%;">\n                    <th style="width: 3%;border: 1px solid #111">STT</th>\n                    <th  style="width: 10%; border: 1px solid #111">Họ và tên</th>\n                    <th style="width: 5%; border: 1px solid #111;">Phái</th>\n                    <th style="width: 12%; border: 1px solid #111;">Ngày sinh</th>\n                    <th style="width: 6%; border: 1px solid #111;">Số điện thoại</th>\n                    <th style="width:16.66667%; border: 1px solid #111;">Email</th>\n                    <th style="width: 16.66667%; border: 1px solid #111;">Địa chỉ</th>\n                    <th style="width: 16.6667%; border: 1px solid #111;">Chức vụ</th>\n                    <th style="width: 12%; border: 1px solid #111;">Phòng Ban</th>\n                    <th style="width: 12%; border: 1px solid #111;">Lương</th>\n                </tr>\n            </thead>\n            <tbody style="width: 100%;">\n                ${e}\n            </tbody>\n        </table>\n        <div style="margin-top: 20px; font-size: 20px; display: flex; justify-content: flex-end; width: 100%;">\n            <strong>Tổng số nhân viên: </strong><span style="margin-left: 10px;">${t.length}</span>\n        </div>\n            \n    `;return s}var wF=_F,bF={components:{adminFormEditStaff:Rz,adminStaffDetailVue:vF},data(){return{activeStaff:!1,activeStaffEdit:!1,activeStaffDetail:!1,infoStaff:{gender:"",account:""},mesFaild:"",mesSuccess:"",valid:{},staffs:[],pageNumber:1,pageSize:8,lengthPage:1,activePage:1,dateFilter:{day:"0",month:"0",year:"0",field:""},years:[],isSort:!1,idTimeOut:null,filterInput:"",idStaff:""}},methods:{handleImage(t){this.infoStaff.avatar=t.target.files[0]||""},closeForm(){this.activeStaff=!1,this.infoStaff={gender:""},this.mesFaild="",this.mesSuccess=""},handlePage(t){this.activePage=t,this.pageNumber=t,this.getAll(),this.isSort=!1},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getAll())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAll())},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},async filterDate(){this.isSort=!0;const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await QN.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.staffs=[...i.data],this.staffs.map((t=>{t.dateOfBirth=mt.formatDateNoTime(t.dateOfBirth),t.startDate=mt.formatDateNoTime(t.startDate)}))},handleFitter(t){null==this.idTimeOut&&(this.isSort=!1),clearTimeout(this.idTimeOut),this.getAll(),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){if(""!=this.filterInput){this.isSort=!0;const e=new RegExp(this.filterInput.trim(),"i"),s=this.staffs.filter((s=>e.test(s[t])));this.staffs=s}else this.isSort=!1,this.getAll()},async sort(t,e){this.type=t,this.field=e,this.isSort=!0,"fullName"===e||"position"===e||"derpartment"===e?this.staffs.sort(((s,a)=>1==t?s[e].localeCompare(a[e]):-1==t?a[e].localeCompare(s[e]):void 0)):(await this.getAll(),this.staffs=this.staffs.filter((e=>e.gender==t)))},offSort(){this.isSort=!1,this.getAll(),this.filterInput=""},validateForm(t){const e=new Date,s=new Date(t.dateOfBirth),a=e.getFullYear()-s.getFullYear(),i=/^[0-9]+$/,n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;this.valid.dateOfBirth=a<=18?"Chưa đủ 18 tuổi":void 0,!i.test(t.phone)||!t.phone.length>10?this.valid.phone="Số điện thoại không hợp lệ":this.valid.phone=void 0,t.salary<0?this.valid.salary="Không được là số âm":this.valid.salary=void 0,n.test(t.email)?this.valid.email=void 0:this.valid.email="Email không hợp lệ";let l=!1;const o=Object.values(this.valid);for(let r=0;r<o.length;r++){if(void 0!==o[r]){l=!1;break}l=!0}return l},async addStaff(){try{const t=this.validateForm(this.infoStaff);if(t){const t=await QN.create(this.infoStaff);t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild=!1,this.infoStaff={gender:"",account:""},this.getAll()):(this.mesFaild=t.data.mes,this.mesSuccess=!1)}}catch(t){console.log(t)}},editStaff(t){this.activeStaffEdit=!0,this.idStaff=t},detailStaff(t){this.activeStaffDetail=!0,this.idStaff=t},async getAll(){try{const t=await QN.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await QN.getAll(this.pageNumber,this.pageSize);this.staffs=[...e.data],this.staffs.map((t=>{t.dateOfBirth=mt.formatDateNoTime(t.dateOfBirth),t.startDate=mt.formatDateNoTime(t.startDate)}))}catch(t){console.log(t)}},exportToExcel(){const t=[];this.staffs.map((e=>{t.push({"Họ và Tên":e.fullName,"Ngày sinh":e.dateOfBirth,"Số điện thoại":e.phone,"Giới tính":e.gender,email:e.email,"Địa chỉ":e.address,"Chức vụ":e.position,"Phòng ban":e.department,"Ngày bắt đầu":e.startDate,"Lương":mt.formatCurrency(e.salary)})})),console.log(t),Gw(t,"NhanVien")},async exportToPDF(){const t=wF(this.staffs),e=await I.exportPDF({data:t}),s=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.target="_blank",i.setAttribute("download","Nhanvien.pdf"),document.body.appendChild(i),i.click()}},mounted(){this.getAll(),this.getYears()}};const kF=(0,ft.Z)(bF,[["render",ZN],["__scopeId","data-v-3f0d203a"]]);var CF=kF;const xF=t=>((0,i.dD)("data-v-ac67ae72"),t=t(),(0,i.Cn)(),t),SF={class:"admin-accessory"},DF=xF((()=>(0,i._)("h3",null,"Bảng phụ kiện",-1))),TF={class:"d-flex justify-content-between align-items-center my-3"},PF={class:"input-admin-filter"},IF=xF((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),AF=["value"],UF=xF((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),qF=["value"],NF=xF((()=>(0,i._)("option",{value:"0"},"Năm",-1))),zF=["value"],FF=xF((()=>(0,i._)("option",{value:""},"Chọn kiểu",-1))),OF=xF((()=>(0,i._)("option",{value:"0"},"Tất cả",-1))),MF=xF((()=>(0,i._)("option",{value:"createdAt"},"Ngày tạo",-1))),VF=xF((()=>(0,i._)("option",{value:"updatedAt"},"Ngày sửa",-1))),EF=[FF,OF,MF,VF],$F=xF((()=>(0,i._)("button",null,"Lọc",-1))),BF={class:"admin-export"},RF=xF((()=>(0,i._)("i",{class:"fa-solid fa-chart-line"},null,-1))),HF=xF((()=>(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1))),YF=xF((()=>(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1))),KF={class:"w-100"},LF={class:"row gx-0"},ZF=xF((()=>(0,i._)("th",{class:"col-1 text-center"},"STT",-1))),jF={class:"col-2"},QF={class:"admin-table-title"},GF=xF((()=>(0,i._)("p",null,"Tên phụ kiện",-1))),WF={class:"admin-sort"},JF=xF((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),XF={class:"admin-sort-list"},tO={class:"filter-admin-input"},eO={class:"col"},sO={class:"admin-table-title"},aO=xF((()=>(0,i._)("p",null,"Giá nhập",-1))),iO={class:"admin-sort"},nO=xF((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),lO={class:"admin-sort-list"},oO={class:"filter-admin-input"},rO={class:"col"},cO={class:"admin-table-title"},dO=xF((()=>(0,i._)("p",null,"Số lượng nhập",-1))),hO={class:"admin-sort"},pO=xF((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),uO={class:"admin-sort-list"},mO={class:"filter-admin-input"},gO={class:"col"},yO={class:"admin-table-title"},fO=xF((()=>(0,i._)("p",null,"Giá bán",-1))),vO={class:"admin-sort"},_O=xF((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),wO={class:"admin-sort-list"},bO={class:"filter-admin-input"},kO={class:"col"},CO={class:"admin-table-title"},xO=xF((()=>(0,i._)("p",null,"Số lượng bán",-1))),SO={class:"admin-sort"},DO=xF((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),TO={class:"admin-sort-list"},PO={class:"filter-admin-input"},IO=xF((()=>(0,i._)("th",{class:"col"},"Lịch sử",-1))),AO=xF((()=>(0,i._)("th",{class:"col text-center"},"Hành động",-1))),UO={class:"col-1 text-center"},qO={class:"col-2"},NO=["title"],zO={class:"col"},FO={class:"col"},OO={class:"col"},MO={class:"col"},VO={class:"col"},EO={class:"d-block h-50 w-100"},$O={class:"d-block h-50 w-100"},BO={class:"col"},RO=["onClick"],HO=xF((()=>(0,i._)("i",{class:"fa-solid fa-pen-to-square"},null,-1))),YO=[HO],KO=["onClick"],LO=xF((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1))),ZO=[LO],jO={class:"product-pagination mt-5"},QO={class:"pagination"},GO=xF((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),WO=[GO],JO=xF((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),XO=["onClick"],tM=xF((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),eM=xF((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),sM=[eM],aM={key:0,class:"overlay"},iM={class:"d-flex justify-content-end"},nM=xF((()=>(0,i._)("h3",{class:"mb-3"},"Thêm phụ kiện",-1))),lM={class:"row"},oM={class:"col-lg-4"},rM={class:"spe-group"},cM=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên phụ kiện"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),dM={class:"col-lg-4"},hM={class:"spe-group"},pM=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Ảnh phụ kiện"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),uM={class:"col-lg-4"},mM={class:"spe-group"},gM=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Giá bán"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),yM={class:"group d-flex col-lg-4"},fM={class:"d-flex mb-1"},vM=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Loại phụ kiện "),(0,i._)("span",{class:"required"},"*")],-1))),_M={class:"brand"},wM={key:0,class:"overlay"},bM=xF((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),kM=[bM],CM={class:"form-head me-5 ms-3"},xM=xF((()=>(0,i._)("h2",{class:"title"},"Thêm loại phụ kiện",-1))),SM={key:0,class:"mes-success"},DM={key:1,class:"mes-failed"},TM={key:2,class:"lds-dual-ring"},PM={class:"spe-group me-3"},IM=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên loại "),(0,i._)("span",{class:"required"},"*")],-1))),AM=xF((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1))),UM=xF((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn loại ---",-1))),qM=["value"],NM={class:"group d-flex col-lg-5"},zM={class:"d-flex mb-1"},FM=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Thương hiệu sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1))),OM={class:"brand"},MM={key:0,class:"overlay"},VM=xF((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),EM=[VM],$M={class:"form-head me-5 ms-3"},BM=xF((()=>(0,i._)("h2",{class:"title"},"Thêm thương hiệu",-1))),RM={key:0,class:"mes-success"},HM={key:1,class:"mes-failed"},YM={key:2,class:"lds-dual-ring"},KM={class:"spe-group me-3"},LM=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Ảnh thương hiệu "),(0,i._)("span",{class:"required"},"*")],-1))),ZM={class:"spe-group me-3"},jM=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên thương hiệu "),(0,i._)("span",{class:"required"},"*")],-1))),QM=xF((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1))),GM=xF((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn thương hiệu ---",-1))),WM=["value"],JM={class:"row"},XM={class:"col-lg-6"},tV={class:"fits-group"},eV=xF((()=>(0,i._)("h2",{for:""},[(0,i.Uk)("Phù hợp với các sản phẩm"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),sV={class:"fits"},aV={key:0},iV=["checked"],nV=xF((()=>(0,i._)("label",{for:""},"Chọn tất cả",-1))),lV=["onChange","value","id"],oV=["for"],rV={class:"col-lg-12"},cV={class:"spe-group"},dV=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Mô tả"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),hV=xF((()=>(0,i._)("div",null,[(0,i._)("button",{class:"mt-3 btn btn-success"},"Thêm phụ kiện")],-1))),pV={key:1,class:"overlay"},uV={class:"d-flex justify-content-end"},mV=xF((()=>(0,i._)("h3",{class:"mb-3"},"Sửa phụ kiện",-1))),gV={class:"avatar"},yV=["src"],fV=["src"],vV=xF((()=>(0,i._)("label",{for:"avatar"},[(0,i._)("i",{class:"fa-solid fa-file-pen"})],-1))),_V={class:"row"},wV={class:"col-lg-6"},bV={class:"spe-group"},kV=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên phụ kiện"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),CV={class:"col-lg-6"},xV={class:"spe-group"},SV=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Giá bán"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),DV={class:"group d-flex col-lg-4"},TV={class:"d-flex mb-1"},PV=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Loại phụ kiện "),(0,i._)("span",{class:"required"},"*")],-1))),IV={class:"brand"},AV={key:0,class:"overlay"},UV=xF((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),qV=[UV],NV={class:"form-head me-5 ms-3"},zV=xF((()=>(0,i._)("h2",{class:"title"},"Thêm loại phụ kiện",-1))),FV={key:0,class:"mes-success"},OV={key:1,class:"mes-failed"},MV={key:2,class:"lds-dual-ring"},VV={class:"spe-group me-3"},EV=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên loại "),(0,i._)("span",{class:"required"},"*")],-1))),$V=xF((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1))),BV=xF((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn loại ---",-1))),RV=["value"],HV={class:"group d-flex col-lg-5"},YV={class:"d-flex mb-1"},KV=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Thương hiệu sản phẩm "),(0,i._)("span",{class:"required"},"*")],-1))),LV={class:"brand"},ZV={key:0,class:"overlay"},jV=xF((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),QV=[jV],GV={class:"form-head me-5 ms-3"},WV=xF((()=>(0,i._)("h2",{class:"title"},"Thêm thương hiệu",-1))),JV={key:0,class:"mes-success"},XV={key:1,class:"mes-failed"},tE={key:2,class:"lds-dual-ring"},eE={class:"spe-group me-3"},sE=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Ảnh thương hiệu "),(0,i._)("span",{class:"required"},"*")],-1))),aE={class:"spe-group me-3"},iE=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên thương hiệu "),(0,i._)("span",{class:"required"},"*")],-1))),nE=xF((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit"},"Thêm")],-1))),lE=xF((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn thương hiệu ---",-1))),oE=["value"],rE={class:"col-lg-6"},cE={class:"fits-group"},dE=xF((()=>(0,i._)("h2",{for:""},[(0,i.Uk)("Phù hợp với các sản phẩm"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),hE={key:0,class:"fits"},pE={key:0},uE=["checked"],mE=xF((()=>(0,i._)("label",{for:""},"Chọn tất cả",-1))),gE=["onChange","checked","value","id"],yE=["for"],fE={class:"col-lg-12"},vE={class:"spe-group"},_E=xF((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Mô tả"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),wE=xF((()=>(0,i._)("div",null,[(0,i._)("button",{class:"mt-3 btn btn-success"},"Sửa phụ kiện")],-1))),bE=xF((()=>(0,i._)("h3",null,"Biểu đồ thống kê",-1))),kE={class:"chart-container"};function CE(t,e,s,a,l,o){const r=(0,i.up)("admin-accessory-detail"),c=(0,i.up)("admin-chart");return(0,i.wg)(),(0,i.iD)("div",SF,[DF,(0,i._)("div",TF,[(0,i._)("span",{class:"btn btn-info",onClick:e[0]||(e[0]=(...t)=>o.openFormAdd&&o.openFormAdd(...t))},"Thêm Phụ kiện"),(0,i._)("div",PF,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[5]||(e[5]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.day=t),required:""},[IF,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,AF))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.month=t),required:""},[UF,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,qF))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.year=t),required:""},[NF,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,zF)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[4]||(e[4]=t=>l.dateFilter.field=t),required:""},EF,512),[[A.bM,l.dateFilter.field]]),$F],32),(0,i._)("div",BF,[(0,i._)("div",{class:"btn btn-danger",onClick:e[6]||(e[6]=(...t)=>o.chart&&o.chart(...t))},[RF,(0,i.Uk)(" Chart ")]),(0,i._)("div",{class:"btn btn-success",onClick:e[7]||(e[7]=(...t)=>o.exportToExcel&&o.exportToExcel(...t))},[HF,(0,i.Uk)(" Excel ")]),(0,i._)("div",{class:"btn btn-warning",onClick:e[8]||(e[8]=(...t)=>o.exportToPDF&&o.exportToPDF(...t))},[YF,(0,i.Uk)(" Pdf")])])])]),(0,i._)("div",{class:(0,n.C_)(["isSort",{"isSort-active":l.isSort}])},[(0,i._)("span",{onClick:e[9]||(e[9]=(...t)=>o.offSort&&o.offSort(...t))},"Đang lọc")],2),(0,i._)("table",KF,[(0,i._)("thead",null,[(0,i._)("tr",LF,[ZF,(0,i._)("th",jF,[(0,i._)("div",QF,[GF,(0,i._)("div",WF,[JF,(0,i._)("ul",XF,[(0,i._)("li",{onClick:e[10]||(e[10]=t=>o.sort(1,"name"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[11]||(e[11]=t=>o.sort(-1,"name"))},"Từ Z về A"),(0,i._)("div",tO,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[12]||(e[12]=t=>l.filterInput=t),onInput:e[13]||(e[13]=t=>o.handleFitter("name"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",eO,[(0,i._)("div",sO,[aO,(0,i._)("div",iO,[nO,(0,i._)("ul",lO,[(0,i._)("li",{onClick:e[14]||(e[14]=t=>o.sort(1,"priceImport"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[15]||(e[15]=t=>o.sort(-1,"priceImport"))},"Từ lớn đến nhỏ"),(0,i._)("li",{onClick:e[16]||(e[16]=t=>o.sort(0,"priceImport"))},"Bằng 0"),(0,i._)("div",oO,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[17]||(e[17]=t=>l.filterInput=t),onInput:e[18]||(e[18]=t=>o.handleFitter("priceImport"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",rO,[(0,i._)("div",cO,[dO,(0,i._)("div",hO,[pO,(0,i._)("ul",uO,[(0,i._)("li",{onClick:e[19]||(e[19]=t=>o.sort(1,"inputQuantity"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[20]||(e[20]=t=>o.sort(-1,"inputQuantity"))},"Từ lớn đến nhỏ"),(0,i._)("li",{onClick:e[21]||(e[21]=t=>o.sort(0,"inputQuantity"))},"Bằng 0"),(0,i._)("div",mO,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[22]||(e[22]=t=>l.filterInput=t),onInput:e[23]||(e[23]=t=>o.handleFitter("inputQuantity"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",gO,[(0,i._)("div",yO,[fO,(0,i._)("div",vO,[_O,(0,i._)("ul",wO,[(0,i._)("li",{onClick:e[24]||(e[24]=t=>o.sort(1,"priceSale"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[25]||(e[25]=t=>o.sort(-1,"priceSale"))},"Từ lớn đến nhỏ"),(0,i._)("div",bO,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[26]||(e[26]=t=>l.filterInput=t),onInput:e[27]||(e[27]=t=>o.handleFitter("priceSale"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",kO,[(0,i._)("div",CO,[xO,(0,i._)("div",SO,[DO,(0,i._)("ul",TO,[(0,i._)("li",{onClick:e[28]||(e[28]=t=>o.sort(1,"soldQuantity"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[29]||(e[29]=t=>o.sort(-1,"soldQuantity"))},"Từ lớn đến nhỏ"),(0,i._)("li",{onClick:e[30]||(e[30]=t=>o.sort(0,"soldQuantity"))},"Bằng 0"),(0,i._)("div",PO,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[31]||(e[31]=t=>l.filterInput=t),onInput:e[32]||(e[32]=t=>o.handleFitter("soldQuantity"))},null,544),[[A.nr,l.filterInput]])])])])])]),IO,AO])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.accessorys,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row gx-0",key:t._id},[(0,i._)("td",UO,(0,n.zw)(e+1),1),(0,i._)("td",qO,[(0,i._)("span",{class:"truncate-text",title:t.name},(0,n.zw)(t.name),9,NO)]),(0,i._)("td",zO,(0,n.zw)(o.fomatCurency(t.priceImport)),1),(0,i._)("td",FO,(0,n.zw)(t.inputQuantity),1),(0,i._)("td",OO,(0,n.zw)(o.fomatCurency(t.priceSale)),1),(0,i._)("td",MO,(0,n.zw)(t.soldQuantity),1),(0,i._)("td",VO,[(0,i._)("span",EO,"Tạo:"+(0,n.zw)(o.fomatDate(t.createdAt)),1),(0,i._)("span",$O,"Sửa:"+(0,n.zw)(o.fomatDate(t.updatedAt)),1)]),(0,i._)("td",BO,[(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-outline-warning mx-3",onClick:e=>o.openEditAcc(t._id)},YO,8,RO),(0,i._)("button",{class:"btn btn-outline-info",onClick:e=>o.openDetail(t._id)},ZO,8,KO)])])])))),128))])]),(0,i._)("div",jO,[(0,i._)("ul",QO,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[33]||(e[33]=(...t)=>o.previousPage&&o.previousPage(...t))},WO)]),JO,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,XO)])))),128)),tM,(0,i._)("li",null,[(0,i._)("span",{onClick:e[34]||(e[34]=(...t)=>o.nextPage&&o.nextPage(...t))},sM)])])]),l.acctiveAccessory?((0,i.wg)(),(0,i.iD)("div",aM,[(0,i._)("form",{action:"",class:"form-add-accessory",onSubmit:e[52]||(e[52]=(0,A.iM)(((...t)=>o.addAccessory&&o.addAccessory(...t)),["prevent","stop"]))},[(0,i._)("div",iM,[(0,i._)("i",{class:"fa-solid fa-xmark text-danger fs-1",onClick:e[35]||(e[35]=t=>l.acctiveAccessory=!1)})]),nM,(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":l.mesFaild,"text-success":l.mesSuccess}])},(0,n.zw)(l.mesSuccess||l.mesFaild),3),(0,i._)("div",lM,[(0,i._)("div",oM,[(0,i._)("div",rM,[cM,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[36]||(e[36]=t=>l.infoAccessory.name=t),required:"",type:"text",placeholder:"Nhập tên phụ kiện"},null,512),[[A.nr,l.infoAccessory.name]])])]),(0,i._)("div",dM,[(0,i._)("div",hM,[pM,(0,i._)("input",{class:"entry-file-input",required:"",ref:"inputImg",onChange:e[37]||(e[37]=(...t)=>o.handleImage&&o.handleImage(...t)),type:"file"},null,544)])]),(0,i._)("div",uM,[(0,i._)("div",mM,[gM,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[38]||(e[38]=t=>l.infoAccessory.priceSale=t),required:"",type:"Number",placeholder:"Nhập Giá bán"},null,512),[[A.nr,l.infoAccessory.priceSale]]),l.valid.priceSale?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.priceSale})},(0,n.zw)(l.valid.priceSale),3)):(0,i.kq)("",!0)])]),(0,i._)("div",yM,[(0,i._)("div",fM,[vM,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[39]||(e[39]=t=>l.activeFormType=!0)},"Mới")]),(0,i._)("div",_M,[l.activeFormType?((0,i.wg)(),(0,i.iD)("div",wM,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[42]||(e[42]=(0,A.iM)(((...t)=>o.addType&&o.addType(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[40]||(e[40]=(...t)=>o.closeFormType&&o.closeFormType(...t))},kM),(0,i._)("div",CM,[xM,l.mesSuccessType?((0,i.wg)(),(0,i.iD)("span",SM,(0,n.zw)(l.mesSuccessType),1)):(0,i.kq)("",!0),l.mesFaildType?((0,i.wg)(),(0,i.iD)("span",DM,(0,n.zw)(l.mesFaildType),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",TM)):(0,i.kq)("",!0)]),(0,i._)("div",PM,[IM,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[41]||(e[41]=t=>l.infoType.name=t),type:"text",required:"",placeholder:"Nhập tên thương hiệu"},null,512),[[A.nr,l.infoType.name]])]),AM],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[43]||(e[43]=t=>l.infoAccessory.typeId=t)},[UM,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.types,((t,e)=>((0,i.wg)(),(0,i.iD)("option",{key:e,class:"form-option",value:t._id},(0,n.zw)(t.name),9,qM)))),128))],512),[[A.bM,l.infoAccessory.typeId]])]),(0,i._)("div",NM,[(0,i._)("div",zM,[FM,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[44]||(e[44]=t=>l.activeFormbrand=!0)},"Mới")]),(0,i._)("div",OM,[l.activeFormbrand?((0,i.wg)(),(0,i.iD)("div",MM,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[48]||(e[48]=(0,A.iM)(((...t)=>o.addBrand&&o.addBrand(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[45]||(e[45]=(...t)=>o.closeFormBrand&&o.closeFormBrand(...t))},EM),(0,i._)("div",$M,[BM,l.mesSuccessType?((0,i.wg)(),(0,i.iD)("span",RM,(0,n.zw)(l.mesSuccessType),1)):(0,i.kq)("",!0),l.mesFaildType?((0,i.wg)(),(0,i.iD)("span",HM,(0,n.zw)(l.mesFaildType),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",YM)):(0,i.kq)("",!0)]),(0,i._)("div",KM,[LM,(0,i._)("input",{class:"pt-1",onChange:e[46]||(e[46]=(...t)=>o.handleBrand&&o.handleBrand(...t)),ref:"fileBrand",type:"file"},null,544)]),(0,i._)("div",ZM,[jM,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[47]||(e[47]=t=>l.infoBrand.name=t),type:"text",required:"",placeholder:"Nhập tên thương hiệu"},null,512),[[A.nr,l.infoBrand.name]])]),QM],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[49]||(e[49]=t=>l.infoAccessory.brandId=t)},[GM,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.brands,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t._id,class:"form-option",value:t._id},(0,n.zw)(t.name),9,WM)))),128))],512),[[A.bM,l.infoAccessory.brandId]])]),(0,i._)("div",JM,[(0,i._)("div",XM,[(0,i._)("div",tV,[eV,(0,i._)("ul",sV,[l.products.length>0?((0,i.wg)(),(0,i.iD)("li",aV,[(0,i._)("input",{checked:l.infoAccessory.fits.length==l.products.length,type:"checkbox",onChange:e[50]||(e[50]=(...t)=>o.checkAll&&o.checkAll(...t))},null,40,iV),nV])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.products,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t._id},[(0,i._)("input",{onChange:e=>o.handleCheckBox(e,t._id),ref_for:!0,ref:"checboxProduct",type:"checkbox",value:t._id,id:t._id},null,40,lV),(0,i._)("label",{for:t._id},(0,n.zw)(t.name),9,oV)])))),128))])])])]),(0,i._)("div",rV,[(0,i._)("div",cV,[dV,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[51]||(e[51]=t=>l.infoAccessory.description=t),required:"",placeholder:"Mô tả về phụ kiện",class:"col-lg-12 form-description",name:"",id:"",cols:"30",rows:"4"},null,512),[[A.nr,l.infoAccessory.description]])])])]),hV],32)])):(0,i.kq)("",!0),l.acctiveAccessoryEdit?((0,i.wg)(),(0,i.iD)("div",pV,[(0,i._)("form",{action:"",class:"form-add-accessory",onSubmit:e[70]||(e[70]=(0,A.iM)(((...t)=>o.editAccessory&&o.editAccessory(...t)),["prevent","stop"]))},[(0,i._)("div",uV,[(0,i._)("i",{class:"fa-solid fa-xmark text-danger fs-1",onClick:e[53]||(e[53]=t=>l.acctiveAccessoryEdit=!1)})]),mV,(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":!!l.mesFaild,"text-success":!!l.mesSuccess}])},(0,n.zw)(l.mesSuccess||l.mesFaild),3),(0,i._)("div",gV,[(0,i._)("span",null,[l.imgSrc?((0,i.wg)(),(0,i.iD)("img",{key:1,src:l.imgSrc,alt:""},null,8,fV)):((0,i.wg)(),(0,i.iD)("img",{key:0,src:"http://localhost:3000"+l.accessory.image,alt:""},null,8,yV)),vV,(0,i._)("input",{type:"file",class:"d-none",id:"avatar",onChange:e[54]||(e[54]=(...t)=>o.handleImageEdit&&o.handleImageEdit(...t))},null,32)])]),(0,i._)("div",_V,[(0,i._)("div",wV,[(0,i._)("div",bV,[kV,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[55]||(e[55]=t=>l.accessory.name=t),required:"",type:"text",placeholder:"Nhập tên phụ kiện"},null,512),[[A.nr,l.accessory.name]])])]),(0,i._)("div",CV,[(0,i._)("div",xV,[SV,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[56]||(e[56]=t=>l.accessory.priceSale=t),required:"",type:"Number",placeholder:"Nhập Giá bán"},null,512),[[A.nr,l.accessory.priceSale]]),l.valid.priceSale?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.priceSale})},(0,n.zw)(l.valid.priceSale),3)):(0,i.kq)("",!0)])]),(0,i._)("div",DV,[(0,i._)("div",TV,[PV,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[57]||(e[57]=t=>l.activeFormType=!0)},"Mới")]),(0,i._)("div",IV,[l.activeFormType?((0,i.wg)(),(0,i.iD)("div",AV,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[60]||(e[60]=(0,A.iM)(((...t)=>o.addType&&o.addType(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[58]||(e[58]=(...t)=>o.closeFormType&&o.closeFormType(...t))},qV),(0,i._)("div",NV,[zV,l.mesSuccessType?((0,i.wg)(),(0,i.iD)("span",FV,(0,n.zw)(l.mesSuccessType),1)):(0,i.kq)("",!0),l.mesFaildType?((0,i.wg)(),(0,i.iD)("span",OV,(0,n.zw)(l.mesFaildType),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",MV)):(0,i.kq)("",!0)]),(0,i._)("div",VV,[EV,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[59]||(e[59]=t=>l.infoType.name=t),type:"text",required:"",placeholder:"Nhập tên thương hiệu"},null,512),[[A.nr,l.infoType.name]])]),$V],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[61]||(e[61]=t=>l.accessory.typeId=t)},[BV,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.types,((t,e)=>((0,i.wg)(),(0,i.iD)("option",{key:e,class:"form-option",value:t._id},(0,n.zw)(t.name),9,RV)))),128))],512),[[A.bM,l.accessory.typeId]])]),(0,i._)("div",HV,[(0,i._)("div",YV,[KV,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[62]||(e[62]=t=>l.activeFormbrand=!0)},"Mới")]),(0,i._)("div",LV,[l.activeFormbrand?((0,i.wg)(),(0,i.iD)("div",ZV,[(0,i._)("form",{action:"",class:"brand-form",onSubmit:e[66]||(e[66]=(0,A.iM)(((...t)=>o.addBrand&&o.addBrand(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form",onClick:e[63]||(e[63]=(...t)=>o.closeFormBrand&&o.closeFormBrand(...t))},QV),(0,i._)("div",GV,[WV,l.mesSuccessType?((0,i.wg)(),(0,i.iD)("span",JV,(0,n.zw)(l.mesSuccessType),1)):(0,i.kq)("",!0),l.mesFaildType?((0,i.wg)(),(0,i.iD)("span",XV,(0,n.zw)(l.mesFaildType),1)):(0,i.kq)("",!0),l.loading?((0,i.wg)(),(0,i.iD)("div",tE)):(0,i.kq)("",!0)]),(0,i._)("div",eE,[sE,(0,i._)("input",{class:"pt-1",onChange:e[64]||(e[64]=(...t)=>o.handleBrand&&o.handleBrand(...t)),ref:"fileBrand",type:"file"},null,544)]),(0,i._)("div",aE,[iE,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[65]||(e[65]=t=>l.infoBrand.name=t),type:"text",required:"",placeholder:"Nhập tên thương hiệu"},null,512),[[A.nr,l.infoBrand.name]])]),nE],32)])):(0,i.kq)("",!0)]),(0,i.wy)((0,i._)("select",{name:"",id:"",class:"form-select","onUpdate:modelValue":e[67]||(e[67]=t=>l.accessory.brandId=t)},[lE,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.brands,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t._id,class:"form-option",value:t._id},(0,n.zw)(t.name),9,oE)))),128))],512),[[A.bM,l.accessory.brandId]])]),(0,i._)("div",rE,[(0,i._)("div",cE,[dE,l.accessory.fits?((0,i.wg)(),(0,i.iD)("ul",hE,[l.products.length>0?((0,i.wg)(),(0,i.iD)("li",pE,[(0,i._)("input",{checked:l.accessory.fits.length==l.products.length,type:"checkbox",onChange:e[68]||(e[68]=(...t)=>o.checkAllEdit&&o.checkAllEdit(...t))},null,40,uE),mE])):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.products,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t._id},[(0,i._)("input",{onChange:e=>o.handleCheckBoxEdit(e,t._id),checked:l.accessory.fits.some((e=>e.product==t._id)),type:"checkbox",value:t._id,id:t._id,ref_for:!0,ref:"checboxProduct"},null,40,gE),(0,i._)("label",{for:t._id},(0,n.zw)(t.name),9,yE)])))),128))])):(0,i.kq)("",!0)])]),(0,i._)("div",fE,[(0,i._)("div",vE,[_E,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[69]||(e[69]=t=>l.accessory.description=t),required:"",placeholder:"Mô tả về phụ kiện",class:"col-lg-12 form-description",name:"",id:"",cols:"30",rows:"4"},null,512),[[A.nr,l.accessory.description]])])])]),wE],32)])):(0,i.kq)("",!0),l.activeDetail?((0,i.wg)(),(0,i.j4)(r,{key:2,idAcc:l.id,onCloseDetail:e[71]||(e[71]=t=>l.activeDetail=!1)},null,8,["idAcc"])):(0,i.kq)("",!0),l.activeChart?((0,i.wg)(),(0,i.iD)("div",{key:3,class:"overlay",onClick:e[73]||(e[73]=(...t)=>o.closeChart&&o.closeChart(...t))},[(0,i._)("div",{class:"chart2",onClick:e[72]||(e[72]=(0,A.iM)((()=>{}),["stop"]))},[bE,(0,i._)("div",kE,[l.activeChart?((0,i.wg)(),(0,i.j4)(c,{key:0,class:"chart-size",data:l.data,"dynamic-labels":l.label,"chart-type":"bar",year:(new Date).getFullYear(),month:(new Date).getMonth()+1,typeStatistical:"month",color:"#F55050",name:"Số lượng bán và tồn kho",data2:l.data2,label1:"Số lượng bán",label2:"Số lượng tồn kho"},null,8,["data","dynamic-labels","year","month","data2"])):(0,i.kq)("",!0)])])])):(0,i.kq)("",!0)])}const xE=t=>((0,i.dD)("data-v-88a62bd8"),t=t(),(0,i.Cn)(),t),SE={class:"overlay"},DE={class:"admin-card-acc"},TE={class:"card-image"},PE=xE((()=>(0,i._)("div",{class:"card-image-head"},[(0,i._)("span",{class:"card-info-title"},"Ảnh phụ kiện")],-1))),IE=["src"],AE={class:"card-info"},UE={class:"row"},qE={class:"col-lg-4"},NE=xE((()=>(0,i._)("span",{class:"card-info-title"},"Thông tin phụ kiện",-1))),zE={class:"card-info-price"},FE={class:"col-lg-8"},OE=xE((()=>(0,i._)("span",{class:"card-info-title"},"Phù hợp với các sản phẩm",-1))),ME={class:"card-info-price info-acc"},VE={key:0},EE={class:"text-black"},$E={class:"col-lg-12"},BE=xE((()=>(0,i._)("span",{class:"card-info-title mt-3"},"Mô tả ",-1))),RE={class:"card-info-description"};function HE(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",SE,[(0,i._)("div",DE,[(0,i._)("i",{class:"fa-solid fa-xmark card-close",onClick:e[0]||(e[0]=(...t)=>o.closeProductDetail&&o.closeProductDetail(...t))}),(0,i._)("div",TE,[PE,(0,i._)("img",{src:"http://localhost:3000/"+l.accessory.image,alt:""},null,8,IE)]),(0,i._)("div",AE,[(0,i._)("h3",null,(0,n.zw)(l.accessory.name),1),(0,i._)("div",UE,[(0,i._)("div",qE,[NE,(0,i._)("div",zE,[(0,i._)("p",null,[(0,i.Uk)("Giá nhập: "),(0,i._)("span",null,(0,n.zw)(l.accessory.priceImport),1)]),(0,i._)("p",null,[(0,i.Uk)("Số lượng nhập: "),(0,i._)("span",null,(0,n.zw)(l.accessory.inputQuantity),1)]),(0,i._)("p",null,[(0,i.Uk)("Giá bán: "),(0,i._)("span",null,(0,n.zw)(l.accessory.priceSale),1)]),(0,i._)("p",null,[(0,i.Uk)("Số lượng bán: "),(0,i._)("span",null,(0,n.zw)(l.accessory.soldQuantity),1)]),(0,i._)("p",null,[(0,i.Uk)("Loại: "),(0,i._)("span",null,(0,n.zw)(l.accessory.idType?.name),1)]),(0,i._)("p",null,[(0,i.Uk)("Hãng sản xuất: "),(0,i._)("span",null,(0,n.zw)(l.accessory.idBrand?.name),1)]),(0,i._)("p",null,[(0,i.Uk)("Ngày sửa: "),(0,i._)("span",null,(0,n.zw)(l.accessory.updatedAt),1)]),(0,i._)("p",null,[(0,i.Uk)("Ngày sửa: "),(0,i._)("span",null,(0,n.zw)(l.accessory.updatedAt),1)])])]),(0,i._)("div",FE,[OE,(0,i._)("div",ME,[l.accessory.fits?.length<=0?((0,i.wg)(),(0,i.iD)("span",VE,"Đang đề cập")):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.accessory.fits,((t,e)=>((0,i.wg)(),(0,i.iD)("span",{class:"text-left mb-2",key:t._id},[(0,i._)("b",EE,"Tên sản phẩm "+(0,n.zw)(e+1),1),(0,i.Uk)(": "),(0,i._)("span",null,(0,n.zw)(t.product.name),1)])))),128))])]),(0,i._)("div",$E,[BE,(0,i._)("div",RE,(0,n.zw)(l.accessory.description),1)])])])])])}var YE={data(){return{accessory:{}}},watch:{activeProductDetail(){this.getProductDetail(),this.getSpeByIdProduct()}},props:{idAcc:String},emits:["closeDetail"],methods:{closeProductDetail(){this.$emit("closeDetail")},async getAccessoryDetail(){try{const t=await _i.getById(this.idAcc);this.accessory={...t.data},console.log(this.accessory.fits),this.accessory.createdAt=mt.formatDate(this.accessory.createdAt),this.accessory.updatedAt=mt.formatDate(this.accessory.updatedAt)}catch(t){console.log(t)}}},mounted(){this.getAccessoryDetail()}};const KE=(0,ft.Z)(YE,[["render",HE],["__scopeId","data-v-88a62bd8"]]);var LE=KE;function ZE(t=[]){let e="";t.forEach(((t,s)=>{e+=` \n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #666; height: 50px;  width: 100%;">\n                    <td  style="width: 4%;  border: 1px solid #666" >${s+1}</td>\n                    <td style="width: 16.6667%; border: 1px solid #666;">${t.name}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${t.inputQuantity}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${mt.formatCurrency(t.priceImport)}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${t.soldQuantity}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${mt.formatCurrency(t.priceSale)}</td>\n                    <td style="width: 12%; border: 1px solid #666;">${mt.formatDateNoTime(t.createdAt)}</td>\n                </tr>\n            `}));const s=`\n   <div style="width: 100%;">\n        <div>\n            <div style="width: 100%;">\n                <h4 style="text-align: center; font-size: 20px; margin: 0px;">Phiếu Sản phẩm</h4>\n                <br>\n                <h4 style="text-align: center; font-size: 15px; margin: 0px;">Ngày tạo: 22 thg5 2019</h4>\n            </div>\n        </div>\n        <h4 style="text-align: center; font-size: 18px;">Bảng Phụ kiện</h4>\n        <table style="width: 100%;  border-spacing: 0px; border: 1px solid #666">\n            <thead style="background-color: #ccc;">\n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #666; height: 50px; line-height: 50px; width: 100%;">\n                    <th style="width: 5%;border: 1px solid #666">STT</th>\n                    <th  style="width: 16.6667%; border: 1px solid #666">Tên</th>\n                    <th style="width: 12%; border: 1px solid #666;">SL nhập</th>\n                    <th style="width: 12%; border: 1px solid #666;">Giá nhập</th>\n                    <th style="width: 12%; border: 1px solid #666;">SL bán</th>\n                    <th style="width: 12%; border: 1px solid #666;">Giá bán</th>\n                    <th style="width: 12%; border: 1px solid #666;">Ngày tạo</th>\n                </tr>\n            </thead>\n            <tbody style="width: 100%;">\n                ${e}\n            </tbody>\n        </table>\n    </div>\n   `;return s}var jE=ZE,QE={components:{adminAccessoryDetail:LE,adminChart:lb},data(){return{data:[],data2:[],label:[],activeChart:!1,products:[],accessorys:[],pageNumber:1,pageSize:8,lengthPage:1,activePage:1,infoAccessory:{typeId:"",brandId:"",fits:[]},valid:{},mesFaild:"",mesSuccess:"",acctiveAccessory:!1,acctiveAccessoryEdit:!1,activeDetail:!1,activeFormType:!1,activeFormbrand:!1,dateFilter:{day:"0",month:"0",year:"0",field:""},years:[],isSort:!1,filterInput:"",idTimeOut:"",accessory:{},idAcc:"",imgSrc:"",id:"",infoType:{},loading:!1,mesSuccessType:"",mesFaildType:"",types:[],brands:[],infoBrand:{}}},methods:{closeChart(){this.data=[],this.data2=[],this.activeChart=!1},chart(){this.data=[],this.data2=[],this.label=[],this.accessorys.forEach((t=>{this.data.push(t.soldQuantity),this.label.push(t.name)})),this.accessorys.forEach((t=>{this.data2.push(t.inputQuantity)})),this.activeChart=!0},closeFormType(){this.activeFormType=!1,this.mesFaildType="",this.mesSuccessType="",this.infoType={}},async addType(){try{this.loading=!0;const t=await en.create(this.infoType);this.loading=!1,t.data.status?(this.mesSuccessType=t.data.mes,this.mesFaildType="",this.infoType={}):(this.mesFaildType=t.data.mes,this.mesSuccessType=""),this.getType()}catch(t){console.log(t)}},async getType(){try{const t=await en.getAll();this.types=[...t.data]}catch(t){console.log(t)}},async getBrands(){try{const t=await Fi.getAll();this.brands=[...t.data]}catch(t){console.log(t)}},handleBrand(t){this.infoBrand.image=t.target.files[0]||""},async addBrand(){try{this.loading=!0;const t=await Fi.create(this.infoBrand);this.loading=!1,t.data.status?(this.mesSuccessType=t.data.mes,this.mesFaildType="",this.infoBrand={},this.$refs.fileBrand.value=""):(this.mesFaildType=t.data.mes,this.mesSuccessType=""),this.getBrands()}catch(t){console.log(t)}},closeFormBrand(){this.activeFormbrand=!1,this.mesFaildType="",this.mesSuccessType="",this.infoBrand={}},openDetail(t){this.activeDetail=!0,this.id=t},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},handlePage(t){this.activePage=t,this.pageNumber=t,this.getAllAccesory(),this.isSort=!1},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getAllAccesory())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAllAccesory())},openFormAdd(){this.acctiveAccessory=!0,this.infoAccessory={fits:[],typeId:"",brandId:""},this.mesFaild="",this.mesSuccess="",this.valid={}},fomatDate(t){return mt.formatDateNoTime(t)},fomatCurency(t){return mt.formatCurrency(t)},async getAllProduct(){try{const t=await I.getProducts();this.products=[...t.data]}catch(t){console.log(t)}},async getAllProducts(){try{const t=await I.getProducts();this.products=[...t.data]}catch(t){console.log(t)}},async getAllAccesory(){try{const t=await _i.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await _i.getAll(this.pageNumber,this.pageSize);this.accessorys=[...e.data]}catch(t){console.log(t)}},handleImage(t){this.infoAccessory.image=t.target.files[0]||""},handleCheckBox(t,e){if(console.log(this.infoAccessory),t.target.checked)if(0==this.infoAccessory.fits.length)this.infoAccessory.fits.push({product:e});else{const t=this.infoAccessory.fits.some((t=>t.product===e));t||this.infoAccessory.fits.push({product:e})}else{const t=this.infoAccessory.fits.findIndex((t=>t.product==e));this.infoAccessory.fits.splice(t,1)}},checkAll(t){this.infoAccessory.fits=[],t.target.checked?(this.products.forEach((t=>{this.infoAccessory.fits.push({product:t._id})})),this.$refs.checboxProduct.map((t=>{t.checked=!0}))):this.$refs.checboxProduct.map((t=>{t.checked=!1}))},checkAllEdit(t){this.accessory.fits=[],t.target.checked?(this.products.forEach((t=>{this.accessory.fits.push({product:t._id})})),this.$refs.checboxProduct.map((t=>{t.checked=!0}))):this.$refs.checboxProduct.map((t=>{this.accessory.fits=[],t.checked=!1})),console.log(this.accessory)},validateForm(t){t.priceSale<0?this.valid.priceSale="Giá không được là số âm":this.valid.priceSale=void 0;let e=!1;const s=Object.values(this.valid);for(let a=0;a<s.length;a++){if(void 0!==s[a]){e=!1;break}e=!0}return e},async addAccessory(){const t=this.validateForm(this.infoAccessory);if(t){const t=await _i.create(this.infoAccessory);t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild=!1,this.infoAccessory={fits:[],typeId:"",brandId:""},this.getAllAccesory(),this.$refs.checboxProduct&&this.$refs.checboxProduct.map((t=>{t.checked=!1})),this.$refs.inputImg.value=""):(this.mesFaild=t.data.mes,this.mesSuccess=!1)}},offSort(){this.isSort=!1,this.getAllAccesory(),this.filterInput=""},async filterDate(){this.isSort=!0;const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await _i.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.accessorys=[...i.data],console.log(i)},exportToExcel(){const t=[];this.accessorys.map((e=>{t.push({"Tên phụ kiện":e.name,"Giá nhập":mt.formatCurrency(e.priceImport),"Số lượng nhập":e.inputQuantity,"Giá bán":mt.formatCurrency(e.priceSale),"Số lượng bán":e.soldQuantity,"Ngày tạo":mt.formatDate(e.createdAt),"Ngày sửa":mt.formatDate(e.updatedAt)})})),Gw(t,"PhuKien")},async exportToPDF(){const t=jE(this.accessorys),e=await I.exportPDF({data:t}),s=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.target="_blank",i.setAttribute("download","PhuKien.pdf"),document.body.appendChild(i),i.click()},async sort(t,e){if(this.type=t,this.field=e,this.isSort=!0,"name"===e)this.accessorys.sort(((s,a)=>1==t?s[e].localeCompare(a[e]):-1==t?a[e].localeCompare(s[e]):void 0));else if(this.accessorys.sort(((s,a)=>1==t?parseFloat(s[e])-parseFloat(a[e]):-1==t?parseFloat(a[e])-parseInt(s[e]):void 0)),0===t){const t=this.accessorys.filter((t=>0===t[e]));this.accessorys=[],this.accessorys=[...t]}},handleFitter(t){null==this.idTimeOut&&(this.isSort=!1),clearTimeout(this.idTimeOut),this.getAllAccesory(),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){if(""!=this.filterInput){this.isSort=!0;const e=new RegExp(this.filterInput.trim(),"i"),s=this.accessorys.filter((s=>e.test(s[t])));this.accessorys=s}else this.isSort=!1,this.getAllAccesory()},async getAccessoryByid(t){try{const e=await _i.getById(t);this.accessory={...e.data},this.accessory.typeId=this.accessory.typeId._id,this.accessory.brandId=this.accessory.brandId._id;const s=this.accessory.fits.map((t=>({product:t.product._id})));this.accessory.fits=[],this.accessory.fits=[...s]}catch(e){console.log(e)}},openEditAcc(t){this.getAccessoryByid(t),this.acctiveAccessoryEdit=!0},handleImageEdit(t){const e=t.target.files[0]||"",s=URL.createObjectURL(e);this.imgSrc=s,this.accessory.image=e},handleCheckBoxEdit(t,e){if(console.log(this.accessory.fits.length),t.target.checked)if(0==this.accessory.fits.length)this.accessory.fits.push({product:e});else{const t=this.accessory.fits.some((t=>t.product==e));t||this.accessory.fits.push({product:e})}else{const t=this.accessory.fits.findIndex((t=>t.product==e));this.accessory.fits.splice(t,1)}console.log(this.accessory)},async editAccessory(){try{console.log(this.accessory);const t=this.validateForm(this.accessory);if(t){console.log(this.accessory.fits);const t=await _i.update(this.accessory._id,this.accessory);t.data.status?(this.mesSuccess=t.data.mes,this.mesFaild="",this.getAccessoryByid(this.accessory._id),setTimeout((()=>{this.mesSuccess=""}),2e3)):(this.mesFaild=t.data.mes,this.mesSuccess="",setTimeout((()=>{this.mesFaild=""}),2e3))}}catch(t){console.log(t)}}},mounted(){this.getAllAccesory(),this.getYears(),this.getType(),this.getBrands(),this.getAllProducts()}};const GE=(0,ft.Z)(QE,[["render",CE],["__scopeId","data-v-ac67ae72"]]);var WE=GE;const JE=t=>((0,i.dD)("data-v-15a1ba6d"),t=t(),(0,i.Cn)(),t),XE={class:"admin-add-order"},t$=JE((()=>(0,i._)("h3",null,"Các đơn hàng",-1))),e$={class:"d-flex justify-content-end align-items-center my-3"},s$={class:"input-admin-filter"},a$=JE((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),i$=["value"],n$=JE((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),l$=["value"],o$=JE((()=>(0,i._)("option",{value:"0"},"Năm",-1))),r$=["value"],c$=JE((()=>(0,i._)("option",{value:""},"Chọn kiểu",-1))),d$=JE((()=>(0,i._)("option",{value:"0"},"Tất cả",-1))),h$=JE((()=>(0,i._)("option",{value:"createdAt"},"Ngày tạo",-1))),p$=JE((()=>(0,i._)("option",{value:"updatedAt"},"Ngày sửa",-1))),u$=[c$,d$,h$,p$],m$=JE((()=>(0,i._)("button",null,"Lọc",-1))),g$={class:"admin-export"},y$=JE((()=>(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1))),f$=JE((()=>(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1))),v$={class:"order-status d-flex mb-3"},_$={class:"w-100"},w$=JE((()=>(0,i._)("th",{class:"col-1"},"STT",-1))),b$={class:"col-2"},k$={class:"admin-table-title"},C$=JE((()=>(0,i._)("p",null,"Mã số đơn hàng",-1))),x$={class:"admin-sort"},S$=JE((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),D$={class:"admin-sort-list"},T$={class:"filter-admin-input"},P$={class:"col"},I$={class:"admin-table-title"},A$=JE((()=>(0,i._)("p",null,"Tên khách hàng",-1))),U$={class:"admin-sort"},q$=JE((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),N$={class:"admin-sort-list"},z$={class:"filter-admin-input"},F$={class:"col"},O$={class:"admin-table-title"},M$=JE((()=>(0,i._)("p",null,"Trạng thái",-1))),V$={class:"admin-sort"},E$=JE((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),$$={class:"admin-sort-list"},B$={class:"filter-admin-input"},R$={class:"col"},H$={class:"admin-table-title"},Y$=JE((()=>(0,i._)("p",null,"Hình thức",-1))),K$={class:"admin-sort"},L$=JE((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),Z$={class:"admin-sort-list"},j$={class:"col"},Q$={class:"admin-table-title"},G$=JE((()=>(0,i._)("p",null,[(0,i.Uk)("Cách thức "),(0,i._)("br"),(0,i.Uk)("thanh toán")],-1))),W$={class:"admin-sort"},J$=JE((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),X$={class:"admin-sort-list"},tB={class:"filter-admin-input"},eB={class:"col"},sB={class:"admin-table-title"},aB=JE((()=>(0,i._)("p",null,"Thanh toán",-1))),iB={class:"admin-sort"},nB=JE((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),lB={class:"admin-sort-list"},oB=JE((()=>(0,i._)("th",{class:"col"},"Ngày tạo",-1))),rB=JE((()=>(0,i._)("th",{class:"col text-center"},"Hành động",-1))),cB={class:"col-1 text-center"},dB={class:"col-2"},hB={class:"col"},pB={class:"col"},uB={class:"col"},mB={class:"col"},gB={key:0,class:"col text-center p-0 fs-4 text-success"},yB=JE((()=>(0,i._)("i",{class:"fa-solid fa-check"},null,-1))),fB=[yB],vB={key:1,class:"col text-center p-0 fs-4 text-danger"},_B=JE((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),wB=[_B],bB={class:"col"},kB={class:"col text-center"},CB=["onClick"],xB=JE((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1))),SB=[xB],DB=["onClick"],TB=JE((()=>(0,i._)("i",{class:"fa-solid fa-print"},null,-1))),PB=[TB],IB={class:"product-pagination mt-5"},AB={class:"pagination"},UB=JE((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),qB=[UB],NB=JE((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),zB=["onClick"],FB=JE((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),OB=JE((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),MB=[OB];function VB(t,e,s,a,l,o){const r=(0,i.up)("adminOrderDetail");return(0,i.wg)(),(0,i.iD)("div",XE,[t$,(0,i._)("div",e$,[(0,i._)("div",s$,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[a$,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,i$))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[n$,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,l$))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[o$,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,r$)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},u$,512),[[A.bM,l.dateFilter.field]]),m$],32),(0,i._)("div",g$,[(0,i._)("div",{class:"btn btn-success",onClick:e[5]||(e[5]=(...t)=>o.exportToExcel&&o.exportToExcel(...t))},[y$,(0,i.Uk)(" Excel ")]),(0,i._)("div",{class:"btn btn-warning",onClick:e[6]||(e[6]=(...t)=>o.exportToPDF&&o.exportToPDF(...t))},[f$,(0,i.Uk)(" Pdf")])])])]),(0,i._)("div",v$,[(0,i._)("span",{onClick:e[7]||(e[7]=t=>o.sort3("Đang xử lý","status")),class:"order-status-item me-3",style:{"--color":"#1e90ff"}},[(0,i.Uk)("Đang xử lý "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Đang xử lý"==t.status)).length),1)]),(0,i._)("span",{onClick:e[8]||(e[8]=t=>o.sort3("Đang vận chuyển","status")),class:"order-status-item me-3",style:{"--color":"#C63D2F"}},[(0,i.Uk)("Đang vận chuyển "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Đang vận chuyển"==t.status)).length),1)]),(0,i._)("span",{onClick:e[9]||(e[9]=t=>o.sort3("Đã giao hàng","status")),class:"order-status-item me-3",style:{"--color":"green"}},[(0,i.Uk)("Đã giao hàng "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Đã giao hàng"==t.status)).length),1)]),(0,i._)("span",{onClick:e[10]||(e[10]=t=>o.sort3("Hủy đơn","status")),class:"order-status-item me-3",style:{"--color":"#FE0000"}},[(0,i.Uk)("Hủy đơn "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Hủy đơn"==t.status)).length),1)])]),(0,i._)("div",{class:(0,n.C_)(["isSort",{"isSort-active":l.isSort}])},[(0,i._)("span",{onClick:e[11]||(e[11]=(...t)=>o.offSort&&o.offSort(...t))},"Đang lọc")],2),(0,i._)("table",_$,[(0,i._)("thead",null,[(0,i._)("tr",null,[w$,(0,i._)("th",b$,[(0,i._)("div",k$,[C$,(0,i._)("div",x$,[S$,(0,i._)("ul",D$,[(0,i._)("div",T$,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[12]||(e[12]=t=>l.filterInput=t),onInput:e[13]||(e[13]=t=>o.handleFitter("_id"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",P$,[(0,i._)("div",I$,[A$,(0,i._)("div",U$,[q$,(0,i._)("ul",N$,[(0,i._)("li",{onClick:e[14]||(e[14]=t=>o.sort(1,"fullName"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[15]||(e[15]=t=>o.sort(-1,"fullName"))},"Từ Z về A"),(0,i._)("div",z$,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[16]||(e[16]=t=>l.filterInput=t),onInput:e[17]||(e[17]=t=>o.handleFitter("fullName"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",F$,[(0,i._)("div",O$,[M$,(0,i._)("div",V$,[E$,(0,i._)("ul",$$,[(0,i._)("div",B$,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[18]||(e[18]=t=>l.filterInput=t),onInput:e[19]||(e[19]=t=>o.handleFitter("status"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",R$,[(0,i._)("div",H$,[Y$,(0,i._)("div",K$,[L$,(0,i._)("ul",Z$,[(0,i._)("li",{onClick:e[20]||(e[20]=t=>o.sort(!1,"IsOnlineOrder"))},"Tại cửa hàng"),(0,i._)("li",{onClick:e[21]||(e[21]=t=>o.sort(!0,"IsOnlineOrder"))},"Online")])])])]),(0,i._)("th",j$,[(0,i._)("div",Q$,[G$,(0,i._)("div",W$,[J$,(0,i._)("ul",X$,[(0,i._)("li",{onClick:e[22]||(e[22]=t=>o.sort("COD","paymentMethod"))},"COD"),(0,i._)("li",{onClick:e[23]||(e[23]=t=>o.sort("Online","paymentMethod"))},"Online"),(0,i._)("div",tB,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[24]||(e[24]=t=>l.filterInput=t),onInput:e[25]||(e[25]=t=>o.handleFitter("paymentMethod"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",eB,[(0,i._)("div",sB,[aB,(0,i._)("div",iB,[nB,(0,i._)("ul",lB,[(0,i._)("li",{onClick:e[26]||(e[26]=t=>o.sort(!1,"isPayment"))},"Chưa thanh toán"),(0,i._)("li",{onClick:e[27]||(e[27]=t=>o.sort(!0,"isPayment"))},"Đã thanh toán ")])])])]),oB,rB])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.orders,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t._id},[(0,i._)("td",cB,(0,n.zw)(e+1),1),(0,i._)("td",dB,(0,n.zw)(t._id),1),(0,i._)("td",hB,(0,n.zw)(t?.nameCustomer),1),(0,i._)("td",pB,(0,n.zw)(t.status),1),(0,i._)("td",uB,(0,n.zw)(t.IsOnlineOrder?" Trực tuyến":"Tại của hàng"),1),(0,i._)("td",mB,(0,n.zw)(t.paymentMethod),1),t.isPayment?((0,i.wg)(),(0,i.iD)("td",gB,fB)):((0,i.wg)(),(0,i.iD)("td",vB,wB)),(0,i._)("td",bB,(0,n.zw)(t.createdAt),1),(0,i._)("td",kB,[(0,i._)("span",{class:"btn btn-outline-info",onClick:e=>o.openDetail(t._id)},SB,8,CB),(0,i._)("span",{class:"btn btn-outline-warning ms-3",onClick:e=>o.printPDF(t._id)},PB,8,DB)])])))),128))])]),l.activeDetail?((0,i.wg)(),(0,i.j4)(r,{key:0,id:l.id,paymentSuccess:l.paymentSuccess,onCloseDetail:o.closeDetail,onCloseSuccess:o.closeSuccess},null,8,["id","paymentSuccess","onCloseDetail","onCloseSuccess"])):(0,i.kq)("",!0),(0,i._)("div",IB,[(0,i._)("ul",AB,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[28]||(e[28]=(...t)=>o.previousPage&&o.previousPage(...t))},qB)]),NB,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,zB)])))),128)),FB,(0,i._)("li",null,[(0,i._)("span",{onClick:e[29]||(e[29]=(...t)=>o.nextPage&&o.nextPage(...t))},MB)])])])])}const EB=t=>((0,i.dD)("data-v-ae45f4ee"),t=t(),(0,i.Cn)(),t),$B={class:"overlay"},BB=EB((()=>(0,i._)("div",{class:"modal-success text-success"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán thành công")],-1))),RB=[BB],HB=EB((()=>(0,i._)("div",{class:"modal-success text-danger"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-xmark"})])]),(0,i._)("h3",{class:""},"Thanh toán không thành công")],-1))),YB=[HB],KB={class:"payment-status"},LB={class:"d-flex justify-content-end"},ZB=EB((()=>(0,i._)("h4",null,"Chi tiết đơn hàng",-1))),jB={class:"row"},QB={class:"col-lg-3"},GB={class:"status-info"},WB=EB((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-gear"}),(0,i.Uk)(" Thông tin đơn hàng")],-1))),JB=EB((()=>(0,i._)("hr",null,null,-1))),XB={class:"mb-2"},tR=EB((()=>(0,i._)("strong",{class:"me-2"},"Mã:",-1))),eR=EB((()=>(0,i._)("strong",{class:"me-2"},"Ngày tạo:",-1))),sR={class:"col-lg-3"},aR={class:"status-info text-start"},iR=EB((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-credit-card"}),(0,i.Uk)(" Thanh toán")],-1))),nR=EB((()=>(0,i._)("hr",null,null,-1))),lR={class:"mb-2"},oR=EB((()=>(0,i._)("strong",{class:"me-2"},"Hình thức thanh toán:",-1))),rR=EB((()=>(0,i._)("strong",{class:"me-2"},"Trạng thái thanh toán:",-1))),cR={class:"col-lg-3"},dR={class:"status-info text-start"},hR=EB((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-truck"}),(0,i.Uk)(" Khách hàng")],-1))),pR=EB((()=>(0,i._)("hr",null,null,-1))),uR={class:"scroll-address"},mR=EB((()=>(0,i._)("strong",{class:"me-2"},"Tên:",-1))),gR=EB((()=>(0,i._)("strong",{class:"me-2"},"Số điện thoại:",-1))),yR=EB((()=>(0,i._)("strong",{class:"me-2"},"Địa chỉ:",-1))),fR=EB((()=>(0,i._)("strong",{class:"me-2"},"Email:",-1))),vR={class:"col-lg-3"},_R={class:"status-info"},wR=EB((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-note-sticky"}),(0,i.Uk)(" Ghi chú")],-1))),bR=EB((()=>(0,i._)("hr",null,null,-1))),kR=EB((()=>(0,i._)("i",{class:"fa-solid fa-notes-medical"},null,-1))),CR={class:"status mt-1"},xR=EB((()=>(0,i._)("h5",{class:"mt-2 mb-4"},"Trạng thái đơn hàng",-1))),SR={key:0,class:"status-progress"},DR=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:red;" data-v-ae45f4ee></div><div class="progress-item" style="--left:8%;" data-v-ae45f4ee><span style="--border-color:red;" data-v-ae45f4ee>1</span><span data-v-ae45f4ee>Đang xử lý</span></div><div class="progress-item" style="--left:43%;" data-v-ae45f4ee><span style="--border-color:red;" data-v-ae45f4ee>2</span><span data-v-ae45f4ee>Đang vận chuyển</span></div><div class="progress-item" style="--left:80%;" data-v-ae45f4ee><span style="--border-color:red;" data-v-ae45f4ee>3</span><span data-v-ae45f4ee>Đã giao hàng</span></div>',4),TR=[DR],PR={key:1,class:"status-progress"},IR=(0,i.uE)('<div class="status-progress-color" style="--left:83%;--colorB:#11e911;" data-v-ae45f4ee></div><div class="progress-item" style="--left:8%;" data-v-ae45f4ee><span style="--border-color:#11e911;" data-v-ae45f4ee>1</span><span data-v-ae45f4ee>Đang xử lý</span></div><div class="progress-item" style="--left:43%;" data-v-ae45f4ee><span style="--border-color:blue;" data-v-ae45f4ee>2</span><span data-v-ae45f4ee>Đang vận chuyển</span></div><div class="progress-item" style="--left:80%;" data-v-ae45f4ee><span style="--border-color:blue;" data-v-ae45f4ee>3</span><span data-v-ae45f4ee>Đã giao hàng</span></div>',4),AR=[IR],UR={key:2,class:"status-progress"},qR=(0,i.uE)('<div class="status-progress-color" style="--left:48%;--colorB:#11e911;" data-v-ae45f4ee></div><div class="progress-item" style="--left:8%;" data-v-ae45f4ee><span style="--border-color:#11e911;" data-v-ae45f4ee>1</span><span data-v-ae45f4ee>Đang xử lý</span></div><div class="progress-item" style="--left:43%;" data-v-ae45f4ee><span style="--border-color:#11e911;" data-v-ae45f4ee>2</span><span data-v-ae45f4ee>Đang vận chuyển</span></div><div class="progress-item" style="--left:80%;" data-v-ae45f4ee><span style="--border-color:blue;" data-v-ae45f4ee>3</span><span data-v-ae45f4ee>Đã giao hàng</span></div>',4),NR=[qR],zR={key:3,class:"status-progress"},FR=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:#11e911;" data-v-ae45f4ee></div><div class="progress-item" style="--left:8%;" data-v-ae45f4ee><span style="--border-color:#11e911;" data-v-ae45f4ee>1</span><span data-v-ae45f4ee>Đang xử lý</span></div><div class="progress-item" style="--left:43%;" data-v-ae45f4ee><span style="--border-color:#11e911;" data-v-ae45f4ee>2</span><span data-v-ae45f4ee>Đang vận chuyển</span></div><div class="progress-item" style="--left:80%;" data-v-ae45f4ee><span style="--border-color:#11e911;" data-v-ae45f4ee>3</span><span data-v-ae45f4ee>Đã giao hàng</span></div>',4),OR=[FR],MR={key:7,class:"btn btn-warning mt-5 mb-1"},VR={key:8,disabled:"",class:"btn btn-danger mt-5 mb-1"},ER={class:"row mt-1"},$R={class:"col-lg-8"},BR={class:"order-detail"},RR=EB((()=>(0,i._)("h5",null,"Danh sách sản phẩm",-1))),HR={class:"w-100 order-detail-td"},YR=EB((()=>(0,i._)("thead",null,[(0,i._)("tr",{class:"row gx-0"},[(0,i._)("th",{class:"col-1 text-center"},"STT"),(0,i._)("th",{class:"col-4"},"Tên"),(0,i._)("th",{class:"col-3"},"Giá"),(0,i._)("th",{class:"col-2"},"Số lượng"),(0,i._)("th",{class:"col-2"},"Loại")])],-1))),KR={class:"order-scroll"},LR={class:"col-1 text-center"},ZR={class:"col-4 ellipsis"},jR={class:"col-3"},QR={class:"col-2"},GR={class:"col-2"},WR={class:"col-lg-4"},JR={class:"order-total"},XR=EB((()=>(0,i._)("h5",null,"Chi tiết thanh toán",-1))),tH={class:"row text-left"},eH=EB((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Tổng tiền hàng:")],-1))),sH={class:"col-lg-6 mb-2"},aH=EB((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Phí vận chuyển:")],-1))),iH={class:"col-lg-6 mb-2"},nH=EB((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Tổng cộng")],-1))),lH={class:"col-lg-6 mb-2"},oH=EB((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Số tiền đã thanh toán")],-1))),rH={class:"col-lg-6 mb-2"},cH=EB((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Hình thức thanh toán")],-1))),dH=EB((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},"online",-1)));function hH(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",$B,[s.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"overlay",onClick:e[0]||(e[0]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},RB)):(0,i.kq)("",!0),0==s.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[1]||(e[1]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},YB)):(0,i.kq)("",!0),(0,i._)("div",KB,[(0,i._)("div",LB,[(0,i._)("i",{onClick:e[2]||(e[2]=(...t)=>o.closeDetail&&o.closeDetail(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),ZB,(0,i._)("div",jB,[(0,i._)("div",QB,[(0,i._)("div",GB,[WB,JB,(0,i._)("span",XB,[tR,(0,i.Uk)((0,n.zw)(l.order._id),1)]),(0,i._)("span",null,[eR,(0,i.Uk)(" "+(0,n.zw)(l.order.createdAt),1)])])]),(0,i._)("div",sR,[(0,i._)("div",aR,[iR,nR,(0,i._)("span",lR,[oR,(0,i.Uk)((0,n.zw)(l.order.paymentMethod),1)]),(0,i._)("span",null,[rR,(0,i.Uk)((0,n.zw)(l.order.isPayment?"Đã thanh toán":"Chưa thanh toán"),1)])])]),(0,i._)("div",cR,[(0,i._)("div",dR,[hR,pR,(0,i._)("div",uR,[(0,i._)("span",null,[mR,(0,i.Uk)((0,n.zw)(l.order.nameCustomer),1)]),(0,i._)("span",null,[gR,(0,i.Uk)((0,n.zw)(l.order.phone),1)]),(0,i._)("span",null,[yR,(0,i.Uk)((0,n.zw)(l.order.address),1)]),(0,i._)("span",null,[fR,(0,i.Uk)((0,n.zw)(l.order.email),1)])])])]),(0,i._)("div",vR,[(0,i._)("div",_R,[wR,bR,(0,i.wy)((0,i._)("textarea",{placeholder:"Ghi chú đơn hàng","onUpdate:modelValue":e[3]||(e[3]=t=>l.order.note=t)},null,512),[[A.nr,l.order.note]]),(0,i._)("button",{class:"btn-note",onClick:e[4]||(e[4]=t=>o.update(l.order._id,{note:l.order.note}))},[kR,(0,i.Uk)(" Cập nhật")])])])]),(0,i._)("div",CR,[xR,"Hủy đơn"===l.order.status?((0,i.wg)(),(0,i.iD)("div",SR,TR)):(0,i.kq)("",!0),"Đang xử lý"===l.order.status?((0,i.wg)(),(0,i.iD)("div",PR,AR)):(0,i.kq)("",!0),"Đang vận chuyển"===l.order.status?((0,i.wg)(),(0,i.iD)("div",UR,NR)):(0,i.kq)("",!0),"Đã giao hàng"===l.order.status?((0,i.wg)(),(0,i.iD)("div",zR,OR)):(0,i.kq)("",!0),"Đang xử lý"===l.order.status&&0==l.order.isPayment?((0,i.wg)(),(0,i.iD)("div",{key:4,class:"btn btn-danger mt-5 me-2 mb-1",onClick:e[5]||(e[5]=t=>o.update(l.order._id,{status:"Hủy đơn"}))},"Hủy đơn hàng")):(0,i.kq)("",!0),"Đang xử lý"===l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:5,class:"btn btn-warning mt-5 mb-1",onClick:e[6]||(e[6]=t=>o.update(l.order._id,{status:"Đang vận chuyển"}))},"Cập nhật")):"Đang vận chuyển"===l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:6,class:"btn btn-warning mt-5 mb-1",onClick:e[7]||(e[7]=t=>o.update(l.order._id,{status:"Đã giao hàng",pricePayed:l.order.totalAmount}))},"Cập nhật")):"Đã giao hàng"===l.order.status?((0,i.wg)(),(0,i.iD)("div",MR,"Hoàn thành")):"Hủy đơn"==l.order.status?((0,i.wg)(),(0,i.iD)("button",VR,"Đơn hàng đã hủy")):(0,i.kq)("",!0)]),(0,i._)("div",ER,[(0,i._)("div",$R,[(0,i._)("div",BR,[RR,(0,i._)("table",HR,[YR,(0,i._)("tbody",KR,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.order.products,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row gx-0",key:e},[(0,i._)("td",LR,(0,n.zw)(e+1),1),(0,i._)("td",ZR,(0,n.zw)(t.nameProduct),1),(0,i._)("td",jR,(0,n.zw)(t.priceSale),1),(0,i._)("td",QR,(0,n.zw)(t.quantity),1),(0,i._)("td",GR,(0,n.zw)("product"==t.typeProduct?"Máy":"Phụ kiện"),1)])))),128))])])])]),(0,i._)("div",WR,[(0,i._)("div",JR,[XR,(0,i._)("div",tH,[eH,(0,i._)("span",sH,(0,n.zw)(l.order.totalCostOfProducts),1),aH,(0,i._)("span",iH,(0,n.zw)(l.order.transportFee),1),nH,(0,i._)("span",lH,(0,n.zw)(o.formatPrice(l.order.totalAmount)),1),oH,(0,i._)("span",rH,(0,n.zw)(o.formatPrice(l.order.pricePayed)),1),cH,dH]),l.order.isPayment||"Đang xử lý"!=l.order.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:0,class:"btn btn-info me-1",onClick:e[8]||(e[8]=t=>o.paymentByVnPay(l.order))},"VNPay")),l.order.isPayment||"Đang xử lý"!=l.order.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:1,class:"btn btn-danger me-1",onClick:e[9]||(e[9]=t=>o.paymentByMOMO(l.order))},"MOMO")),l.order.isPayment||"Đang xử lý"!=l.order.status?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",{key:2,class:"btn btn-success",onClick:e[10]||(e[10]=t=>o.paymentByCOD(l.order))},"COD")),(0,i._)("div",{class:"btn btn-warning ms-1",onClick:e[11]||(e[11]=(...t)=>o.printPDF&&o.printPDF(...t))},"In phiếu ")])])])])])}function pH(t={}){const e=JSON.parse(sessionStorage.getItem("user"));let s="";t.products.forEach(((t,e)=>{s+=` \n        <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; padding-bottom: 10px;">\n        <div style="width: 8.333333%; margin-top: 10px;">\n        ${e+1}. \n     </div>\n     <div style="width: 16.6666667%; margin-top: 10px;">\n         ${t.nameProduct}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n         ${t.priceSale}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n         ${t.quantity}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n         ${"product"==t.typeProduct?"Máy photocopy":"Phụ kiện"}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n        \n    </div>\n        </div>\n     `}));const a=`\n   <div style="height:100%">\n        <h4 style=" margin: 20px; font-size: 18px;">Số: ${t._id}</h4>\n        <div style="width: 100%;">\n            <h4 style="text-align: center; font-size: 30px; margin: 0px;">Phiếu Đơn hàng</h4>\n            <br>\n            <h4 style="text-align: center; font-size: 20px; margin: 0px;">Ngày tạo phiếu: ${t.createdAt}</h4>\n        </div>\n        <div style="display: flex; justify-content: center; align-items: center;">\n            <div style="width: 50%; text-align:center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Nhân viên in phiếu</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Họ và tên: </b>${e.user?.fullName}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${e.user?.phoneNumber}</span>\n                </div>\n            </div>\n\n            <div style="width: 50%; text-align: center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Thông tin khách hàng</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Tên: </b>${t.nameCustomer}</span>\n                        <br>\n                        <span><b>Địa chỉ: </b>${t.address}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${t.phone}</span>\n                </div>\n            </div>\n        </div>\n        <h5 style="text-align: center; font-size: 16px;">Danh sách sản phẩm</h5>\n        <div style="margin: 20px 0; ">\n            <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; height: 50px; line-height: 50px;">\n                <div style="width: 8.333333%;">\n                    STT\n                </div>\n                <div style="width: 16.66666667%;">\n                    Tên Sản phẩm\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Giá\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Số lượng\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Loại hàng\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Ghi chú\n                </div>\n            </div>\n            ${s}\n        </div>\n        <div style="width: 100%;">\n            <div style="font-size: 20px; margin-right: 10px; display: flex; justify-content: flex-end;">\n                <b>Tổng cộng</b>: ${mt.formatCurrency(t.totalAmount)}\n            </div>\n        </div>\n        <div style="margin-top: 40px; height: 150px;">\n            <div style="width: 50%; float: left; text-align:center;">\n                <b>Người giao</b></br>\n                (Ký, họ tên)\n            </div>\n            <div style="width: 50%; float: left; text-align:center;">\n                <b>Người nhận</b></br>\n                (Ký, họ tên)\n            </div>\n        </div>\n    </div>\n`;return a}var uH=pH,mH={data(){return{order:{}}},props:["id","paymentSuccess"],emits:["closeDetail","openDetail","closeSuccess"],methods:{closeDetail(){this.$emit("closeDetail")},closeSuccess(){this.$emit("closeSuccess")},async getOrderById(){try{const t=await zo.getById(this.id);this.order=t.data,this.order.createdAt=mt.formatDate(this.order.createdAt),this.order.totalCostOfProducts=mt.formatCurrency(this.order.totalCostOfProducts),this.order.VAT=mt.formatCurrency(this.order.VAT),this.order.transportFee=mt.formatCurrency(this.order.transportFee),this.order.products.forEach((t=>{t.priceSale=mt.formatCurrency(t.priceSale)}))}catch(t){console.log(t)}},formatPrice(t){return mt.formatCurrency(t)},async update(t,e){try{const s=await zo.update(t,e);s.data.status&&(alert("Thay đổi thành công"),this.getOrderById())}catch(s){console.log(s)}},async paymentByVnPay(t){try{const e={totalAmount:t.totalAmount,orderId:t._id};if("Hủy đơn"==t.status)return void alert("Đơn hàng đã bị hủy");const s=await zo.paymentVNPAY("admin/order",e);window.location.href=s.data}catch(e){console.log(e)}},async paymentByMOMO(t){try{const e={totalAmount:t.totalAmount,orderId:t._id};if("Hủy đơn"==t.status)return void alert("Đơn hàng đã bị hủy");if(e.totalAmount>5e7)return void alert("Số tiền thanh toán với momo phải bé hơn 50 triệu");const s=await zo.paymentMOMO("admin/order",e);window.location.href=s.data}catch(e){console.log(e)}},async paymentByCOD(t){try{if(confirm(`Số tiền phải trả là :${t.totalAmount}`)){const e={totalAmount:t.totalAmount,paymentMethod:"COD",pricePayed:t.totalAmount,isPayment:!0},s=await zo.update(t._id,e);s.data.status&&this.getOrderById()}}catch(e){console.log(e)}},async printPDF(){const t=uH(this.order);uT(t,"Phiếu đơn hàng")}},mounted(){this.getOrderById()}};const gH=(0,ft.Z)(mH,[["render",hH],["__scopeId","data-v-ae45f4ee"]]);var yH=gH;function fH(t=[]){let e="";t.forEach(((t,s)=>{e+=`\n            <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px;  width: 100%; height: ca;">\n                <td  style="width: 3%;  border: 1px solid #111" >${s+1}</td>\n                <td style="width: 12%; border: 1px solid #111; overflow: hidden;">${t._id}</td>\n                <td style="width: 12%; border: 1px solid #111;">${t.customerId.fullName}</td>\n                <td style="width: 6%; border: 1px solid #111;">${t.customerId.phone}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.customerId.address}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.IsOnlineOrder?"Online":"Tại cửa hàng"}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.status}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.paymentMethod}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.isPayment?"Đã thanh toán":"Chưa thanh toán"}</td>\n                <td style="width: 10%; border: 1px solid #111;">${mt.formatCurrency(t.totalAmount)}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.createdAt}</td>\n            </tr>\n        `}));const s=`\n        <div style="width: 100%; ">\n        <div>\n            <div style="width: 100%;">\n                <h4 style="text-align: center; font-size: 25px; margin: 0px;">Phiếu Thông tin nhân viên</h4>\n                <br>\n                <h4 style="text-align: center; font-size: 15px; margin: 0px;">Ngày tạo: ${mt.formatDate(new Date)}</h4>\n            </div>\n        </div>\n\n        <h4 style="text-align: center; font-size: 18px;">Bảng tất cả đơn hàng</h4>\n        <table style=" border-spacing: 0px; border: 1px solid #111">\n            <thead style="background-color: #ccc; width:50px">\n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px; width: 100%;">\n                    <th style="width: 3%;border: 1px solid #111">STT</th>\n                    <th  style="width: 12%; border: 1px solid #111">Mã đơn</th>\n                    <th style="width: 12%; border: 1px solid #111;">Tên khách hàng</th>\n                    <th style="width: 6%; border: 1px solid #111;">Số điện thoại</th>\n                    <th style="width: 10%; border: 1px solid #111;">Địa chỉ</th>\n                    <th style="width: 10%; border: 1px solid #111;">Hình thức mua</th>\n                    <th style="width: 10%; border: 1px solid #111;">Trạng thái đơn hàng</th>\n                    <th style="width: 10%; border: 1px solid #111;">Hình thức thanh toán</th>\n                    <th style="width: 10%; border: 1px solid #111;">Trạng thái thanh toán</th>\n                    <th style="width: 10%; border: 1px solid #111;">Tổng giá</th>\n                    <th style="width: 10%; border: 1px solid #111;">Ngày tạo</th>\n                </tr>\n            </thead>\n            <tbody style="width: 100%;">\n                ${e}\n            </tbody>\n        </table>\n        <div style="margin-top: 20px; font-size: 20px; display: flex; justify-content: flex-end; width: 100%;">\n            <strong>Tổng số đơn hàng: </strong><span style="margin-left: 10px;">${t.length}</span>\n        </div>\n            \n    `;return s}var vH=fH,_H={components:{adminOrderDetail:yH},data(){return{orders:[],pageNumber:1,pageSize:8,lengthPage:1,activePage:1,years:[],dateFilter:{day:"0",month:"0",year:"0",field:""},filterInput:"",isSort:!1,activeDetail:!1,paymentSuccess:null,id:"",data:[]}},methods:{isPaymentSuccess(){const t=new URLSearchParams(window.location.search);"true"===t.get("success")?(this.id=t.get("id"),this.activeDetail=!0,this.paymentSuccess=!0):"false"===t.get("success")&&(this.id=t.get("id"),this.activeDetail=!0,this.paymentSuccess=!1)},closeSuccess(){this.$router.push("/admin/order"),this.paymentSuccess=null},openDetail(t){this.activeDetail=!0,this.id=t},closeDetail(){this.activeDetail=!1,this.getAll()},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},handlePage(t){this.activePage=t,this.pageNumber=t,this.getAll(),this.isSort=!1},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getAll())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAll())},async getAll(){const t=await zo.getAll();this.data=[...t.data],this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await zo.getAll(this.pageNumber,this.pageSize);this.orders=[...e.data],this.orders.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)}))},offSort(){this.isSort=!1,this.getAll(),this.filterInput="",this.dateFilter={day:"0",month:"0",year:"0",field:""}},async sort(t,e){if(this.type=t,this.field=e,this.isSort=!0,"fullName"===e)this.orders.sort(((s,a)=>1==t?s.customerId[e].localeCompare(a.customerId[e]):-1==t?a.customerId[e].localeCompare(s.customerId[e]):void 0));else{if("paymentMethod"===e)return void(this.orders="COD"==t?this.orders.filter((s=>s[e]==t)):this.orders.filter((t=>"COD"!=t[e])));this.orders=this.orders.filter((s=>s[e]==t))}},async sort3(t,e){this.type=t,this.field=e,this.isSort=!0,await this.getAll(),this.orders=this.data.filter((s=>s[e]==t))},handleFitter(t){null==this.idTimeOut&&(this.isSort=!1),clearTimeout(this.idTimeOut),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){if(""!=this.filterInput){this.isSort=!0;const e=new RegExp(this.filterInput.trim(),"i");let s=[];s="fullName"===t?this.orders.filter((s=>e.test(s.customerId[t]))):this.orders.filter((s=>e.test(s[t]))),this.orders=s}else this.isSort=!1,this.getAll()},async filterDate(){this.isSort=!0;const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await zo.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.orders=[...i.data],this.orders.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)}))},exportToExcel(){const t=[];this.orders.map((e=>{t.push({"Mã":e._id,"Tên khách hàng":e.customerId.fullName,"Số điện thoại":e.customerId.phone,"Địa chỉ":e.customerId.address,"Hình thức mua hàng":e.IsOnlineOrder?"Online":"Tại cửa hàng","Trạng thái đơn hàng":e.status,"Hình thức thanh toán":e.paymentMethod,"Trạng thái thanh toán":e.isPayment?"Đã thanh toán":"Chưa thanh toán","Tổng giá":mt.formatCurrency(e.totalAmount),"Ngày tạo":e.createdAt})})),Gw(t,"DonHang")},async exportToPDF(){const t=vH(this.orders),e=await I.exportPDF({data:t}),s=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.target="_blank",i.setAttribute("download","DonHang.pdf"),document.body.appendChild(i),i.click()},async printPDF(t){const e=await zo.getById(t),s=e.data;s.createdAt=mt.formatDate(s.createdAt),s.totalCostOfProducts=mt.formatCurrency(s.totalCostOfProducts),s.VAT=mt.formatCurrency(s.VAT),s.transportFee=mt.formatCurrency(s.transportFee),s.products.forEach((t=>{t.priceSale=mt.formatCurrency(t.priceSale)}));const a=uH(s);uT(a,"Phiếu đơn hàng")}},mounted(){this.getAll(),this.getYears(),this.isPaymentSuccess()}};const wH=(0,ft.Z)(_H,[["render",VB],["__scopeId","data-v-15a1ba6d"]]);var bH=wH;const kH=t=>((0,i.dD)("data-v-648464c0"),t=t(),(0,i.Cn)(),t),CH=kH((()=>(0,i._)("div",{class:"modal-success text-success"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán thành công")],-1))),xH=[CH],SH=kH((()=>(0,i._)("div",{class:"modal-success text-danger"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán không thành công")],-1))),DH=[SH],TH={class:"admin-create-order"},PH=kH((()=>(0,i._)("h3",null,"Thêm đơn hàng",-1))),IH={class:"row"},AH={class:"group col-lg-4"},UH={class:"d-flex mb-1"},qH=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên Khách hàng "),(0,i._)("span",{class:"required"},"*")],-1))),NH={key:0,class:"overlay"},zH=kH((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),FH=[zH],OH={class:"form-head"},MH=kH((()=>(0,i._)("h2",{class:"title"},"Thêm khách hàng",-1))),VH={key:0,class:"mes-success"},EH={key:1,class:"mes-failed"},$H={class:"row"},BH={class:"spe-group col-lg-6"},RH=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên khách hàng "),(0,i._)("span",{class:"required"},"*")],-1))),HH={class:"spe-group col-lg-6"},YH=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại"),(0,i._)("span",{class:"required"},"*")],-1))),KH={class:"spe-group col-lg-6"},LH=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Email"),(0,i._)("span",{class:"required"},"*")],-1))),ZH={class:"spe-group col-lg-6"},jH=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ"),(0,i._)("span",{class:"required"},"*")],-1))),QH={class:"row"},GH={class:"group col-lg-4"},WH=kH((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Tỉnh/Thành phố "),(0,i._)("span",{class:"required"},"*")])],-1))),JH=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),XH=["value"],tY={class:"group col-lg-4"},eY=kH((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Quận/huyện "),(0,i._)("span",{class:"required"},"*")])],-1))),sY=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),aY=["value"],iY={class:"group col-lg-4"},nY=kH((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Phường/Xã "),(0,i._)("span",{class:"required"},"*")])],-1))),lY=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),oY=["value"],rY=kH((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit mt-5"},"Thêm")],-1))),cY=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn khách hàng ---",-1))),dY=["value"],hY=kH((()=>(0,i._)("i",{class:"fa-solid fa-pen"},null,-1))),pY={key:1,class:"overlay"},uY=kH((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),mY=[uY],gY={class:"form-head"},yY=kH((()=>(0,i._)("h2",{class:"title"},"Xem và thay đổi thông tin",-1))),fY={key:0,class:"mes-success"},vY={key:1,class:"mes-failed"},_Y={class:"row"},wY={class:"spe-group col-lg-4"},bY=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên khách hàng "),(0,i._)("span",{class:"required"},"*")],-1))),kY={class:"spe-group col-lg-4"},CY=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại"),(0,i._)("span",{class:"required"},"*")],-1))),xY={class:"spe-group col-lg-4"},SY=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Email"),(0,i._)("span",{class:"required"},"*")],-1))),DY={key:0,class:"spe-group col-lg-12"},TY=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ"),(0,i._)("span",{class:"required"},"*")],-1))),PY={class:"row"},IY={key:1,class:"spe-group col-lg-12"},AY=kH((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ"),(0,i._)("span",{class:"required"},"*")],-1))),UY={key:0,class:"row"},qY={class:"group col-lg-4"},NY=kH((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Tỉnh/Thành phố "),(0,i._)("span",{class:"required"},"*")])],-1))),zY=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),FY=["value"],OY={class:"group col-lg-4"},MY=kH((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Quận/huyện "),(0,i._)("span",{class:"required"},"*")])],-1))),VY=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),EY=["value"],$Y={class:"group col-lg-4"},BY=kH((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Phường/Xã "),(0,i._)("span",{class:"required"},"*")])],-1))),RY=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),HY=["value"],YY=kH((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit mt-5"},"Sửa")],-1))),KY={class:"group col-lg-8"},LY={class:"w-100"},ZY=kH((()=>(0,i._)("div",{class:"d-flex ms-2"},[(0,i._)("label",{for:""},"Ghi chú")],-1))),jY={class:"croll"},QY=kH((()=>(0,i._)("span",{class:"d-block mt-3"},"Danh sách sản phẩm",-1))),GY={class:"group col-lg-3"},WY=kH((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Loại hàng hóa "),(0,i._)("span",{class:"required"},"*")])],-1))),JY=["onUpdate:modelValue","onChange"],XY=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn loại hàng ---",-1))),tK=kH((()=>(0,i._)("option",{value:"product"},"Sản phẩm",-1))),eK=kH((()=>(0,i._)("option",{value:"accessory"},"Phụ kiện",-1))),sK=[XY,tK,eK],aK={key:0,class:"group col-lg-3"},iK=kH((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Danh sách hàng "),(0,i._)("span",{class:"required"},"*")])],-1))),nK=["onUpdate:modelValue","onChange"],lK=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),oK=["value"],rK={key:1,class:"group col-lg-3"},cK=kH((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Danh sách hàng "),(0,i._)("span",{class:"required"},"*")])],-1))),dK=["onUpdate:modelValue","onChange"],hK=kH((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),pK=["value"],uK={key:2,class:"spe-group col-lg-3"},mK=kH((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},"Giá bán",-1))),gK={class:"price"},yK={key:3,class:"spe-group col-lg-3"},fK=kH((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},[(0,i.Uk)("Số lượng"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),vK=["onUpdate:modelValue","onKeyup"],_K={class:"row"},wK={class:"col-3 d-flex justify-content-center align-items-center mt-1"},bK={class:"group me-3"},kK={class:"group"},CK={class:"spe-group col-3"},xK=kH((()=>(0,i._)("label",{for:"",class:"mt-0"},"Tổng tiền sản phẩm",-1))),SK={class:"spe-group col-3"},DK=kH((()=>(0,i._)("label",{for:"",class:"mt-0"},"Phí vận chuyển",-1))),TK={class:"spe-group col-3"},PK=kH((()=>(0,i._)("label",{for:"",class:"mt-0"},"Tổng cộng",-1))),IK={class:"row mt-4"},AK={class:"col-lg-4"},UK=kH((()=>(0,i._)("img",{src:"https://s3-ap-southeast-1.amazonaws.com/pharmacity-ecm-asm-dev/payment-method/cash.webp",alt:""},null,-1))),qK=kH((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"Tiền mặt"),(0,i._)("span",null,"Thanh toán khi nhận hàng")],-1))),NK=kH((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),zK=[UK,qK,NK],FK={class:"col-lg-4"},OK=kH((()=>(0,i._)("img",{src:"https://vnpay.vn/s1/statics.vnpay.vn/2023/9/06ncktiwd6dc1694418196384.png",alt:""},null,-1))),MK=kH((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"VNPay"),(0,i._)("span",null,"Thanh toán qua ví VNPay")],-1))),VK=kH((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),EK=[OK,MK,VK],$K={class:"col-lg-4"},BK=kH((()=>(0,i._)("img",{src:"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png",alt:""},null,-1))),RK=kH((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"MOMO"),(0,i._)("span",null,"Quét mã QR momo")],-1))),HK=kH((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),YK=[BK,RK,HK],KK=kH((()=>(0,i._)("button",{class:"btn btn-success mt-3"},"Tạo đơn hàng",-1)));function LK(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"overlay",onClick:e[0]||(e[0]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},xH)):(0,i.kq)("",!0),0==l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[1]||(e[1]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},DH)):(0,i.kq)("",!0),(0,i._)("div",TH,[PH,(0,i._)("form",{class:"admin-form-order",ref:"formOrder",onSubmit:e[40]||(e[40]=(0,A.iM)(((...t)=>o.addOrder&&o.addOrder(...t)),["prevent","stop"]))},[(0,i._)("div",IH,[(0,i._)("div",AH,[(0,i._)("div",UH,[qH,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[2]||(e[2]=t=>l.activeCustomer=!0)},"Mới")]),l.activeCustomer?((0,i.wg)(),(0,i.iD)("div",NH,[(0,i._)("form",{action:"",class:"customer-form",onSubmit:e[14]||(e[14]=(0,A.iM)(((...t)=>o.addCustomer&&o.addCustomer(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form-customer",onClick:e[3]||(e[3]=(...t)=>o.closeFormCustomer&&o.closeFormCustomer(...t))},FH),(0,i._)("div",OH,[MH,l.mesSucCus?((0,i.wg)(),(0,i.iD)("span",VH,(0,n.zw)(l.mesSucCus),1)):(0,i.kq)("",!0),l.mesFaiCus?((0,i.wg)(),(0,i.iD)("span",EH,(0,n.zw)(l.mesFaiCus),1)):(0,i.kq)("",!0)]),(0,i._)("div",$H,[(0,i._)("div",BH,[RH,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên khách hàng","onUpdate:modelValue":e[4]||(e[4]=t=>l.customer.fullName=t)},null,512),[[A.nr,l.customer.fullName]])]),(0,i._)("div",HH,[YH,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập Số điện thoại","onUpdate:modelValue":e[5]||(e[5]=t=>l.customer.phone=t)},null,512),[[A.nr,l.customer.phone]]),l.valid.phone?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.phone})},(0,n.zw)(l.valid.phone),3)):(0,i.kq)("",!0)]),(0,i._)("div",KH,[LH,(0,i.wy)((0,i._)("input",{type:"email",required:"",placeholder:"Nhập email của bạn","onUpdate:modelValue":e[6]||(e[6]=t=>l.customer.email=t)},null,512),[[A.nr,l.customer.email]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.email})},(0,n.zw)(l.valid.email),3)):(0,i.kq)("",!0)]),(0,i._)("div",ZH,[jH,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên đường, hẻm, số nhà","onUpdate:modelValue":e[7]||(e[7]=t=>l.customer.address=t)},null,512),[[A.nr,l.customer.address]])])]),(0,i._)("div",QH,[(0,i._)("div",GH,[WH,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[8]||(e[8]=t=>l.VmodelAddress.city=t),name:"",id:"",class:"form-select w-100",onChange:e[9]||(e[9]=t=>o.getDistricts(l.VmodelAddress.city)),required:""},[JH,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.city,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,XH)))),128))],544),[[A.bM,l.VmodelAddress.city]])]),(0,i._)("div",tY,[eY,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[10]||(e[10]=t=>l.VmodelAddress.district=t),name:"",id:"",class:"form-select w-100",onChange:e[11]||(e[11]=t=>o.getWards(l.VmodelAddress.district)),required:""},[sY,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.districts,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,aY)))),128))],544),[[A.bM,l.VmodelAddress.district]])]),(0,i._)("div",iY,[nY,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[12]||(e[12]=t=>l.VmodelAddress.ward=t),name:"",id:"",class:"form-select w-100",onChange:e[13]||(e[13]=t=>o.saveAddress(l.VmodelAddress.ward)),required:""},[lY,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.wards,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,oY)))),128))],544),[[A.bM,l.VmodelAddress.ward]])])]),rY],32)])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[15]||(e[15]=t=>l.customerId=t),class:"form-select",required:"",onChange:e[16]||(e[16]=t=>o.getCustomerById(l.customerId))},[cY,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.customers,((t,e)=>((0,i.wg)(),(0,i.iD)("option",{key:e,class:"form-option",value:t._id},[(0,i.Uk)((0,n.zw)(t.fullName)+" ",1),hY],8,dY)))),128))],544),[[A.bM,l.customerId]]),l.activeEditCustomer?((0,i.wg)(),(0,i.iD)("div",pY,[(0,i._)("form",{action:"",class:"customer-form",onSubmit:e[30]||(e[30]=(0,A.iM)(((...t)=>o.editCustomer&&o.editCustomer(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form-customer",onClick:e[17]||(e[17]=(...t)=>o.closeFormCustomerEdit&&o.closeFormCustomerEdit(...t))},mY),(0,i._)("div",gY,[yY,l.mesSucCus?((0,i.wg)(),(0,i.iD)("span",fY,(0,n.zw)(l.mesSucCus),1)):(0,i.kq)("",!0),l.mesFaiCus?((0,i.wg)(),(0,i.iD)("span",vY,(0,n.zw)(l.mesFaiCus),1)):(0,i.kq)("",!0)]),(0,i._)("div",_Y,[(0,i._)("div",wY,[bY,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên khách hàng","onUpdate:modelValue":e[18]||(e[18]=t=>l.customerInfo.fullName=t)},null,512),[[A.nr,l.customerInfo.fullName]])]),(0,i._)("div",kY,[CY,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập Số điện thoại","onUpdate:modelValue":e[19]||(e[19]=t=>l.customerInfo.phone=t)},null,512),[[A.nr,l.customerInfo.phone]]),l.valid.phone?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.phone})},(0,n.zw)(l.valid.phone),3)):(0,i.kq)("",!0)]),(0,i._)("div",xY,[SY,(0,i.wy)((0,i._)("input",{type:"email",required:"",placeholder:"Nhập email của bạn","onUpdate:modelValue":e[20]||(e[20]=t=>l.customerInfo.email=t)},null,512),[[A.nr,l.customerInfo.email]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.email})},(0,n.zw)(l.valid.email),3)):(0,i.kq)("",!0)]),l.activeEditAddress?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",DY,[TY,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên đường, hẻm, số nhà","onUpdate:modelValue":e[21]||(e[21]=t=>l.customerInfo.address=t)},null,512),[[A.nr,l.customerInfo.address]])])),(0,i._)("div",PY,[(0,i._)("span",{class:"col-lg-3 ms-2 btn btn-warning",onClick:e[22]||(e[22]=t=>l.activeEditAddress=!l.activeEditAddress)},(0,n.zw)(l.activeEditAddress?"Giữ địa chỉ cũ":"Tạo địa chỉ mới"),1)]),l.activeEditAddress?((0,i.wg)(),(0,i.iD)("div",IY,[AY,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên đường, hẻm, số nhà","onUpdate:modelValue":e[23]||(e[23]=t=>l.customerInfo.address2=t)},null,512),[[A.nr,l.customerInfo.address2]])])):(0,i.kq)("",!0)]),l.activeEditAddress?((0,i.wg)(),(0,i.iD)("div",UY,[(0,i._)("div",qY,[NY,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[24]||(e[24]=t=>l.VmodelAddress.city=t),name:"",id:"",class:"form-select w-100",onChange:e[25]||(e[25]=t=>o.getDistricts(l.VmodelAddress.city)),required:""},[zY,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.city,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,FY)))),128))],544),[[A.bM,l.VmodelAddress.city]])]),(0,i._)("div",OY,[MY,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[26]||(e[26]=t=>l.VmodelAddress.district=t),name:"",id:"",class:"form-select w-100",onChange:e[27]||(e[27]=t=>o.getWards(l.VmodelAddress.district)),required:""},[VY,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.districts,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,EY)))),128))],544),[[A.bM,l.VmodelAddress.district]])]),(0,i._)("div",$Y,[BY,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[28]||(e[28]=t=>l.VmodelAddress.ward=t),name:"",id:"",class:"form-select w-100",onChange:e[29]||(e[29]=t=>o.saveAddress(l.VmodelAddress.ward)),required:""},[RY,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.wards,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,HY)))),128))],544),[[A.bM,l.VmodelAddress.ward]])])])):(0,i.kq)("",!0),YY],32)])):(0,i.kq)("",!0)]),(0,i._)("div",KY,[(0,i._)("div",LY,[ZY,(0,i.wy)((0,i._)("textarea",{class:"note","onUpdate:modelValue":e[31]||(e[31]=t=>l.note=t),placeholder:"Ghi chú cho đơn hàng"},null,512),[[A.nr,l.note]])])]),(0,i._)("div",jY,[QY,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.ordersProducts,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e},[(0,i._)("div",GY,[WY,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>t.typeProduct=e,id:"",class:"form-select",onChange:e=>o.handelGetProduct(t.typeProduct)},sK,40,JY),[[A.bM,t.typeProduct]])]),"product"===t.typeProduct?((0,i.wg)(),(0,i.iD)("div",aK,[iK,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>t.productId=e,class:"form-select",onChange:s=>o.getproductById(l.products,t.productId,e),required:""},[lK,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.products,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t._id,key:t._id},(0,n.zw)(t.name),9,oK)))),128))],40,nK),[[A.bM,t.productId]])])):(0,i.kq)("",!0),"accessory"===t.typeProduct?((0,i.wg)(),(0,i.iD)("div",rK,[cK,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>t.productId=e,class:"form-select",onChange:s=>o.getproductById(l.accessorys,t.productId,e),required:""},[hK,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.accessorys,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t._id,key:t._id},(0,n.zw)(t.name),9,pK)))),128))],40,dK),[[A.bM,t.productId]])])):(0,i.kq)("",!0),t.typeProduct?((0,i.wg)(),(0,i.iD)("div",uK,[mK,(0,i._)("span",gK,"Giá: "+(0,n.zw)(t.priceSale),1)])):(0,i.kq)("",!0),t.typeProduct?((0,i.wg)(),(0,i.iD)("div",yK,[fK,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e=>t.quantity=e,onKeyup:e=>o.checkQuantity(e,t),required:"",type:"number",placeholder:"Nhập số lượng hàng"},null,40,vK),[[A.nr,t.quantity]])])):(0,i.kq)("",!0)])))),128))]),(0,i._)("div",_K,[(0,i._)("div",wK,[(0,i._)("div",bK,[(0,i._)("span",{class:"btn btn-outline-success",onClick:e[32]||(e[32]=(...t)=>o.pushRow&&o.pushRow(...t))},"Thêm dòng")]),(0,i._)("div",kK,[(0,i._)("span",{class:"btn btn-outline-danger",onClick:e[33]||(e[33]=(...t)=>o.popRow&&o.popRow(...t))},"Bớt dòng")])]),(0,i._)("div",CK,[xK,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[34]||(e[34]=t=>l.totalCostOfProducts=t),disabled:""},null,512),[[A.nr,l.totalCostOfProducts]])]),(0,i._)("div",SK,[DK,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[35]||(e[35]=t=>l.transportFee=t),disabled:""},null,512),[[A.nr,l.transportFee]])]),(0,i._)("div",TK,[PK,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[36]||(e[36]=t=>l.totalAmount=t),disabled:""},null,512),[[A.nr,l.totalAmount]])])]),(0,i._)("div",IK,[(0,i._)("div",AK,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassCod,"payment-error":l.choosePayent},"payment"]),onClick:e[37]||(e[37]=t=>o.paymentMeThod("COD"))},zK,2)]),(0,i._)("div",FK,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassOnlVNPAY,"payment-error":l.choosePayent},"payment"]),onClick:e[38]||(e[38]=t=>o.paymentMeThod("VNPAY"))},EK,2)]),(0,i._)("div",$K,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassOnlMOMO,"payment-error":l.choosePayent},"payment"]),onClick:e[39]||(e[39]=t=>o.paymentMeThod("MOMO"))},YK,2)])])]),KK],544)])],64)}var ZK=s(4161),jK={data(){return{activeCustomer:!1,VmodelAddress:{city:"",district:"",ward:""},city:[],districts:[],wards:[],address:{},customer:{},valid:{},mesFaiCus:"",mesSucCus:"",customers:[],products:[],accessorys:[],product:{},ordersProducts:[{typeProduct:"",productId:"",priceSale:0}],customerId:"",isSubmit:!0,paymentMethod:"",isClassCod:!1,isClassOnlVNPAY:!1,isClassOnlMOMO:!1,choosePayent:!1,paymentSuccess:null,note:"",transportFee:0,totalCostOfProducts:0,totalAmount:0,VAT:0,customerInfo:{},activeEditCustomer:!1,activeEditAddress:!1}},watch:{activeCustomer(){this.activeCustomer&&this.getCity()}},methods:{closeSuccess(){this.$router.push("/admin/order-create"),this.paymentSuccess=null},totalProduct(){this.totalAmount=0,this.transportFee=0,this.totalCostOfProducts=0,this.ordersProducts.forEach((t=>{t.priceSale&&t.quantity&&(this.totalCostOfProducts+=t.priceSale*t.quantity)})),this.transportFee=Math.ceil(.01*this.totalCostOfProducts),this.totalAmount=this.transportFee+this.totalCostOfProducts+this.VAT},isPaymentSuccess(){const t=new URLSearchParams(window.location.search);"true"===t.get("success")?this.paymentSuccess=!0:"false"===t.get("success")&&(this.paymentSuccess=!1)},async getDistricts(t){const e=t.code,s=await ZK.Z.get(`https://provinces.open-api.vn/api/p/${e}/?depth=2`);this.districts=[...s.data.districts],this.address.city=t.name},async getWards(t){const e=t.code;this.address.district=t.name;const s=await ZK.Z.get(`https://provinces.open-api.vn/api/d/${e}/?depth=2`);this.wards=[...s.data.wards]},saveAddress(t){this.address.ward=t.name},closeFormCustomer(){this.activeCustomer=!1,this.city=[],this.districts=[],this.wards=[],this.VmodelAddress={city:"",district:"",ward:""}},closeFormCustomerEdit(){this.activeEditCustomer=!1,this.activeEditAddress=!1,this.city=[],this.districts=[],this.wards=[],this.VmodelAddress={city:"",district:"",ward:""}},async addCustomer(){try{const t=this.validateForm(this.customer),e={...this.customer};if(e.address=this.customer.address+", "+this.address.ward+", "+this.address.district+", "+this.address.city,t){const t=await qo.create(e);t.data.status?(this.mesSucCus=t.data.mes,this.mesFaiCus="",this.VmodelAddress={city:"",district:"",ward:""},this.customer={},this.getAllCustomers()):(this.mesFaiCus=t.data.mes,this.mesSucCus="")}}catch(t){console.log(t)}},async editCustomer(){try{const t=this.validateForm(this.customerInfo),e={...this.customerInfo};if(e.address=this.activeEditAddress?this.customerInfo.address2+", "+this.address.ward+", "+this.address.district+", "+this.address.city:this.customerInfo.address,t){const t=await qo.update(this.customerInfo._id,e);t.data.status?(await this.getCustomerById(this.customerInfo._id),this.mesSucCus=t.data.mes,this.mesFaiCus="",this.VmodelAddress={city:"",district:"",ward:""},this.activeEditAddress=!1):(this.mesFaiCus=t.data.mes,this.mesSucCus="")}}catch(t){console.log(t)}},async getCustomerById(t){try{const e=await qo.getById(t);this.customerInfo=e.data,this.activeEditCustomer=!0,this.mesSucCus="",this.mesFaiCus=""}catch(e){console.log(e)}},validateForm(t){const e=/^[0-9]+$/,s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;!e.test(t.phone)||t.phone.length<10?this.valid.phone="Số điện thoại không hợp lệ":this.valid.phone=void 0,!s.test(t.email)||t.email.length<10?this.valid.email="Email không hợp lệ":this.valid.email=void 0;let a=!1;const i=Object.values(this.valid);for(let n=0;n<i.length;n++){if(void 0!==i[n]){a=!1;break}a=!0}return a},async getAllCustomers(){try{const t=await qo.getAll();this.customers=[...t.data]}catch(t){console.log(t)}},async getAllProducts(){try{const t=await I.getProducts();t.data.filter((t=>t.inputQuantity>0)),this.products=t.data.filter((t=>t.inputQuantity>0))}catch(t){console.log(t)}},async getAllAccessorys(){try{const t=await _i.getAll();this.accessorys=t.data.filter((t=>t.inputQuantity>0))}catch(t){console.log(t)}},handelGetProduct(t){"product"==t?this.getAllProducts():"accessory"==t?this.getAllAccessorys():""===t&&(this.products=[])},getproductById(t,e,s){t.map((t=>{t._id===e&&(this.ordersProducts[s].priceSale=t.priceSale,this.ordersProducts[s].inputQuantity=t.inputQuantity,this.ordersProducts[s].priceImport=t.priceImport,this.ordersProducts[s].nameProduct=t.name,this.ordersProducts[s].warrantyTime=t.warrantyTime?t.warrantyTime:null)}))},pushRow(){this.ordersProducts.push({typeProduct:"",productId:"",priceSale:0}),this.totalProduct()},popRow(){this.ordersProducts.length<=1?alert("Dòng cuối"):(this.ordersProducts.pop(),this.totalProduct())},async addOrder(){try{const t=JSON.parse(sessionStorage.getItem("user"));""==this.paymentMethod?(this.isSubmit=!1,this.choosePayent=!0):this.isSubmit=!0;const e=await qo.getById(this.customerId),s={createBy:t?t.user._id:null,customerId:this.customerId,address:e.data.address,phone:e.data.phone,email:e.data.email||"",nameCustomer:e.data.fullName,products:[...this.ordersProducts],totalCostOfProducts:this.totalCostOfProducts,paymentMethod:this.paymentMethod,transportFee:this.transportFee,totalAmount:this.totalAmount,note:this.note,pricePayed:0};if(this.isSubmit)if("VNPAY"==this.paymentMethod){const t=await zo.create(s),e=t.data.data;if(t.data.status){const t=await zo.paymentVNPAY("admin/order-create",{totalAmount:e.totalAmount,orderId:e._id});window.location.href=t.data}}else if("MOMO"==this.paymentMethod){const t=await zo.create(s),e=t.data.data;if(t.data.status){const t=await zo.paymentMOMO("admin/order-create",{totalAmount:e.totalAmount,orderId:e._id});window.location.href=t.data}}else{const t=await zo.create(s);t.data.status?(this.products=[],this.accessorys=[],this.product={},this.ordersProducts=[{typeProduct:"",idProduct:"",quantity:0,priceSale:0}],this.customerId="",this.isSubmit=!0,this.isClassCod=!1,this.isClassOnl=!1,this.totalAmount=0,this.totalCostOfProducts=0,this.transportFee=0,this.note="",alert(t.data.mes)):alert(t.data.mes)}else alert("Kiểm tra lại dữ liệu đã nhập")}catch(t){console.log(t)}},checkQuantity(t,e){t.target.value<=0||t.target.value>e.inputQuantity?(t.target.style.borderColor="red",this.isSubmit=!1,this.totalAmount=0,this.totalCostOfProducts=0,this.transportFee=0):(this.totalProduct(),t.target.style.borderColor="#0E8388",this.isSubmit=!0)},async paymentMeThod(t){this.choosePayent=!1,"COD"==t?(this.isClassCod=!this.isClassCod,this.isClassCod?(this.paymentMethod="COD",this.isClassOnlVNPAY=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"VNPAY"==t?(this.isClassOnlVNPAY=!this.isClassOnlVNPAY,this.isClassOnlVNPAY?(this.paymentMethod="VNPAY",this.isClassCod=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"MOMO"==t&&(this.isClassOnlMOMO=!this.isClassOnlMOMO,this.isClassOnlMOMO?(this.paymentMethod="MOMO",this.isClassCod=!1,this.isClassOnlVNPAY=!1):this.paymentMethod="")}},mounted(){this.getAllCustomers(),this.isPaymentSuccess()}};const QK=(0,ft.Z)(jK,[["render",LK],["__scopeId","data-v-648464c0"]]);var GK=QK;const WK=t=>((0,i.dD)("data-v-57c55e54"),t=t(),(0,i.Cn)(),t),JK={class:"admin-add-order"},XK=WK((()=>(0,i._)("h3",null,"Các đơn hàng",-1))),tL={class:"d-flex justify-content-end align-items-center my-3"},eL={class:"input-admin-filter"},sL=WK((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),aL=["value"],iL=WK((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),nL=["value"],lL=WK((()=>(0,i._)("option",{value:"0"},"Năm",-1))),oL=["value"],rL=WK((()=>(0,i._)("option",{value:""},"Chọn kiểu",-1))),cL=WK((()=>(0,i._)("option",{value:"0"},"Tất cả",-1))),dL=WK((()=>(0,i._)("option",{value:"createdAt"},"Ngày tạo",-1))),hL=WK((()=>(0,i._)("option",{value:"updatedAt"},"Ngày sửa",-1))),pL=[rL,cL,dL,hL],uL=WK((()=>(0,i._)("button",null,"Lọc",-1))),mL={class:"admin-export"},gL=WK((()=>(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1))),yL=WK((()=>(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1))),fL={class:"order-status d-flex mb-3"},vL={class:"w-100"},_L=WK((()=>(0,i._)("th",{class:"col-1"},"STT",-1))),wL={class:"col-2"},bL={class:"admin-table-title"},kL=WK((()=>(0,i._)("p",null,"Mã số đơn hàng",-1))),CL={class:"admin-sort"},xL=WK((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),SL={class:"admin-sort-list"},DL={class:"filter-admin-input"},TL={class:"col"},PL={class:"admin-table-title"},IL=WK((()=>(0,i._)("p",null,"Tên khách hàng",-1))),AL={class:"admin-sort"},UL=WK((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),qL={class:"admin-sort-list"},NL={class:"filter-admin-input"},zL={class:"col"},FL={class:"admin-table-title"},OL=WK((()=>(0,i._)("p",null,"Trạng thái",-1))),ML={class:"admin-sort"},VL=WK((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),EL={class:"admin-sort-list"},$L={class:"filter-admin-input"},BL={class:"col"},RL={class:"admin-table-title"},HL=WK((()=>(0,i._)("p",null,"Hình thức",-1))),YL={class:"admin-sort"},KL=WK((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),LL={class:"admin-sort-list"},ZL={class:"col"},jL={class:"admin-table-title"},QL=WK((()=>(0,i._)("p",null,[(0,i.Uk)("Cách thức "),(0,i._)("br"),(0,i.Uk)("thanh toán")],-1))),GL={class:"admin-sort"},WL=WK((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),JL={class:"admin-sort-list"},XL={class:"filter-admin-input"},tZ={class:"col-1"},eZ={class:"admin-table-title"},sZ=WK((()=>(0,i._)("p",null,"Thanh toán",-1))),aZ={class:"admin-sort"},iZ=WK((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),nZ={class:"admin-sort-list"},lZ=WK((()=>(0,i._)("th",{class:"col"},"Ngày thanh toán tiếp theo",-1))),oZ=WK((()=>(0,i._)("th",{class:"col text-center"},"Hành động",-1))),rZ={class:"col-1 text-center"},cZ={class:"col-2"},dZ={class:"col"},hZ={class:"col"},pZ={class:"col"},uZ={class:"col"},mZ={key:0,class:"col text-center p-0 fs-4"},gZ={key:0,class:"fs-6"},yZ={key:1,class:"fa-solid fa-check text-success"},fZ={key:1,class:"col text-center p-0 fs-4 text-success"},vZ=WK((()=>(0,i._)("i",{class:"fa-solid fa-check"},null,-1))),_Z=[vZ],wZ={key:2,class:"col text-center p-0"},bZ={key:3,class:"col text-center p-0"},kZ={class:"col"},CZ={class:"col text-center"},xZ=["onClick"],SZ=WK((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1))),DZ=[SZ],TZ=["onClick"],PZ=WK((()=>(0,i._)("i",{class:"fa-solid fa-print"},null,-1))),IZ=[PZ],AZ={class:"product-pagination mt-5"},UZ={class:"pagination"},qZ=WK((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),NZ=[qZ],zZ=WK((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),FZ=["onClick"],OZ=WK((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),MZ=WK((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),VZ=[MZ];function EZ(t,e,s,a,l,o){const r=(0,i.up)("adminRentalDetail");return(0,i.wg)(),(0,i.iD)("div",JK,[XK,(0,i._)("div",tL,[(0,i._)("div",eL,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[sL,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,aL))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[iL,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,nL))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[lL,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,oL)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},pL,512),[[A.bM,l.dateFilter.field]]),uL],32),(0,i._)("div",mL,[(0,i._)("div",{class:"btn btn-success",onClick:e[5]||(e[5]=(...t)=>o.exportToExcel&&o.exportToExcel(...t))},[gL,(0,i.Uk)(" Excel ")]),(0,i._)("div",{class:"btn btn-warning",onClick:e[6]||(e[6]=(...t)=>o.exportToPDF&&o.exportToPDF(...t))},[yL,(0,i.Uk)(" Pdf")])])])]),(0,i._)("div",fL,[(0,i._)("span",{onClick:e[7]||(e[7]=t=>o.sort3("Đang xử lý","status")),class:"order-status-item me-3",style:{"--color":"#1e90ff"}},[(0,i.Uk)("Đang xử lý "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Đang xử lý"==t.status)).length),1)]),(0,i._)("span",{onClick:e[8]||(e[8]=t=>o.sort3("Đang vận chuyển","status")),class:"order-status-item me-3",style:{"--color":"#C63D2F"}},[(0,i.Uk)("Đang vận chuyển "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Đang vận chuyển"==t.status)).length),1)]),(0,i._)("span",{onClick:e[9]||(e[9]=t=>o.sort3("Đã giao hàng","status")),class:"order-status-item me-3",style:{"--color":"green"}},[(0,i.Uk)("Đã giao hàng "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Đã giao hàng"==t.status)).length),1)]),(0,i._)("span",{onClick:e[10]||(e[10]=t=>o.sort3("Đang sử dụng","status")),class:"order-status-item me-3",style:{"--color":"#E9B824"}},[(0,i.Uk)("Đang sử dụng "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Đang sử dụng"==t.status)).length),1)]),(0,i._)("span",{onClick:e[11]||(e[11]=t=>o.sort3("Dừng thuê","status")),class:"order-status-item me-3",style:{"--color":"#61677A"}},[(0,i.Uk)("Dừng thuê "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Dừng thuê"==t.status)).length),1)]),(0,i._)("span",{onClick:e[12]||(e[12]=t=>o.sort3("Hủy đơn","status")),class:"order-status-item me-3",style:{"--color":"#FE0000"}},[(0,i.Uk)("Hủy đơn "),(0,i._)("span",null,(0,n.zw)(l.data.filter((t=>"Hủy đơn"==t.status)).length),1)]),(0,i._)("span",{onClick:e[13]||(e[13]=(...t)=>o.sort2&&o.sort2(...t)),class:"order-status-item me-3",style:{"--color":"#4F709C"}},[(0,i.Uk)("Đến hạn thanh toán "),(0,i._)("span",null,(0,n.zw)(l.dealineRental.length),1)])]),(0,i._)("div",{class:(0,n.C_)(["isSort",{"isSort-active":l.isSort}])},[(0,i._)("span",{onClick:e[14]||(e[14]=(...t)=>o.offSort&&o.offSort(...t))},"Đang lọc")],2),(0,i._)("table",vL,[(0,i._)("thead",null,[(0,i._)("tr",null,[_L,(0,i._)("th",wL,[(0,i._)("div",bL,[kL,(0,i._)("div",CL,[xL,(0,i._)("ul",SL,[(0,i._)("div",DL,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[15]||(e[15]=t=>l.filterInput=t),onInput:e[16]||(e[16]=t=>o.handleFitter("_id"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",TL,[(0,i._)("div",PL,[IL,(0,i._)("div",AL,[UL,(0,i._)("ul",qL,[(0,i._)("li",{onClick:e[17]||(e[17]=t=>o.sort(1,"fullName"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[18]||(e[18]=t=>o.sort(-1,"fullName"))},"Từ Z về A"),(0,i._)("div",NL,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[19]||(e[19]=t=>l.filterInput=t),onInput:e[20]||(e[20]=t=>o.handleFitter("fullName"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",zL,[(0,i._)("div",FL,[OL,(0,i._)("div",ML,[VL,(0,i._)("ul",EL,[(0,i._)("div",$L,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[21]||(e[21]=t=>l.filterInput=t),onInput:e[22]||(e[22]=t=>o.handleFitter("status"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",BL,[(0,i._)("div",RL,[HL,(0,i._)("div",YL,[KL,(0,i._)("ul",LL,[(0,i._)("li",{onClick:e[23]||(e[23]=t=>o.sort(!1,"IsOnlineOrder"))},"Tại cửa hàng"),(0,i._)("li",{onClick:e[24]||(e[24]=t=>o.sort(!0,"IsOnlineOrder"))},"Online")])])])]),(0,i._)("th",ZL,[(0,i._)("div",jL,[QL,(0,i._)("div",GL,[WL,(0,i._)("ul",JL,[(0,i._)("li",{onClick:e[25]||(e[25]=t=>o.sort("COD","paymentMethod"))},"COD"),(0,i._)("li",{onClick:e[26]||(e[26]=t=>o.sort("Online","paymentMethod"))},"Online"),(0,i._)("div",XL,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[27]||(e[27]=t=>l.filterInput=t),onInput:e[28]||(e[28]=t=>o.handleFitter("paymentMethod"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",tZ,[(0,i._)("div",eZ,[sZ,(0,i._)("div",aZ,[iZ,(0,i._)("ul",nZ,[(0,i._)("li",{onClick:e[29]||(e[29]=t=>o.sort(!1,"isPayment"))},"Chưa thanh toán"),(0,i._)("li",{onClick:e[30]||(e[30]=t=>o.sort(!0,"isPayment"))},"Đã thanh toán ")])])])]),lZ,oZ])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.orders,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t._id},[(0,i._)("td",rZ,(0,n.zw)(e+1),1),(0,i._)("td",cZ,(0,n.zw)(t._id),1),(0,i._)("td",dZ,(0,n.zw)(t.nameCustomer),1),(0,i._)("td",hZ,(0,n.zw)(t.status),1),(0,i._)("td",pZ,(0,n.zw)(t.IsOnlineOrder?" Trực tuyến":"Tại của hàng"),1),(0,i._)("td",uZ,(0,n.zw)(t.paymentMethod),1),t.payInFull||t.totalAmount==t.pricePayed?((0,i.wg)(),(0,i.iD)("td",mZ,[t.totalAmount>t.pricePayed?((0,i.wg)(),(0,i.iD)("span",gZ,"Chưa thanh toán")):((0,i.wg)(),(0,i.iD)("i",yZ))])):o.daysUntilDue(new Date,t.datePay)>0&&!t.payInFull&&t.totalAmount>t.pricePayed?((0,i.wg)(),(0,i.iD)("td",fZ,_Z)):0==o.daysUntilDue(new Date,t.datePay)?((0,i.wg)(),(0,i.iD)("td",wZ," Đến hạn thanh toán ")):o.daysUntilDue(new Date,t.datePay)<0?((0,i.wg)(),(0,i.iD)("td",bZ," Quá hạn thanh toán "+(0,n.zw)(Math.abs(o.daysUntilDue(new Date,t.datePay)))+" ngày ",1)):(0,i.kq)("",!0),(0,i._)("td",kZ,(0,n.zw)(t.payInFull?"Thanh toán toàn bộ":t.totalAmount>t.pricePayed?o.formatDate(t.datePay):"Thanh toán xong"),1),(0,i._)("td",CZ,[(0,i._)("span",{class:"btn btn-outline-info",onClick:e=>o.openDetail(t._id)},DZ,8,xZ),(0,i._)("span",{class:"btn btn-outline-warning ms-3",onClick:e=>o.printPDF(t._id)},IZ,8,TZ)])])))),128))])]),l.activeDetail?((0,i.wg)(),(0,i.j4)(r,{key:0,id:l.id,paymentSuccess:l.paymentSuccess,onCloseDetail:o.closeDetail,onCloseSuccess:o.closeSuccess},null,8,["id","paymentSuccess","onCloseDetail","onCloseSuccess"])):(0,i.kq)("",!0),(0,i._)("div",AZ,[(0,i._)("ul",UZ,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[31]||(e[31]=(...t)=>o.previousPage&&o.previousPage(...t))},NZ)]),zZ,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,FZ)])))),128)),OZ,(0,i._)("li",null,[(0,i._)("span",{onClick:e[32]||(e[32]=(...t)=>o.nextPage&&o.nextPage(...t))},VZ)])])])])}const $Z=t=>((0,i.dD)("data-v-d19b912a"),t=t(),(0,i.Cn)(),t),BZ={class:"overlay"},RZ=$Z((()=>(0,i._)("div",{class:"modal-success text-success"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán thành công")],-1))),HZ=[RZ],YZ=$Z((()=>(0,i._)("div",{class:"modal-success text-danger"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-xmark"})])]),(0,i._)("h3",{class:""},"Thanh toán không thành công")],-1))),KZ=[YZ],LZ={class:"payment-status"},ZZ={class:"d-flex justify-content-end"},jZ=$Z((()=>(0,i._)("h4",null,"Chi tiết đơn hàng",-1))),QZ={class:"row"},GZ={class:"col-lg-3"},WZ={class:"status-info"},JZ=$Z((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-gear"}),(0,i.Uk)(" Thông tin đơn hàng")],-1))),XZ=$Z((()=>(0,i._)("hr",null,null,-1))),tj={class:"mb-1"},ej=$Z((()=>(0,i._)("strong",{class:"me-2"},"Mã:",-1))),sj={class:"mb-1"},aj=$Z((()=>(0,i._)("strong",{class:"me-2"},"Ngày thuê:",-1))),ij={key:0,class:"text-start"},nj=$Z((()=>(0,i._)("strong",{class:"me-2"},"Ngày thanh toán tiếp:",-1))),lj={key:1,class:"text-start"},oj=$Z((()=>(0,i._)("strong",{class:"me-2"},"Ngày thanh toán tiếp:",-1))),rj={class:"col-lg-3"},cj={class:"status-info text-start"},dj=$Z((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-credit-card"}),(0,i.Uk)(" Thanh toán")],-1))),hj=$Z((()=>(0,i._)("hr",null,null,-1))),pj={class:"mb-2"},uj=$Z((()=>(0,i._)("strong",{class:"me-2"},"Hình thức thanh toán:",-1))),mj=$Z((()=>(0,i._)("strong",{class:"me-2"},"Trạng thái thanh toán:",-1))),gj={class:"col-lg-3"},yj={class:"status-info text-start"},fj=$Z((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-truck"}),(0,i.Uk)(" Khách hàng")],-1))),vj=$Z((()=>(0,i._)("hr",null,null,-1))),_j={class:"scroll-address"},wj=$Z((()=>(0,i._)("strong",{class:"me-2"},"Tên:",-1))),bj=$Z((()=>(0,i._)("strong",{class:"me-2"},"Số điện thoại:",-1))),kj=$Z((()=>(0,i._)("strong",{class:"me-2"},"Địa chỉ:",-1))),Cj=$Z((()=>(0,i._)("strong",{class:"me-2"},"Email:",-1))),xj={class:"col-lg-3"},Sj={class:"status-info"},Dj=$Z((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-note-sticky"}),(0,i.Uk)(" Ghi chú")],-1))),Tj=$Z((()=>(0,i._)("hr",null,null,-1))),Pj=$Z((()=>(0,i._)("i",{class:"fa-solid fa-notes-medical"},null,-1))),Ij={class:"status mt-1"},Aj=$Z((()=>(0,i._)("h5",{class:"mt-2 mb-4"},"Trạng thái đơn hàng",-1))),Uj={key:0,class:"status-progress"},qj=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:red;" data-v-d19b912a></div><div class="progress-item" style="--left:2%;" data-v-d19b912a><span style="--border-color:red;" data-v-d19b912a>1</span><span data-v-d19b912a>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-d19b912a><span style="--border-color:red;" data-v-d19b912a>2</span><span data-v-d19b912a>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-d19b912a><span style="--border-color:red;" data-v-d19b912a>3</span><span data-v-d19b912a>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-d19b912a><span style="--border-color:red;" data-v-d19b912a>4</span><span data-v-d19b912a>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-d19b912a><span style="--border-color:red;" data-v-d19b912a>5</span><span data-v-d19b912a>Dừng thuê</span></div>',6),Nj=[qj],zj={key:1,class:"status-progress"},Fj=(0,i.uE)('<div class="status-progress-color" style="--left:89%;--colorB:#11e911;" data-v-d19b912a></div><div class="progress-item" style="--left:2%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>1</span><span data-v-d19b912a>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>2</span><span data-v-d19b912a>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>3</span><span data-v-d19b912a>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>4</span><span data-v-d19b912a>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>5</span><span data-v-d19b912a>Dừng thuê</span></div>',6),Oj=[Fj],Mj={key:2,class:"status-progress"},Vj=(0,i.uE)('<div class="status-progress-color" style="--left:68%;--colorB:#11e911;" data-v-d19b912a></div><div class="progress-item" style="--left:2%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>1</span><span data-v-d19b912a>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>2</span><span data-v-d19b912a>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>3</span><span data-v-d19b912a>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>4</span><span data-v-d19b912a>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>5</span><span data-v-d19b912a>Dừng thuê</span></div>',6),Ej=[Vj],$j={key:3,class:"status-progress"},Bj=(0,i.uE)('<div class="status-progress-color" style="--left:48%;--colorB:#11e911;" data-v-d19b912a></div><div class="progress-item" style="--left:2%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>1</span><span data-v-d19b912a>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>2</span><span data-v-d19b912a>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>3</span><span data-v-d19b912a>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>4</span><span data-v-d19b912a>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>5</span><span data-v-d19b912a>Dừng thuê</span></div>',6),Rj=[Bj],Hj={key:4,class:"status-progress"},Yj=(0,i.uE)('<div class="status-progress-color" style="--left:27%;--colorB:#11e911;" data-v-d19b912a></div><div class="progress-item" style="--left:2%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>1</span><span data-v-d19b912a>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>2</span><span data-v-d19b912a>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>3</span><span data-v-d19b912a>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>4</span><span data-v-d19b912a>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-d19b912a><span style="--border-color:blue;" data-v-d19b912a>5</span><span data-v-d19b912a>Dừng thuê</span></div>',6),Kj=[Yj],Lj={key:5,class:"status-progress"},Zj=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:#11e911;" data-v-d19b912a></div><div class="progress-item" style="--left:2%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>1</span><span data-v-d19b912a>Đang xử lý</span></div><div class="progress-item" style="--left:23%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>2</span><span data-v-d19b912a>Đang vận chuyển</span></div><div class="progress-item" style="--left:43%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>3</span><span data-v-d19b912a>Đã giao hàng</span></div><div class="progress-item" style="--left:63%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>4</span><span data-v-d19b912a>Đang sử dụng</span></div><div class="progress-item" style="--left:85%;" data-v-d19b912a><span style="--border-color:#11e911;" data-v-d19b912a>5</span><span data-v-d19b912a>Dừng thuê</span></div>',6),jj=[Zj],Qj={key:11,disabled:"",class:"btn btn-success mt-5 mb-1"},Gj={key:12,disabled:"",class:"btn btn-danger mt-5 mb-1"},Wj={class:"row mt-1"},Jj={class:"col-lg-8"},Xj={class:"order-detail"},tQ=$Z((()=>(0,i._)("h5",null,"Danh sách sản phẩm",-1))),eQ={class:"w-100 order-detail-td"},sQ=$Z((()=>(0,i._)("thead",null,[(0,i._)("tr",{class:"row gx-0"},[(0,i._)("th",{class:"col-1 text-center"},"STT"),(0,i._)("th",{class:"col-4"},"Tên"),(0,i._)("th",{class:"col-3"},"Giá thuê"),(0,i._)("th",{class:"col-2"},"Số lượng"),(0,i._)("th",{class:"col-2"},"Loại")])],-1))),aQ={class:"order-scroll"},iQ={class:"col-1 text-center"},nQ={class:"col-4"},lQ={class:"col-3"},oQ={class:"col-2"},rQ=$Z((()=>(0,i._)("td",{class:"col-2"},(0,n.zw)("Máy"),-1))),cQ={class:"col-lg-4"},dQ={class:"order-total"},hQ=$Z((()=>(0,i._)("h5",null,"Chi tiết thanh toán",-1))),pQ={class:"row text-left"},uQ=$Z((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Tổng tiền hàng:")],-1))),mQ={class:"col-lg-6 mb-2"},gQ=$Z((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Số tháng thuê")],-1))),yQ={class:"col-lg-6 mb-2"},fQ=$Z((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Tổng cộng")],-1))),vQ={class:"col-lg-6 mb-2"},_Q=$Z((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Số tiền đã thanh toán")],-1))),wQ={class:"col-lg-6 mb-2"},bQ=$Z((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Số tiền phải thanh toán")],-1))),kQ={class:"col-lg-6 mb-2"};function CQ(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",BZ,[s.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"overlay",onClick:e[0]||(e[0]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},HZ)):(0,i.kq)("",!0),0==s.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[1]||(e[1]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},KZ)):(0,i.kq)("",!0),(0,i._)("div",LZ,[(0,i._)("div",ZZ,[(0,i._)("i",{onClick:e[2]||(e[2]=(...t)=>o.closeDetail&&o.closeDetail(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),jZ,(0,i._)("div",QZ,[(0,i._)("div",GZ,[(0,i._)("div",WZ,[JZ,XZ,(0,i._)("span",tj,[ej,(0,i.Uk)((0,n.zw)(l.order._id),1)]),(0,i._)("span",sj,[aj,(0,i.Uk)(" "+(0,n.zw)(l.order.createdAt),1)]),l.order.totalAmount>l.order.pricePayed?((0,i.wg)(),(0,i.iD)("span",ij,[nj,(0,i.Uk)(" "+(0,n.zw)(l.order.payInFull?"Đã thanh toán toàn bộ":l.order.datePay),1)])):((0,i.wg)(),(0,i.iD)("span",lj,[oj,(0,i.Uk)(" "+(0,n.zw)(l.order.payInFull?"Đã thanh toán toàn bộ":"Thanh toán hoàn tất"),1)]))])]),(0,i._)("div",rj,[(0,i._)("div",cj,[dj,hj,(0,i._)("span",pj,[uj,(0,i.Uk)((0,n.zw)(l.order.paymentMethod),1)]),(0,i._)("span",null,[mj,(0,i.Uk)((0,n.zw)(l.order.isPayment),1)])])]),(0,i._)("div",gj,[(0,i._)("div",yj,[fj,vj,(0,i._)("div",_j,[(0,i._)("span",null,[wj,(0,i.Uk)((0,n.zw)(l.order.nameCustomer),1)]),(0,i._)("span",null,[bj,(0,i.Uk)((0,n.zw)(l.order.phone),1)]),(0,i._)("span",null,[kj,(0,i.Uk)((0,n.zw)(l.order.address),1)]),(0,i._)("span",null,[Cj,(0,i.Uk)((0,n.zw)(l.order.email),1)])])])]),(0,i._)("div",xj,[(0,i._)("div",Sj,[Dj,Tj,(0,i.wy)((0,i._)("textarea",{placeholder:"Ghi chú đơn hàng","onUpdate:modelValue":e[3]||(e[3]=t=>l.order.note=t)},null,512),[[A.nr,l.order.note]]),(0,i._)("button",{class:"btn-note",onClick:e[4]||(e[4]=t=>o.update(l.order._id,{note:l.order.note}))},[Pj,(0,i.Uk)(" Cập nhật")])])])]),(0,i._)("div",Ij,[Aj,"Hủy đơn"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Uj,Nj)):(0,i.kq)("",!0),"Đang xử lý"===l.order.status?((0,i.wg)(),(0,i.iD)("div",zj,Oj)):(0,i.kq)("",!0),"Đang vận chuyển"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Mj,Ej)):(0,i.kq)("",!0),"Đã giao hàng"===l.order.status?((0,i.wg)(),(0,i.iD)("div",$j,Rj)):(0,i.kq)("",!0),"Đang sử dụng"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Hj,Kj)):(0,i.kq)("",!0),"Dừng thuê"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Lj,jj)):(0,i.kq)("",!0),"Đang xử lý"===l.order.status&&0==l.order.isPayment?((0,i.wg)(),(0,i.iD)("div",{key:6,class:"btn btn-danger mt-5 me-2 mb-1",onClick:e[5]||(e[5]=t=>o.update(l.order._id,{status:"Hủy đơn"}))},"Hủy đơn hàng")):(0,i.kq)("",!0),"Đang xử lý"===l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:7,class:"btn btn-warning mt-5 mb-1",onClick:e[6]||(e[6]=t=>o.update(l.order._id,{status:"Đang vận chuyển"}))},"Cập nhật")):"Đang vận chuyển"===l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:8,class:"btn btn-warning mt-5 mb-1",onClick:e[7]||(e[7]=t=>o.update(l.order._id,{status:"Đã giao hàng"}))},"Cập nhật")):"Đã giao hàng"===l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:9,class:"btn btn-warning mt-5 mb-1",onClick:e[8]||(e[8]=t=>o.update(l.order._id,{status:"Đang sử dụng"}))},"Cập nhật")):"Đang sử dụng"===l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:10,class:"btn btn-warning mt-5 mb-1",onClick:e[9]||(e[9]=t=>o.update(l.order._id,{status:"Dừng thuê",products:l.order.products}))},"Cập nhật")):"Dừng thuê"==l.order.status?((0,i.wg)(),(0,i.iD)("button",Qj,"Hoàn thành")):"Hủy đơn"==l.order.status?((0,i.wg)(),(0,i.iD)("button",Gj,"Đơn hàng bị hủy")):(0,i.kq)("",!0)]),(0,i._)("div",Wj,[(0,i._)("div",Jj,[(0,i._)("div",Xj,[tQ,(0,i._)("table",eQ,[sQ,(0,i._)("tbody",aQ,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.order.products,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row gx-0",key:e},[(0,i._)("td",iQ,(0,n.zw)(e+1),1),(0,i._)("td",nQ,(0,n.zw)(t.nameProduct),1),(0,i._)("td",lQ,(0,n.zw)(t.priceRental),1),(0,i._)("td",oQ,(0,n.zw)(t.quantity),1),rQ])))),128))])])])]),(0,i._)("div",cQ,[(0,i._)("div",dQ,[hQ,(0,i._)("div",pQ,[uQ,(0,i._)("span",mQ,(0,n.zw)(l.order.totalCostOfProducts),1),gQ,(0,i._)("span",yQ,(0,n.zw)(l.order.quantityMonth),1),fQ,(0,i._)("span",vQ,(0,n.zw)(o.formatPrice(l.order.totalAmount)),1),_Q,(0,i._)("span",wQ,(0,n.zw)(o.formatPrice(l.order.pricePayed)),1),bQ,(0,i._)("span",kQ,(0,n.zw)(l.order.payInFull?o.formatPrice(l.order.totalAmount):o.formatPrice(l.order.priceMonth)),1)]),l.order.totalAmount>l.order.pricePayed&&"Hủy đơn"!=l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"btn btn-info me-1",onClick:e[10]||(e[10]=t=>o.paymentByVnPay(l.order))},"VNPay")):(0,i.kq)("",!0),l.order.totalAmount>l.order.pricePayed&&"Hủy đơn"!=l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"btn btn-danger me-1",onClick:e[11]||(e[11]=t=>o.paymentByMOMO(l.order))},"MOMO")):(0,i.kq)("",!0),l.order.totalAmount>l.order.pricePayed&&"Hủy đơn"!=l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"btn btn-success",onClick:e[12]||(e[12]=t=>o.paymentByCOD(l.order))},"COD")):(0,i.kq)("",!0),(0,i._)("div",{class:"btn btn-warning ms-1",onClick:e[13]||(e[13]=(...t)=>o.printPDF&&o.printPDF(...t))},"In phiếu ")])])])])])}function xQ(t={}){const e=JSON.parse(sessionStorage.getItem("user"));let s="";t.products.forEach(((t,e)=>{s+=` \n        <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; padding-bottom: 10px;">\n        <div style="width: 8.333333%; margin-top: 10px;">\n        ${e+1}. \n     </div>\n     <div style="width: 16.6666667%; margin-top: 10px;">\n         ${t.nameProduct}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n         ${t.priceRental}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n         ${t.quantity}\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n         Máy\n     </div>\n     <div style="width: 16.6666666667%; margin-top: 10px;">\n        \n    </div>\n        </div>\n     `}));const a=`\n   <div style="height:100%">\n        <h4 style=" margin: 20px; font-size: 18px;">Số: ${t._id}</h4>\n        <div style="width: 100%;">\n            <h4 style="text-align: center; font-size: 30px; margin: 0px;">Phiếu Đơn hàng Thuê</h4>\n            <br>\n            <h4 style="text-align: center; font-size: 20px; margin: 0px;">Ngày tạo phiếu: ${t.createdAt}</h4>\n        </div>\n        <div style="display: flex; justify-content: center; align-items: center;">\n            <div style="width: 50%; text-align:center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Nhân viên in phiếu</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Họ và tên: </b>${e.user?.fullName}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${e.user?.phoneNumber}</span>\n                </div>\n            </div>\n\n            <div style="width: 50%; text-align: center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Thông tin khách hàng</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Tên: </b>${t.nameCustomer}</span>\n                        <br>\n                        <span><b>Địa chỉ: </b>${t.address}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${t.phone}</span>\n                </div>\n            </div>\n        </div>\n        <h5 style="text-align: center; font-size: 16px;">Danh sách sản phẩm</h5>\n        <div style="margin: 20px 0; ">\n            <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; height: 50px; line-height: 50px;">\n                <div style="width: 8.333333%;">\n                    STT\n                </div>\n                <div style="width: 16.66666667%;">\n                    Tên Sản phẩm\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Giá\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Số lượng\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Loại hàng\n                </div>\n                <div style="width: 16.6666666667%;">\n                    Ghi chú\n                </div>\n            </div>\n            ${s}\n        </div>\n        <div style="width: 100%;">\n            <div style="font-size: 20px; margin-right: 10px; display: flex; flex-direction: column; align-items: flex-end; justify-content: flex-start;">\n                <span style="margin-bottom:10px"><b>Tổng giá sản phẩm</b>: ${t.totalCostOfProducts}</span>\n                <span style="margin-bottom:10px"><b>Phí vận chuyển</b>: ${t.transportFee}</span>\n                <span style="margin-bottom:10px"><b>Tổng cộng</b>: ${mt.formatCurrency(t.totalAmount)}</span>\n                <span style="margin-bottom:10px"><b>Số tiền phải thu</b>: ${t.isPayment?mt.formatCurrency(0):mt.formatCurrency(t.totalAmount)}</span>\n            </div>\n        </div>\n        <div style="margin-top: 40px; height: 150px;">\n            <div style="width: 50%; float: left; text-align:center;">\n                <b>Người giao</b></br>\n                (Ký, họ tên)\n            </div>\n            <div style="width: 50%; float: left; text-align:center;">\n                <b>Người nhận</b></br>\n                (Ký, họ tên)\n            </div>\n        </div>\n    </div>\n`;return a}var SQ=xQ,DQ={data(){return{order:{}}},props:["id","paymentSuccess"],emits:["closeDetail","openDetail","closeSuccess"],methods:{closeDetail(){this.$emit("closeDetail")},closeSuccess(){this.$emit("closeSuccess")},async getOrderById(){try{const t=await Oo.getById(this.id);this.order=t.data,this.order.createdAt=mt.formatDate(this.order.createdAt),this.order.datePay=mt.formatDateNoTime(this.order.datePay),this.order.totalCostOfProducts=mt.formatCurrency(this.order.totalCostOfProducts),this.order.VAT=mt.formatCurrency(this.order.VAT),this.order.products.forEach((t=>{t.priceRental=mt.formatCurrency(t.priceRental)}))}catch(t){console.log(t)}},formatPrice(t){return mt.formatCurrency(t)},async update(t,e){try{const s=await Oo.update(t,e);s.data.status&&(alert("Thay đổi thành công"),this.getOrderById())}catch(s){console.log(s)}},async paymentByVnPay(t){try{const e={totalAmount:t.payInFull?t.totalAmount:t.priceMonth,orderId:t._id};if("Hủy đơn"==t.status)return void alert("Đơn hàng đã bị hủy");const s=await Oo.paymentVNPAY("admin/rental",e);window.location.href=s.data}catch(e){console.log(e)}},async paymentByMOMO(t){try{const e={totalAmount:t.payInFull?t.totalAmount:t.priceMonth,orderId:t._id};if("Hủy đơn"==t.status)return void alert("Đơn hàng đã bị hủy");if(e.totalAmount>5e7)return void alert("Số tiền thanh toán với momo phải bé hơn 50 triệu");const s=await Oo.paymentMOMO("admin/rental",e);window.location.href=s.data}catch(e){console.log(e)}},async paymentByCOD(t){try{if(confirm(`Thanh toán tiền mặt với số tiền ${t.payInFull?this.formatPrice(t.totalAmount):this.formatPrice(t.priceMonth)}`)){const e=await Oo.updateByCod(t._id);e.data.status?(alert("Thanh toán thành công"),this.getOrderById()):alert("Thanh toán thất bại")}}catch(e){console.log(e)}},async printPDF(){const t=SQ(this.order);uT(t,"Phiếu đơn hàng thuê")}},mounted(){this.getOrderById()}};const TQ=(0,ft.Z)(DQ,[["render",CQ],["__scopeId","data-v-d19b912a"]]);var PQ=TQ;function IQ(t=[]){let e="";t.forEach(((t,s)=>{e+=`\n            <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px;  width: 100%; height: ca;">\n                <td  style="width: 3%;  border: 1px solid #111" >${s+1}</td>\n                <td style="width: 12%; border: 1px solid #111; overflow: hidden;">${t._id}</td>\n                <td style="width: 12%; border: 1px solid #111;">${t.customerId.fullName}</td>\n                <td style="width: 6%; border: 1px solid #111;">${t.customerId.phone}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.customerId.address}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.IsOnlineOrder?"Online":"Tại cửa hàng"}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.status}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.paymentMethod}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.isPayment?"Đã thanh toán":"Chưa thanh toán"}</td>\n                <td style="width: 10%; border: 1px solid #111;">${mt.formatCurrency(t.totalAmount)}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.createdAt}</td>\n            </tr>\n        `}));const s=`\n        <div style="width: 100%; ">\n        <div>\n            <div style="width: 100%;">\n                <h4 style="text-align: center; font-size: 25px; margin: 0px;">Phiếu Thông tin nhân viên</h4>\n                <br>\n                <h4 style="text-align: center; font-size: 15px; margin: 0px;">Ngày tạo: ${mt.formatDate(new Date)}</h4>\n            </div>\n        </div>\n\n        <h4 style="text-align: center; font-size: 18px;">Bảng tất cả đơn hàng thuê</h4>\n        <table style=" border-spacing: 0px; border: 1px solid #111">\n            <thead style="background-color: #ccc; width:50px">\n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px; width: 100%;">\n                    <th style="width: 3%;border: 1px solid #111">STT</th>\n                    <th  style="width: 12%; border: 1px solid #111">Mã đơn</th>\n                    <th style="width: 12%; border: 1px solid #111;">Tên khách hàng</th>\n                    <th style="width: 6%; border: 1px solid #111;">Số điện thoại</th>\n                    <th style="width: 10%; border: 1px solid #111;">Địa chỉ</th>\n                    <th style="width: 10%; border: 1px solid #111;">Hình thức mua</th>\n                    <th style="width: 10%; border: 1px solid #111;">Trạng thái đơn hàng</th>\n                    <th style="width: 10%; border: 1px solid #111;">Hình thức thanh toán</th>\n                    <th style="width: 10%; border: 1px solid #111;">Trạng thái thanh toán</th>\n                    <th style="width: 10%; border: 1px solid #111;">Tổng giá</th>\n                    <th style="width: 10%; border: 1px solid #111;">Ngày tạo</th>\n                </tr>\n            </thead>\n            <tbody style="width: 100%;">\n                ${e}\n            </tbody>\n        </table>\n        <div style="margin-top: 20px; font-size: 20px; display: flex; justify-content: flex-end; width: 100%;">\n            <strong>Tổng số đơn hàng: </strong><span style="margin-left: 10px;">${t.length}</span>\n        </div>\n            \n    `;return s}var AQ=IQ,UQ={components:{adminRentalDetail:PQ},data(){return{orders:[],pageNumber:1,pageSize:8,lengthPage:1,activePage:1,years:[],dateFilter:{day:"0",month:"0",year:"0",field:""},filterInput:"",isSort:!1,activeDetail:!1,paymentSuccess:null,id:"",data:[],dealineRental:[]}},methods:{async dealine(){const t=await Oo.getAll();this.data=[...t.data];const e=new Date;this.data.forEach((t=>{t.totalAmount>t.pricePayed&&!t.payInFull&&this.daysUntilDue(e,t.datePay)<=5&&this.dealineRental.push(t)}))},sort2(){this.orders=this.dealineRental,this.isSort=!0},daysUntilDue(t,e){const s=new Date(t),a=new Date(e),i=Math.ceil((a-s)/864e5);return i},isPaymentSuccess(){const t=new URLSearchParams(window.location.search);"true"===t.get("success")?(this.id=t.get("id"),this.activeDetail=!0,this.paymentSuccess=!0):"false"===t.get("success")&&(this.id=t.get("id"),this.activeDetail=!0,this.paymentSuccess=!1)},closeSuccess(){this.$router.push("/admin/rental"),this.paymentSuccess=null},openDetail(t){this.activeDetail=!0,this.id=t},async closeDetail(){this.activeDetail=!1,await this.getAll(),this.dealine()},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},handlePage(t){this.activePage=t,this.pageNumber=t,this.getAll(),this.isSort=!1},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getAll())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAll())},formatDate(t){return mt.formatDateNoTime(t)},async getAll(){const t=await Oo.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await Oo.getAll(this.pageNumber,this.pageSize);this.orders=[...e.data]},offSort(){this.isSort=!1,this.getAll(),this.filterInput="",this.dateFilter={day:"0",month:"0",year:"0",field:""}},async sort(t,e){return this.type=t,this.field=e,this.isSort=!0,"fullName"===e?void this.orders.sort(((s,a)=>1==t?s.customerId[e].localeCompare(a.customerId[e]):-1==t?a.customerId[e].localeCompare(s.customerId[e]):void 0)):"paymentMethod"===e?void(this.orders="COD"==t?this.orders.filter((s=>s[e]==t)):this.orders.filter((t=>"COD"!=t[e]))):void(this.orders=this.orders.filter((s=>s[e]==t)))},async sort3(t,e){this.type=t,this.field=e,this.isSort=!0,await this.getAll(),this.orders=this.data.filter((s=>s[e]==t))},handleFitter(t){null==this.idTimeOut&&(this.isSort=!1),clearTimeout(this.idTimeOut),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){if(""!=this.filterInput){this.isSort=!0;const e=new RegExp(this.filterInput.trim(),"i");let s=[];s="fullName"===t?this.orders.filter((s=>e.test(s.customerId[t]))):this.orders.filter((s=>e.test(s[t]))),this.orders=s}else this.isSort=!1,this.getAll()},async filterDate(){this.isSort=!0;const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await Oo.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.orders=[...i.data],console.log(this.orders),this.orders.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)}))},exportToExcel(){const t=[];this.orders.map((e=>{t.push({"Mã":e._id,"Tên khách hàng":e.customerId.fullName,"Số điện thoại":e.customerId.phone,"Địa chỉ":e.customerId.address,"Hình thức mua hàng":e.IsOnlineOrder?"Online":"Tại cửa hàng","Trạng thái đơn hàng":e.status,"Hình thức thanh toán":e.paymentMethod,"Trạng thái thanh toán":e.isPayment?"Đã thanh toán":"Chưa thanh toán","Tổng giá":mt.formatCurrency(e.totalAmount),"Ngày tạo":e.createdAt})})),Gw(t,"donthue")},async exportToPDF(){const t=AQ(this.orders),e=await I.exportPDF({data:t}),s=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.target="_blank",i.setAttribute("download","DonThue.pdf"),document.body.appendChild(i),i.click()},async printPDF(t){const e=await Oo.getById(t),s=e.data;s.createdAt=mt.formatDate(s.createdAt),s.totalCostOfProducts=mt.formatCurrency(s.totalCostOfProducts),s.transportFee=mt.formatCurrency(s.transportFee),s.products.forEach((t=>{t.priceRental=mt.formatCurrency(t.priceRental)}));const a=SQ(s);uT(a,"Phiếu đơn hàng")}},mounted(){this.getAll(),this.getYears(),this.isPaymentSuccess(),this.dealine()}};const qQ=(0,ft.Z)(UQ,[["render",EZ],["__scopeId","data-v-57c55e54"]]);var NQ=qQ;const zQ=t=>((0,i.dD)("data-v-21f99383"),t=t(),(0,i.Cn)(),t),FQ=zQ((()=>(0,i._)("div",{class:"modal-success text-success"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán thành công")],-1))),OQ=[FQ],MQ=zQ((()=>(0,i._)("div",{class:"modal-success text-danger"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán không thành công")],-1))),VQ=[MQ],EQ={class:"admin-create-order"},$Q=zQ((()=>(0,i._)("h3",null,"Thêm đơn hàng thuê",-1))),BQ={class:"row"},RQ={class:"group col-lg-4"},HQ={class:"d-flex mb-1"},YQ=zQ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên Khách hàng "),(0,i._)("span",{class:"required"},"*")],-1))),KQ={key:0,class:"overlay"},LQ=zQ((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),ZQ=[LQ],jQ={class:"form-head"},QQ=zQ((()=>(0,i._)("h2",{class:"title"},"Thêm khách hàng",-1))),GQ={key:0,class:"mes-success"},WQ={key:1,class:"mes-failed"},JQ={key:2,class:"lds-dual-ring"},XQ={class:"row"},tG={class:"spe-group col-lg-6"},eG=zQ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên khách hàng "),(0,i._)("span",{class:"required"},"*")],-1))),sG={class:"spe-group col-lg-6"},aG=zQ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại"),(0,i._)("span",{class:"required"},"*")],-1))),iG={class:"spe-group col-lg-12"},nG=zQ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ"),(0,i._)("span",{class:"required"},"*")],-1))),lG={class:"row"},oG={class:"group col-lg-4"},rG=zQ((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Tỉnh/Thành phố "),(0,i._)("span",{class:"required"},"*")])],-1))),cG=zQ((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),dG=["value"],hG={class:"group col-lg-4"},pG=zQ((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Quận/huyện "),(0,i._)("span",{class:"required"},"*")])],-1))),uG=zQ((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),mG=["value"],gG={class:"group col-lg-4"},yG=zQ((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Phường/Xã "),(0,i._)("span",{class:"required"},"*")])],-1))),fG=zQ((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),vG=["value"],_G=zQ((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit mt-5"},"Thêm")],-1))),wG=zQ((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn khách hàng ---",-1))),bG=["value"],kG={key:1,class:"overlay"},CG=zQ((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),xG=[CG],SG={class:"form-head"},DG=zQ((()=>(0,i._)("h2",{class:"title"},"Xem và thay đổi thông tin",-1))),TG={key:0,class:"mes-success"},PG={key:1,class:"mes-failed"},IG={class:"row"},AG={class:"spe-group col-lg-6"},UG=zQ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên khách hàng "),(0,i._)("span",{class:"required"},"*")],-1))),qG={class:"spe-group col-lg-6"},NG=zQ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại"),(0,i._)("span",{class:"required"},"*")],-1))),zG={key:0,class:"spe-group col-lg-12"},FG=zQ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ"),(0,i._)("span",{class:"required"},"*")],-1))),OG={key:1,class:"spe-group col-lg-12"},MG=zQ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ"),(0,i._)("span",{class:"required"},"*")],-1))),VG={key:0,class:"row"},EG={class:"group col-lg-4"},$G=zQ((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Tỉnh/Thành phố "),(0,i._)("span",{class:"required"},"*")])],-1))),BG=zQ((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),RG=["value"],HG={class:"group col-lg-4"},YG=zQ((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Quận/huyện "),(0,i._)("span",{class:"required"},"*")])],-1))),KG=zQ((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),LG=["value"],ZG={class:"group col-lg-4"},jG=zQ((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Phường/Xã "),(0,i._)("span",{class:"required"},"*")])],-1))),QG=zQ((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),GG=["value"],WG=zQ((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit mt-5"},"Sửa")],-1))),JG={class:"group col-lg-8"},XG={class:"w-100"},tW=zQ((()=>(0,i._)("div",{class:"d-flex ms-2"},[(0,i._)("label",{for:""},"Ghi chú")],-1))),eW={class:"croll"},sW=zQ((()=>(0,i._)("span",{class:"d-block mt-3"},"Danh sách sản phẩm",-1))),aW={class:"group col-lg-4"},iW=zQ((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Danh sách hàng "),(0,i._)("span",{class:"required"},"*")])],-1))),nW=["onUpdate:modelValue","onChange"],lW=zQ((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),oW=["value"],rW={class:"spe-group col-lg-4"},cW=zQ((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},"Giá bán",-1))),dW={class:"price"},hW={class:"spe-group col-lg-4"},pW=zQ((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},[(0,i.Uk)("Số lượng"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),uW=["onUpdate:modelValue","onKeyup"],mW={class:"row mb-2"},gW={class:"col-3 d-flex justify-content-center align-items-center mt-1"},yW={class:"group me-3"},fW={class:"group"},vW={class:"row"},_W={class:"spe-group col-lg-3"},wW=zQ((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},[(0,i.Uk)("Số tháng thuê"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),bW={class:"spe-group col-lg-3"},kW=zQ((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},[(0,i.Uk)("Cách thanh toán"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),CW=zQ((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn cách thanh toán ---",-1))),xW=zQ((()=>(0,i._)("option",{value:!0,class:"form-option"},"Thanh toán toàn bộ",-1))),SW=zQ((()=>(0,i._)("option",{value:!1,class:"form-option"},"Thanh toán theo tháng",-1))),DW=[CW,xW,SW],TW={class:"spe-group col-2"},PW=zQ((()=>(0,i._)("label",{for:"",class:"mt-0"},"Tổng tiền sản phẩm",-1))),IW={class:"spe-group col-2"},AW=zQ((()=>(0,i._)("label",{for:"",class:"mt-0"},"Tổng cộng",-1))),UW={class:"spe-group col-2"},qW=zQ((()=>(0,i._)("label",{for:"",class:"mt-0"},"Số tiền thanh toán",-1))),NW={class:"row mt-4"},zW={class:"col-lg-4"},FW=zQ((()=>(0,i._)("img",{src:"https://s3-ap-southeast-1.amazonaws.com/pharmacity-ecm-asm-dev/payment-method/cash.webp",alt:""},null,-1))),OW=zQ((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"Tiền mặt"),(0,i._)("span",null,"Thanh toán khi nhận hàng")],-1))),MW=zQ((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),VW=[FW,OW,MW],EW={class:"col-lg-4"},$W=zQ((()=>(0,i._)("img",{src:"https://vnpay.vn/s1/statics.vnpay.vn/2023/9/06ncktiwd6dc1694418196384.png",alt:""},null,-1))),BW=zQ((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"VNPay"),(0,i._)("span",null,"Thanh toán qua ví VNPay")],-1))),RW=zQ((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),HW=[$W,BW,RW],YW={class:"col-lg-4"},KW=zQ((()=>(0,i._)("img",{src:"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png",alt:""},null,-1))),LW=zQ((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"MOMO"),(0,i._)("span",null,"Quét mã QR momo")],-1))),ZW=zQ((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),jW=[KW,LW,ZW],QW=zQ((()=>(0,i._)("button",{class:"btn btn-success mt-3"},"Tạo đơn hàng",-1)));function GW(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"overlay",onClick:e[0]||(e[0]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},OQ)):(0,i.kq)("",!0),0==l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[1]||(e[1]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},VQ)):(0,i.kq)("",!0),(0,i._)("div",EQ,[$Q,(0,i._)("form",{class:"admin-form-order",ref:"formOrder",onSubmit:e[42]||(e[42]=(0,A.iM)(((...t)=>o.addOrder&&o.addOrder(...t)),["prevent","stop"]))},[(0,i._)("div",BQ,[(0,i._)("div",RQ,[(0,i._)("div",HQ,[YQ,(0,i._)("span",{class:"btn btn-info btn-brand",onClick:e[2]||(e[2]=t=>l.activeCustomer=!0)},"Mới")]),l.activeCustomer?((0,i.wg)(),(0,i.iD)("div",KQ,[(0,i._)("form",{action:"",class:"customer-form",onSubmit:e[13]||(e[13]=(0,A.iM)(((...t)=>o.addCustomer&&o.addCustomer(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form-customer",onClick:e[3]||(e[3]=(...t)=>o.closeFormCustomer&&o.closeFormCustomer(...t))},ZQ),(0,i._)("div",jQ,[QQ,l.mesSucCus?((0,i.wg)(),(0,i.iD)("span",GQ,(0,n.zw)(l.mesSucCus),1)):(0,i.kq)("",!0),l.mesFaiCus?((0,i.wg)(),(0,i.iD)("span",WQ,(0,n.zw)(l.mesFaiCus),1)):(0,i.kq)("",!0),t.loading?((0,i.wg)(),(0,i.iD)("div",JQ)):(0,i.kq)("",!0)]),(0,i._)("div",XQ,[(0,i._)("div",tG,[eG,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên khách hàng","onUpdate:modelValue":e[4]||(e[4]=t=>l.customer.fullName=t)},null,512),[[A.nr,l.customer.fullName]])]),(0,i._)("div",sG,[aG,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập Số điện thoại","onUpdate:modelValue":e[5]||(e[5]=t=>l.customer.phone=t)},null,512),[[A.nr,l.customer.phone]]),l.valid.phone?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.phone})},(0,n.zw)(l.valid.phone),3)):(0,i.kq)("",!0)]),(0,i._)("div",iG,[nG,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên đường, hẻm, số nhà","onUpdate:modelValue":e[6]||(e[6]=t=>l.customer.address=t)},null,512),[[A.nr,l.customer.address]])])]),(0,i._)("div",lG,[(0,i._)("div",oG,[rG,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[7]||(e[7]=t=>l.VmodelAddress.city=t),name:"",id:"",class:"form-select w-100",onChange:e[8]||(e[8]=t=>o.getDistricts(l.VmodelAddress.city)),required:""},[cG,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.city,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,dG)))),128))],544),[[A.bM,l.VmodelAddress.city]])]),(0,i._)("div",hG,[pG,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>l.VmodelAddress.district=t),name:"",id:"",class:"form-select w-100",onChange:e[10]||(e[10]=t=>o.getWards(l.VmodelAddress.district)),required:""},[uG,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.districts,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,mG)))),128))],544),[[A.bM,l.VmodelAddress.district]])]),(0,i._)("div",gG,[yG,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.VmodelAddress.ward=t),name:"",id:"",class:"form-select w-100",onChange:e[12]||(e[12]=t=>o.saveAddress(l.VmodelAddress.ward)),required:""},[fG,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.wards,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,vG)))),128))],544),[[A.bM,l.VmodelAddress.ward]])])]),_G],32)])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[14]||(e[14]=t=>l.customerId=t),class:"form-select",required:"",onChange:e[15]||(e[15]=t=>o.getCustomerById(l.customerId))},[wG,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.customers,((t,e)=>((0,i.wg)(),(0,i.iD)("option",{key:e,class:"form-option",value:t._id},(0,n.zw)(t.fullName),9,bG)))),128))],544),[[A.bM,l.customerId]]),l.activeEditCustomer?((0,i.wg)(),(0,i.iD)("div",kG,[(0,i._)("form",{action:"",class:"customer-form",onSubmit:e[28]||(e[28]=(0,A.iM)(((...t)=>o.editCustomer&&o.editCustomer(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"close-form-customer",onClick:e[16]||(e[16]=(...t)=>o.closeFormCustomerEdit&&o.closeFormCustomerEdit(...t))},xG),(0,i._)("div",SG,[DG,l.mesSucCus?((0,i.wg)(),(0,i.iD)("span",TG,(0,n.zw)(l.mesSucCus),1)):(0,i.kq)("",!0),l.mesFaiCus?((0,i.wg)(),(0,i.iD)("span",PG,(0,n.zw)(l.mesFaiCus),1)):(0,i.kq)("",!0)]),(0,i._)("div",IG,[(0,i._)("div",AG,[UG,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên khách hàng","onUpdate:modelValue":e[17]||(e[17]=t=>l.customerInfo.fullName=t)},null,512),[[A.nr,l.customerInfo.fullName]])]),(0,i._)("div",qG,[NG,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập Số điện thoại","onUpdate:modelValue":e[18]||(e[18]=t=>l.customerInfo.phone=t)},null,512),[[A.nr,l.customerInfo.phone]]),l.valid.phone?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.phone})},(0,n.zw)(l.valid.phone),3)):(0,i.kq)("",!0)]),l.activeEditAddress?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",zG,[FG,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên đường, hẻm, số nhà","onUpdate:modelValue":e[19]||(e[19]=t=>l.customerInfo.address=t),disabled:""},null,512),[[A.nr,l.customerInfo.address]])])),(0,i._)("span",{class:"col-lg-3 ms-2 btn btn-warning",onClick:e[20]||(e[20]=t=>l.activeEditAddress=!l.activeEditAddress)},(0,n.zw)(l.activeEditAddress?"Giữ địa chỉ cũ":"Tạo địa chỉ mới"),1),l.activeEditAddress?((0,i.wg)(),(0,i.iD)("div",OG,[MG,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên đường, hẻm, số nhà","onUpdate:modelValue":e[21]||(e[21]=t=>l.customerInfo.address2=t)},null,512),[[A.nr,l.customerInfo.address2]])])):(0,i.kq)("",!0)]),l.activeEditAddress?((0,i.wg)(),(0,i.iD)("div",VG,[(0,i._)("div",EG,[$G,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[22]||(e[22]=t=>l.VmodelAddress.city=t),name:"",id:"",class:"form-select w-100",onChange:e[23]||(e[23]=t=>o.getDistricts(l.VmodelAddress.city)),required:""},[BG,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.city,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,RG)))),128))],544),[[A.bM,l.VmodelAddress.city]])]),(0,i._)("div",HG,[YG,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[24]||(e[24]=t=>l.VmodelAddress.district=t),name:"",id:"",class:"form-select w-100",onChange:e[25]||(e[25]=t=>o.getWards(l.VmodelAddress.district)),required:""},[KG,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.districts,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,LG)))),128))],544),[[A.bM,l.VmodelAddress.district]])]),(0,i._)("div",ZG,[jG,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[26]||(e[26]=t=>l.VmodelAddress.ward=t),name:"",id:"",class:"form-select w-100",onChange:e[27]||(e[27]=t=>o.saveAddress(l.VmodelAddress.ward)),required:""},[QG,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.wards,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,GG)))),128))],544),[[A.bM,l.VmodelAddress.ward]])])])):(0,i.kq)("",!0),WG],32)])):(0,i.kq)("",!0)]),(0,i._)("div",JG,[(0,i._)("div",XG,[tW,(0,i.wy)((0,i._)("textarea",{class:"note","onUpdate:modelValue":e[29]||(e[29]=t=>l.note=t),placeholder:"Ghi chú cho đơn hàng"},null,512),[[A.nr,l.note]])])]),(0,i._)("div",eW,[sW,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.ordersProducts,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e},[(0,i._)("div",aW,[iW,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>t.productId=e,class:"form-select",onChange:s=>o.getproductById(l.products,t.productId,e),required:""},[lW,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.products,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t._id,key:t._id},(0,n.zw)(t.name),9,oW)))),128))],40,nW),[[A.bM,t.productId]])]),(0,i._)("div",rW,[cW,(0,i._)("span",dW,"Giá: "+(0,n.zw)(t.priceRental),1)]),(0,i._)("div",hW,[pW,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e=>t.quantity=e,onKeyup:e=>o.checkQuantity(e,t),required:"",type:"number",placeholder:"Nhập số lượng hàng"},null,40,uW),[[A.nr,t.quantity]])])])))),128))]),(0,i._)("div",mW,[(0,i._)("div",gW,[(0,i._)("div",yW,[(0,i._)("span",{class:"btn btn-outline-success",onClick:e[30]||(e[30]=(...t)=>o.pushRow&&o.pushRow(...t))},"Thêm dòng")]),(0,i._)("div",fW,[(0,i._)("span",{class:"btn btn-outline-danger",onClick:e[31]||(e[31]=(...t)=>o.popRow&&o.popRow(...t))},"Bớt dòng")])])]),(0,i._)("div",vW,[(0,i._)("div",_W,[wW,(0,i.wy)((0,i._)("input",{class:"mt-1","onUpdate:modelValue":e[32]||(e[32]=t=>l.quantityMonth=t),onKeyup:e[33]||(e[33]=t=>o.checkQuantityMonth(t)),required:"",type:"number",placeholder:"Nhập số tháng thuê"},null,544),[[A.nr,l.quantityMonth]])]),(0,i._)("div",bW,[kW,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[34]||(e[34]=t=>l.payinfull=t),class:"form-select mb-0 mt-1",onChange:e[35]||(e[35]=(...t)=>o.totalProduct&&o.totalProduct(...t))},DW,544),[[A.bM,l.payinfull]])]),(0,i._)("div",TW,[PW,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[36]||(e[36]=t=>l.totalCostOfProducts=t),disabled:""},null,512),[[A.nr,l.totalCostOfProducts]])]),(0,i._)("div",IW,[AW,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[37]||(e[37]=t=>l.totalAmount=t),disabled:""},null,512),[[A.nr,l.totalAmount]])]),(0,i._)("div",UW,[qW,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[38]||(e[38]=t=>l.pricePayed=t),disabled:""},null,512),[[A.nr,l.pricePayed]])])]),(0,i._)("div",NW,[(0,i._)("div",zW,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassCod,"payment-error":l.choosePayent},"payment"]),onClick:e[39]||(e[39]=t=>o.paymentMeThod("COD"))},VW,2)]),(0,i._)("div",EW,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassOnlVNPAY,"payment-error":l.choosePayent},"payment"]),onClick:e[40]||(e[40]=t=>o.paymentMeThod("VNPAY"))},HW,2)]),(0,i._)("div",YW,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassOnlMOMO,"payment-error":l.choosePayent},"payment"]),onClick:e[41]||(e[41]=t=>o.paymentMeThod("MOMO"))},jW,2)])])]),QW],544)])],64)}var WW={data(){return{activeCustomer:!1,VmodelAddress:{city:"",district:"",ward:""},city:[],districts:[],wards:[],address:{},customer:{},valid:{},mesFaiCus:"",mesSucCus:"",customers:[],products:[],accessorys:[],product:{},ordersProducts:[{productId:"",priceRental:0}],customerId:"",isSubmit:!0,paymentMethod:"",isClassCod:!1,isClassOnlVNPAY:!1,isClassOnlMOMO:!1,choosePayent:!1,paymentSuccess:null,note:"",totalCostOfProducts:0,totalAmount:0,VAT:0,quantityMonth:null,customerInfo:{},activeEditAddress:!1,activeEditCustomer:!1,payinfull:"",pricePayed:0}},watch:{quantityMonth(){""!=this.payinfull.toString()&&this.totalProduct()}},methods:{closeSuccess(){this.$router.push("/admin/rental-create"),this.paymentSuccess=null},totalProduct(){this.totalCostOfProducts=0,this.totalAmount=0,this.pricePayed=0,this.ordersProducts.forEach((t=>{this.totalCostOfProducts+=t.priceRental*t.quantity||0})),this.totalAmount=this.totalCostOfProducts*this.quantityMonth||0,this.payinfull?this.pricePayed=this.totalAmount:this.pricePayed=Math.ceil(this.totalAmount/this.quantityMonth)},isPaymentSuccess(){const t=new URLSearchParams(window.location.search);"true"===t.get("success")?this.paymentSuccess=!0:"false"===t.get("success")&&(this.paymentSuccess=!1)},async getCity(){const t=await ZK.Z.get("https://provinces.open-api.vn/api/");this.city=[...t.data]},async getDistricts(t){const e=t.code,s=await ZK.Z.get(`https://provinces.open-api.vn/api/p/${e}/?depth=2`);this.districts=[...s.data.districts],this.address.city=t.name},async getWards(t){const e=t.code;this.address.district=t.name;const s=await ZK.Z.get(`https://provinces.open-api.vn/api/d/${e}/?depth=2`);this.wards=[...s.data.wards]},saveAddress(t){this.address.ward=t.name},closeFormCustomer(){this.activeCustomer=!1,this.city=[],this.districts=[],this.wards=[],this.VmodelAddress={city:"",district:"",ward:""}},async addCustomer(){try{const t=this.validateForm(this.customer),e={...this.customer};if(e.address=this.customer.address+","+this.address.ward+","+this.address.district+","+this.address.city,t){const t=await qo.create(e);t.data.status?(this.mesSucCus=t.data.mes,this.mesFaiCus="",this.VmodelAddress={city:"",district:"",ward:""},this.customer={},this.getAllCustomers()):(this.mesFaiCus=t.data.mes,this.mesSucCus="")}}catch(t){console.log(t)}},validateForm(t){const e=/^[0-9]+$/;!e.test(t.phone)||t.phone.length<10?this.valid.phone="Số điện thoại không hợp lệ":this.valid.phone=void 0;let s=!1;const a=Object.values(this.valid);for(let i=0;i<a.length;i++){if(void 0!==a[i]){s=!1;break}s=!0}return s},async getAllCustomers(){try{const t=await qo.getAll();this.customers=[...t.data]}catch(t){console.log(t)}},async getAllProducts(){try{const t=await I.getProducts();t.data.filter((t=>t.inputQuantity>0)),this.products=t.data.filter((t=>t.inputQuantity>0))}catch(t){console.log(t)}},async editCustomer(){try{const t=this.validateForm(this.customerInfo),e={...this.customerInfo};if(e.address=this.activeEditAddress?this.customerInfo.address2+", "+this.address.ward+", "+this.address.district+", "+this.address.city:this.customerInfo.address,t){const t=await qo.update(this.customerInfo._id,e);t.data.status?(this.mesSucCus=t.data.mes,this.mesFaiCus="",this.VmodelAddress={city:"",district:"",ward:""},this.getCustomerById(this.customerInfo._id),this.activeEditAddress=!1):(this.mesFaiCus=t.data.mes,this.mesSucCus="")}}catch(t){console.log(t)}},getproductById(t,e,s){t.map((t=>{t._id===e&&(this.ordersProducts[s].priceRental=t.priceRental,this.ordersProducts[s].priceImport=t.priceImport,this.ordersProducts[s].inputQuantity=t.inputQuantity,this.ordersProducts[s].nameProduct=t.name,this.ordersProducts[s].quantity=null,this.totalAmount=0,this.totalCostOfProducts=0)}))},pushRow(){this.ordersProducts.push({productId:"",priceSale:0})},popRow(){this.ordersProducts.length<=1?alert("Dòng cuối"):this.ordersProducts.pop()},async getCustomerById(t){try{const e=await qo.getById(t);this.customerInfo=e.data,this.activeEditCustomer=!0}catch(e){console.log(e)}},closeFormCustomerEdit(){this.activeEditCustomer=!1,this.activeEditAddress=!1,this.city=[],this.districts=[],this.wards=[],this.VmodelAddress={city:"",district:"",ward:""}},async addOrder(){try{const t=JSON.parse(sessionStorage.getItem("user"));""==this.paymentMethod?(this.isSubmit=!1,this.choosePayent=!0):this.isSubmit=!0;const e=await qo.getById(this.customerId),s={createBy:t?t.user._id:null,customerId:this.customerId,address:e.data.address,phone:e.data.phone,nameCustomer:e.data.fullName,products:[...this.ordersProducts],totalCostOfProducts:this.totalCostOfProducts,paymentMethod:this.paymentMethod,totalAmount:this.totalAmount,priceMonth:Math.ceil(this.totalAmount/this.quantityMonth),payInFull:this.payinfull,note:this.note,quantityMonth:this.quantityMonth};if(this.isSubmit)if("VNPAY"==this.paymentMethod){const t=await Oo.create(s),e=t.data.data;if(t.data.status){const t=await Oo.paymentVNPAY("admin/rental-create",{totalAmount:this.payinfull?e.totalAmount:e.priceMonth,orderId:e._id});window.location.href=t.data}}else if("MOMO"==this.paymentMethod){const t=await Oo.create(s),e=t.data.data;if(t.data.status){const t=await Oo.paymentMOMO("admin/rental-create",{totalAmount:this.payinfull?e.totalAmount:e.priceMonth,orderId:e._id});window.location.href=t.data}}else{const t=await Oo.create(s);t.data.status?(this.product={},this.ordersProducts=[{productId:"",priceSale:0}],this.customerId="",this.isSubmit=!0,this.isClassCod=!1,this.isClassOnl=!1,this.totalAmount=0,this.totalCostOfProducts=0,this.quantityMonth=null,this.note="",alert(t.data.mes)):alert(t.data.mes)}else alert("Kiểm tra lại dữ liệu đã nhập")}catch(t){console.log(t)}},checkQuantity(t,e){t.target.value<=0||t.target.value>e.inputQuantity?(t.target.style.borderColor="red",this.isSubmit=!1,this.totalAmount=0,this.totalCostOfProducts=0):(""!=this.payinfull&&this.totalProduct(),t.target.style.borderColor="#0E8388",this.isSubmit=!0)},checkQuantityMonth(t){t.target.value<=0?(t.target.style.borderColor="red",this.isSubmit=!1):(t.target.style.borderColor="#0E8388",this.isSubmit=!0)},async paymentMeThod(t){this.choosePayent=!1,"COD"==t?(this.isClassCod=!this.isClassCod,this.isClassCod?(this.paymentMethod="COD",this.isClassOnlVNPAY=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"VNPAY"==t?(this.isClassOnlVNPAY=!this.isClassOnlVNPAY,this.isClassOnlVNPAY?(this.paymentMethod="VNPAY",this.isClassCod=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"MOMO"==t&&(this.isClassOnlMOMO=!this.isClassOnlMOMO,this.isClassOnlMOMO?(this.paymentMethod="MOMO",this.isClassCod=!1,this.isClassOnlVNPAY=!1):this.paymentMethod="")}},mounted(){this.getAllCustomers(),this.isPaymentSuccess(),this.getAllProducts()}};const JW=(0,ft.Z)(WW,[["render",GW],["__scopeId","data-v-21f99383"]]);var XW=JW;const tJ=t=>((0,i.dD)("data-v-1a6636aa"),t=t(),(0,i.Cn)(),t),eJ=tJ((()=>(0,i._)("h3",null,"Đăng tin tức",-1))),sJ={class:"row"},aJ={class:"spe-group col-lg-12"},iJ=tJ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Ảnh "),(0,i._)("span",null,"*")],-1))),nJ={class:"spe-group col-lg-12"},lJ=tJ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tiêu đề bài viết "),(0,i._)("span",null,"*")],-1))),oJ={class:"spe-group col-lg-12"},rJ=tJ((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Nội dung "),(0,i._)("span",null,"*")],-1))),cJ=tJ((()=>(0,i._)("button",{class:"btn btn-success mt-2"},"Tạo bài đăng",-1)));function dJ(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("form",{class:"admin-news",onSubmit:e[3]||(e[3]=(0,A.iM)(((...t)=>o.addNews&&o.addNews(...t)),["prevent","stop"]))},[eJ,(0,i._)("div",sJ,[(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":!!l.mesFail,"text-success":!!l.messSuc}])},(0,n.zw)(l.mesFail?l.mesFail:l.messSuc),3),(0,i._)("div",aJ,[iJ,(0,i._)("input",{onChange:e[0]||(e[0]=(...t)=>o.changeFile&&o.changeFile(...t)),type:"file",class:"pt-1"},null,32)]),(0,i._)("div",nJ,[lJ,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.infoNews.title=t),type:"text",placeholder:"Tiêu đề bài viết...",required:""},null,512),[[A.nr,l.infoNews.title]])]),(0,i._)("div",oJ,[rJ,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.infoNews.content=t),class:"note",placeholder:"nội dung của bài viết",required:""},null,512),[[A.nr,l.infoNews.content]])])]),cJ],32)}var hJ={data(){return{infoNews:{},mesFail:"",messSuc:""}},methods:{async addNews(){try{const t=JSON.parse(sessionStorage.getItem("user"));this.infoNews.createBy=t.user._id;const e=await It.create(this.infoNews);e.data.status?(this.messSuc=e.data.mes,this.mesFail="",this.infoNews={}):(this.messSuc="",this.mesFail=e.data.mes)}catch(t){console.log(t)}},changeFile(t){this.infoNews.image=t.target.files[0]||""}}};const pJ=(0,ft.Z)(hJ,[["render",dJ],["__scopeId","data-v-1a6636aa"]]);var uJ=pJ;const mJ=t=>((0,i.dD)("data-v-574fa08a"),t=t(),(0,i.Cn)(),t),gJ={class:"admin-news"},yJ={key:0,class:"alert alert-success",role:"alert"},fJ=mJ((()=>(0,i._)("h3",null,"Tất cả bài viết",-1))),vJ={class:"d-flex justify-content-end align-items-center my-3"},_J={class:"input-admin-filter"},wJ=mJ((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),bJ=["value"],kJ=mJ((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),CJ=["value"],xJ=mJ((()=>(0,i._)("option",{value:"0"},"Năm",-1))),SJ=["value"],DJ=mJ((()=>(0,i._)("option",{value:""},"Chọn kiểu",-1))),TJ=mJ((()=>(0,i._)("option",{value:"0"},"Tất cả",-1))),PJ=mJ((()=>(0,i._)("option",{value:"createdAt"},"Ngày tạo",-1))),IJ=mJ((()=>(0,i._)("option",{value:"updatedAt"},"Ngày sửa",-1))),AJ=[DJ,TJ,PJ,IJ],UJ=mJ((()=>(0,i._)("button",null,"Lọc",-1))),qJ={class:"w-100"},NJ={class:""},zJ=mJ((()=>(0,i._)("th",{class:"col-1"},"STT",-1))),FJ={class:"col-4"},OJ={class:"admin-table-title text-start"},MJ=mJ((()=>(0,i._)("p",null,"Tiêu đề",-1))),VJ={class:"admin-sort"},EJ=mJ((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),$J={class:"admin-sort-list"},BJ={class:"filter-admin-input"},RJ={class:"col-2"},HJ={class:"admin-table-title text-start"},YJ=mJ((()=>(0,i._)("p",null,"Người tạo",-1))),KJ={class:"admin-sort"},LJ=mJ((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),ZJ={class:"admin-sort-list"},jJ={class:"filter-admin-input"},QJ=mJ((()=>(0,i._)("th",{class:"col"},"Hình ảnh",-1))),GJ=mJ((()=>(0,i._)("th",{class:"col"},"Lịch sử",-1))),WJ=mJ((()=>(0,i._)("th",{class:"col text-center"},"Hành động",-1))),JJ={class:"col-1 text-center"},XJ={class:"col"},tX={class:"col-2"},eX={class:"col"},sX=["src"],aX={class:"col"},iX={class:"col-2"},nX=["onClick"],lX=mJ((()=>(0,i._)("i",{class:"fa-solid fa-pen-to-square"},null,-1))),oX=[lX],rX=["onClick"],cX=mJ((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1))),dX=[cX],hX=["onClick"],pX=mJ((()=>(0,i._)("i",{class:"fa-solid fa-trash"},null,-1))),uX=[pX],mX={class:"product-pagination mt-5"},gX={class:"pagination"},yX=mJ((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),fX=[yX],vX=mJ((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),_X=["onClick"],wX=mJ((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),bX=mJ((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),kX=[bX];function CX(t,e,s,a,l,o){const r=(0,i.up)("admin-news-update"),c=(0,i.up)("admin-news-detail");return(0,i.wg)(),(0,i.iD)("div",gJ,[l.deleted?((0,i.wg)(),(0,i.iD)("div",yJ," Xóa bài viết thành công ")):(0,i.kq)("",!0),fJ,(0,i._)("div",vJ,[(0,i._)("div",_J,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[wJ,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,bJ))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[kJ,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,CJ))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[xJ,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,SJ)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},AJ,512),[[A.bM,l.dateFilter.field]]),UJ],32)])]),(0,i._)("div",{class:(0,n.C_)(["isSort",{"isSort-active":l.isSort}])},[(0,i._)("span",{onClick:e[5]||(e[5]=(...t)=>o.offSort&&o.offSort(...t))},"Đang lọc")],2),(0,i._)("table",qJ,[(0,i._)("thead",null,[(0,i._)("tr",NJ,[zJ,(0,i._)("th",FJ,[(0,i._)("div",OJ,[MJ,(0,i._)("div",VJ,[EJ,(0,i._)("ul",$J,[(0,i._)("div",BJ,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[6]||(e[6]=t=>l.filterInput=t),onInput:e[7]||(e[7]=t=>o.handleFitter("title"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",RJ,[(0,i._)("div",HJ,[YJ,(0,i._)("div",KJ,[LJ,(0,i._)("ul",ZJ,[(0,i._)("div",jJ,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[8]||(e[8]=t=>l.filterInput=t),onInput:e[9]||(e[9]=t=>o.handleFitter("fullName"))},null,544),[[A.nr,l.filterInput]])])])])])]),QJ,GJ,WJ])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.news,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t._id},[(0,i._)("td",JJ,(0,n.zw)(e+1),1),(0,i._)("td",XJ,(0,n.zw)(t.title),1),(0,i._)("td",tX,(0,n.zw)(t.createBy?.fullName),1),(0,i._)("td",eX,[(0,i._)("img",{src:"http://localhost:3000/"+t?.image,alt:"hình ảnh tin tức"},null,8,sX)]),(0,i._)("td",aX,"Tạo: "+(0,n.zw)(t.createdAt),1),(0,i._)("td",iX,[(0,i._)("span",{class:"ms-4 btn btn-outline-warning me-2",onClick:e=>o.editNews(t._id)},oX,8,nX),(0,i._)("span",{class:"btn btn-outline-info me-2",onClick:e=>o.detailNews(t._id)},dX,8,rX),(0,i._)("span",{class:"btn btn-outline-danger",onClick:e=>o.deleteNews(t._id)},uX,8,hX)])])))),128))])]),l.activeEdit?((0,i.wg)(),(0,i.j4)(r,{key:1,id:l.id,onCloseEdit:o.closeEdit},null,8,["id","onCloseEdit"])):(0,i.kq)("",!0),l.activeDetail?((0,i.wg)(),(0,i.j4)(c,{key:2,id:l.id,onCloseDetail:e[10]||(e[10]=t=>l.activeDetail=!1)},null,8,["id"])):(0,i.kq)("",!0),(0,i._)("div",mX,[(0,i._)("ul",gX,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[11]||(e[11]=(...t)=>o.previousPage&&o.previousPage(...t))},fX)]),vX,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,_X)])))),128)),wX,(0,i._)("li",null,[(0,i._)("span",{onClick:e[12]||(e[12]=(...t)=>o.nextPage&&o.nextPage(...t))},kX)])])])])}const xX=t=>((0,i.dD)("data-v-0e5211d0"),t=t(),(0,i.Cn)(),t),SX={class:"overlay"},DX={key:0,class:"loading"},TX=xX((()=>(0,i._)("div",{class:"spinner-border",role:"status"},[(0,i._)("span",{class:"visually-hidden"},"Loading...")],-1))),PX=[TX],IX={class:"d-flex justify-content-end"},AX=xX((()=>(0,i._)("h5",null,"Chỉnh sửa bài viết",-1))),UX={class:"row"},qX={class:"avatar"},NX=["src"],zX=["src"],FX=xX((()=>(0,i._)("label",{for:"avatar"},[(0,i._)("i",{class:"fa-solid fa-file-pen"})],-1))),OX={class:"spe-group col-lg-12"},MX=xX((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tiêu đề bài viết "),(0,i._)("span",null,"*")],-1))),VX={class:"spe-group col-lg-12"},EX=xX((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Nội dung "),(0,i._)("span",null,"*")],-1))),$X=xX((()=>(0,i._)("button",{class:"btn btn-success mt-2"},"Sửa bài đăng",-1)));function BX(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",SX,[l.loading?((0,i.wg)(),(0,i.iD)("div",DX,PX)):(0,i.kq)("",!0),(0,i._)("form",{class:"admin-news",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.update&&o.update(...t)),["prevent","stop"]))},[(0,i._)("div",IX,[(0,i._)("i",{onClick:e[0]||(e[0]=(...t)=>o.closeEdit&&o.closeEdit(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),AX,(0,i._)("div",UX,[(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":!!l.mesFail,"text-success":!!l.messSuc}])},(0,n.zw)(l.mesFail?l.mesFail:l.messSuc),3),(0,i._)("div",qX,[(0,i._)("span",null,[l.imgSrc?((0,i.wg)(),(0,i.iD)("img",{key:1,src:l.imgSrc,alt:""},null,8,zX)):((0,i.wg)(),(0,i.iD)("img",{key:0,src:"http://localhost:3000"+l.infoNews.image,alt:""},null,8,NX)),FX,(0,i._)("input",{type:"file",class:"d-none",id:"avatar",onChange:e[1]||(e[1]=(...t)=>o.handleImage&&o.handleImage(...t))},null,32)])]),(0,i._)("div",OX,[MX,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.infoNews.title=t),type:"text",placeholder:"Tiêu đề bài viết...",required:""},null,512),[[A.nr,l.infoNews.title]])]),(0,i._)("div",VX,[EX,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.infoNews.content=t),class:"note",placeholder:"Nội dung của bài viết",required:""},null,512),[[A.nr,l.infoNews.content]])])]),$X],32)])}var RX={data(){return{infoNews:{},mesFail:"",messSuc:"",imgSrc:"",loading:!1}},props:["id"],emits:["closeEdit"],methods:{closeEdit(){this.$emit("closeEdit")},async update(){try{const t=JSON.parse(sessionStorage.getItem("user"));this.infoNews.createBy=t.user._id,this.loading=!0;const e=await It.update(this.id,this.infoNews);this.loading=!1,e.data.status?(this.messSuc=e.data.mes,this.mesFail="",this.getById()):(this.messSuc="",this.mesFail=e.data.mes)}catch(t){console.log(t)}},async getById(){try{const t=await It.getById(this.id);this.infoNews=t.data}catch(t){console.log(t)}},changeFile(t){this.infoNews.image=t.target.files[0]||""},handleImage(t){const e=t.target.files[0]||"",s=URL.createObjectURL(e);this.imgSrc=s,this.infoNews.image=e}},mounted(){this.getById()}};const HX=(0,ft.Z)(RX,[["render",BX],["__scopeId","data-v-0e5211d0"]]);var YX=HX;const KX=t=>((0,i.dD)("data-v-38057937"),t=t(),(0,i.Cn)(),t),LX={class:"overlay"},ZX={class:"d-flex justify-content-end"},jX=KX((()=>(0,i._)("h5",null,"Xem chi tiết",-1))),QX={class:"row"},GX={class:"avatar"},WX=["src"],JX={class:"spe-group col-lg-12"},XX=KX((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Được tạo bởi "),(0,i._)("span",null,"*")],-1))),t0=["value"],e0={class:"spe-group col-lg-12"},s0=KX((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tiêu đề bài viết "),(0,i._)("span",null,"*")],-1))),a0={class:"spe-group col-lg-12"},i0=KX((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Nội dung "),(0,i._)("span",null,"*")],-1)));function n0(t,e,s,a,n,l){return(0,i.wg)(),(0,i.iD)("div",LX,[(0,i._)("form",{class:"admin-news",onSubmit:e[3]||(e[3]=(0,A.iM)(((...e)=>t.update&&t.update(...e)),["prevent","stop"]))},[(0,i._)("div",ZX,[(0,i._)("i",{onClick:e[0]||(e[0]=(...t)=>l.closeDetail&&l.closeDetail(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),jX,(0,i._)("div",QX,[(0,i._)("div",GX,[(0,i._)("span",null,[(0,i._)("img",{src:"http://localhost:3000"+n.infoNews.image,alt:""},null,8,WX)])]),(0,i._)("div",JX,[XX,(0,i._)("input",{disabled:"",value:n.infoNews.createBy?.fullName,type:"text",placeholder:"Tiêu đề bài viết...",required:""},null,8,t0)]),(0,i._)("div",e0,[s0,(0,i.wy)((0,i._)("input",{disabled:"","onUpdate:modelValue":e[1]||(e[1]=t=>n.infoNews.title=t),type:"text",placeholder:"Tiêu đề bài viết...",required:""},null,512),[[A.nr,n.infoNews.title]])]),(0,i._)("div",a0,[i0,(0,i.wy)((0,i._)("textarea",{disabled:"","onUpdate:modelValue":e[2]||(e[2]=t=>n.infoNews.content=t),class:"note",placeholder:"Nội dung của bài viết",required:""},null,512),[[A.nr,n.infoNews.content]])])])],32)])}var l0={data(){return{infoNews:{}}},props:["id"],emits:["closeDetail"],methods:{closeDetail(){this.$emit("closeDetail")},async getById(){try{const t=await It.getById(this.id);this.infoNews=t.data}catch(t){console.log(t)}}},mounted(){this.getById()}};const o0=(0,ft.Z)(l0,[["render",n0],["__scopeId","data-v-38057937"]]);var r0=o0,c0={components:{adminNewsUpdate:YX,adminNewsDetail:r0},data(){return{news:[],pageNumber:1,pageSize:8,lengthPage:1,activePage:1,dateFilter:{day:"0",month:"0",year:"0",field:""},years:[],isSort:!1,id:"",activeEdit:!1,activeDetail:!1,filterInput:"",deleted:!1}},methods:{handlePage(t){this.activePage=t,this.pageNumber=t,this.getAll(),this.isSort=!1},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getAll())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAll())},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},offSort(){this.isSort=!1,this.getAll(),this.filterInput="",this.dateFilter={day:"0",month:"0",year:"0",field:""}},async getAll(){try{const t=await It.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await It.getAll(this.pageNumber,this.pageSize);this.news=[...e.data],this.news.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)}))}catch(t){console.log(t)}},async filterDate(){this.isSort=!0;const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await It.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.news=[...i.data],this.news.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)}))},handleFitter(t){null==this.idTimeOut&&(this.isSort=!1),clearTimeout(this.idTimeOut),this.getAll(),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){if(""!=this.filterInput){this.isSort=!0;const e=new RegExp(this.filterInput.trim(),"i");let s=[];"title"===t?s=this.news.filter((s=>e.test(s[t]))):"fullName"==t&&(s=this.news.filter((s=>e.test(s.createBy[t])))),this.news=s}else this.isSort=!1,this.getAll()},editNews(t){this.id=t,this.activeEdit=!0},detailNews(t){this.id=t,this.activeDetail=!0},closeEdit(){this.activeEdit=!1,this.getAll()},async deleteNews(t){try{if(confirm("Hành động này sẽ xóa bài viết")){const e=await It.delete(t);e.data.status&&(this.deleted=!0,setTimeout((()=>{this.deleted=!1}),2e3),this.getAll())}}catch(e){console.log(e)}}},mounted(){this.getAll(),this.getYears()}};const d0=(0,ft.Z)(c0,[["render",CX],["__scopeId","data-v-574fa08a"]]);var h0=d0;const p0=t=>((0,i.dD)("data-v-4cdf790a"),t=t(),(0,i.Cn)(),t),u0={class:"admin-news"},m0={key:0,class:"alert alert-success",role:"alert"},g0=p0((()=>(0,i._)("h3",null,"Tất cả dịch vụ",-1))),y0={class:"d-flex justify-content-end align-items-center my-3"},f0={class:"input-admin-filter"},v0=p0((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),_0=["value"],w0=p0((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),b0=["value"],k0=p0((()=>(0,i._)("option",{value:"0"},"Năm",-1))),C0=["value"],x0=p0((()=>(0,i._)("option",{value:""},"Chọn kiểu",-1))),S0=p0((()=>(0,i._)("option",{value:"0"},"Tất cả",-1))),D0=p0((()=>(0,i._)("option",{value:"createdAt"},"Ngày tạo",-1))),T0=p0((()=>(0,i._)("option",{value:"updatedAt"},"Ngày sửa",-1))),P0=[x0,S0,D0,T0],I0=p0((()=>(0,i._)("button",null,"Lọc",-1))),A0={class:"admin-export"},U0=p0((()=>(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1))),q0=p0((()=>(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1))),N0={class:"d-flex mb-2"},z0={class:"w-100"},F0={class:""},O0=p0((()=>(0,i._)("th",{class:"col-1"},"STT",-1))),M0={class:"col-4"},V0={class:"admin-table-title text-start"},E0=p0((()=>(0,i._)("p",null,"Tên dịch vụ",-1))),$0={class:"admin-sort"},B0=p0((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),R0={class:"admin-sort-list"},H0={class:"filter-admin-input"},Y0={class:"col"},K0={class:"admin-table-title"},L0=p0((()=>(0,i._)("p",null,"Giá",-1))),Z0={class:"admin-sort"},j0=p0((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),Q0={class:"admin-sort-list"},G0={class:"filter-admin-input"},W0=p0((()=>(0,i._)("th",{class:"col"},"Lịch sử",-1))),J0=p0((()=>(0,i._)("th",{class:"col text-center"},"Hành động",-1))),X0={class:"col-1 text-center"},t1={class:"col"},e1={class:"col"},s1={class:"col"},a1={class:"col-2"},i1=["onClick"],n1=p0((()=>(0,i._)("i",{class:"fa-solid fa-pen-to-square"},null,-1))),l1=[n1],o1=["onClick"],r1=p0((()=>(0,i._)("i",{class:"fa-solid fa-trash"},null,-1))),c1=[r1],d1={class:"product-pagination mt-5"},h1={class:"pagination"},p1=p0((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),u1=[p1],m1=p0((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),g1=["onClick"],y1=p0((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),f1=p0((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),v1=[f1];function _1(t,e,s,a,l,o){const r=(0,i.up)("adminServiceCreate"),c=(0,i.up)("adminServiceEdit");return(0,i.wg)(),(0,i.iD)("div",u0,[l.deleted?((0,i.wg)(),(0,i.iD)("div",m0," Xóa dịch vụ thành công ")):(0,i.kq)("",!0),g0,(0,i._)("div",y0,[(0,i._)("div",f0,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[v0,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,_0))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[w0,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,b0))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[k0,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,C0)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},P0,512),[[A.bM,l.dateFilter.field]]),I0],32)]),(0,i._)("div",A0,[(0,i._)("div",{class:"btn btn-success",onClick:e[5]||(e[5]=(...e)=>t.exportToExcel&&t.exportToExcel(...e))},[U0,(0,i.Uk)(" Excel ")]),(0,i._)("div",{class:"btn btn-warning",onClick:e[6]||(e[6]=(...e)=>t.exportToPDF&&t.exportToPDF(...e))},[q0,(0,i.Uk)(" Pdf")])])]),(0,i._)("div",N0,[(0,i._)("button",{class:"btn btn-info",onClick:e[7]||(e[7]=t=>l.activeCreate=!0)},"Thêm dịch vụ")]),(0,i._)("div",{class:(0,n.C_)(["isSort",{"isSort-active":l.isSort}])},[(0,i._)("span",{onClick:e[8]||(e[8]=(...t)=>o.offSort&&o.offSort(...t))},"Đang lọc")],2),(0,i._)("table",z0,[(0,i._)("thead",null,[(0,i._)("tr",F0,[O0,(0,i._)("th",M0,[(0,i._)("div",V0,[E0,(0,i._)("div",$0,[B0,(0,i._)("ul",R0,[(0,i._)("div",H0,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[9]||(e[9]=t=>l.filterInput=t),onInput:e[10]||(e[10]=t=>o.handleFitter("name"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",Y0,[(0,i._)("div",K0,[L0,(0,i._)("div",Z0,[j0,(0,i._)("ul",Q0,[(0,i._)("li",{onClick:e[11]||(e[11]=t=>o.sort(1,"price"))},"Từ nhỏ đến lớn"),(0,i._)("li",{onClick:e[12]||(e[12]=t=>o.sort(-1,"price"))},"Từ lớn đến nhỏ"),(0,i._)("li",{onClick:e[13]||(e[13]=t=>o.sort(0,"price"))},"Bằng 0"),(0,i._)("div",G0,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Tìm sản phẩm theo tên","onUpdate:modelValue":e[14]||(e[14]=t=>l.filterInput=t),onInput:e[15]||(e[15]=t=>o.handleFitter("price"))},null,544),[[A.nr,l.filterInput]])])])])])]),W0,J0])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.services,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t._id},[(0,i._)("td",X0,(0,n.zw)(e+1),1),(0,i._)("td",t1,(0,n.zw)(t.name),1),(0,i._)("td",e1,(0,n.zw)(t.price),1),(0,i._)("td",s1,"Tạo: "+(0,n.zw)(t.createdAt),1),(0,i._)("td",a1,[(0,i._)("span",{class:"ms-5 btn btn-outline-warning me-2",onClick:e=>o.editService(t._id)},l1,8,i1),(0,i._)("span",{class:"btn btn-outline-danger",onClick:e=>o.deleteNews(t._id)},c1,8,o1)])])))),128))])]),l.activeCreate?((0,i.wg)(),(0,i.j4)(r,{key:1,onCloseCreate:o.closeCreate},null,8,["onCloseCreate"])):(0,i.kq)("",!0),l.activeEdit?((0,i.wg)(),(0,i.j4)(c,{key:2,id:l.id,onCloseEdit:o.closeEdit},null,8,["id","onCloseEdit"])):(0,i.kq)("",!0),(0,i._)("div",d1,[(0,i._)("ul",h1,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[16]||(e[16]=(...t)=>o.previousPage&&o.previousPage(...t))},u1)]),m1,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,g1)])))),128)),y1,(0,i._)("li",null,[(0,i._)("span",{onClick:e[17]||(e[17]=(...t)=>o.nextPage&&o.nextPage(...t))},v1)])])])])}class w1{constructor(t="http://localhost:3000/service"){this.api=(0,T.Z)(t)}async create(t){return this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async getById(t){return await this.api.get(`/find/?id=${t}`)}async update(t,e){return await this.api.post(`/update/?id=${t}`,e)}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}async delete(t){return await this.api.get(`/delete/?id=${t}`)}}var b1=new w1;const k1=t=>((0,i.dD)("data-v-52b6815b"),t=t(),(0,i.Cn)(),t),C1={class:"overlay"},x1={class:"d-flex justify-content-end"},S1=k1((()=>(0,i._)("h3",null,"Thêm dịch vụ",-1))),D1={class:"row"},T1={class:"spe-group col-lg-6"},P1=k1((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên dịch vụ"),(0,i._)("span",null,"*")],-1))),I1={class:"spe-group col-lg-12"},A1=k1((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Mô tả "),(0,i._)("span",null,"*")],-1))),U1=k1((()=>(0,i._)("button",{class:"btn btn-success mt-2"},"Thêm dịch vụ",-1)));function q1(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",C1,[(0,i._)("form",{class:"admin-news",onSubmit:e[3]||(e[3]=(0,A.iM)(((...t)=>o.addService&&o.addService(...t)),["prevent","stop"]))},[(0,i._)("div",x1,[(0,i._)("i",{onClick:e[0]||(e[0]=(...t)=>o.closeCreate&&o.closeCreate(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),S1,(0,i._)("div",D1,[(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":!!l.mesFail,"text-success":!!l.messSuc}])},(0,n.zw)(l.mesFail?l.mesFail:l.messSuc),3),(0,i._)("div",T1,[P1,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.infoService.name=t),type:"text",placeholder:"Tên của dịch vụ...",required:""},null,512),[[A.nr,l.infoService.name]])]),(0,i._)("div",I1,[A1,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.infoService.description=t),class:"note",placeholder:"Mô tả",required:""},null,512),[[A.nr,l.infoService.description]])])]),U1],32)])}var N1={data(){return{infoService:{},mesFail:"",messSuc:""}},emits:["closeCreate"],methods:{closeCreate(){this.$emit("closeCreate")},async addService(){try{const t=await b1.create(this.infoService);t.data.status?(this.messSuc=t.data.mes,this.mesFail="",this.infoService={}):(this.messSuc="",this.mesFail=t.data.mes)}catch(t){console.log(t)}}}};const z1=(0,ft.Z)(N1,[["render",q1],["__scopeId","data-v-52b6815b"]]);var F1=z1;const O1=t=>((0,i.dD)("data-v-c7e89fb6"),t=t(),(0,i.Cn)(),t),M1={class:"overlay"},V1={class:"d-flex justify-content-end"},E1=O1((()=>(0,i._)("h3",null,"Thêm dịch vụ",-1))),$1={class:"row"},B1={class:"spe-group col-lg-6"},R1=O1((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên dịch vụ"),(0,i._)("span",null,"*")],-1))),H1={class:"spe-group col-lg-6"},Y1=O1((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Giá dịch vụ"),(0,i._)("span",null,"*")],-1))),K1={class:"spe-group col-lg-12"},L1=O1((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Mô tả "),(0,i._)("span",null,"*")],-1))),Z1=O1((()=>(0,i._)("button",{class:"btn btn-success mt-2"},"Sửa dịch vụ",-1)));function j1(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",M1,[(0,i._)("form",{class:"admin-news",onSubmit:e[4]||(e[4]=(0,A.iM)(((...e)=>t.addService&&t.addService(...e)),["prevent","stop"]))},[(0,i._)("div",V1,[(0,i._)("i",{onClick:e[0]||(e[0]=(...t)=>o.closeEdit&&o.closeEdit(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),E1,(0,i._)("div",$1,[(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":!!t.mesFail,"text-success":!!t.messSuc}])},(0,n.zw)(t.mesFail?t.mesFail:t.messSuc),3),(0,i._)("div",B1,[R1,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>l.infoService.name=t),type:"text",placeholder:"Tên của dịch vụ...",required:""},null,512),[[A.nr,l.infoService.name]])]),(0,i._)("div",H1,[Y1,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>l.infoService.price=t),type:"number",placeholder:"Giá của dịch vụ...",required:""},null,512),[[A.nr,l.infoService.price]])]),(0,i._)("div",K1,[L1,(0,i.wy)((0,i._)("textarea",{"onUpdate:modelValue":e[3]||(e[3]=t=>l.infoService.description=t),class:"note",placeholder:"Mô tả",required:""},null,512),[[A.nr,l.infoService.description]])])]),Z1],32)])}var Q1={data(){return{infoService:{}}},props:["id"],emits:["closeEdit"],methods:{closeEdit(){this.$emit("closeEdit")},async updateService(){try{const t=await b1.update(this.id,this.infoService);t.data.status?(this.messSuc=t.data.mes,this.mesFail="",this.infoService={}):(this.messSuc="",this.mesFail=t.data.mes)}catch(t){console.log(t)}},async getById(){try{const t=await b1.getById(this.id);this.infoService=t.data}catch(t){console.log(t)}}},mounted(){this.getById()}};const G1=(0,ft.Z)(Q1,[["render",j1],["__scopeId","data-v-c7e89fb6"]]);var W1=G1,J1={components:{adminServiceCreate:F1,adminServiceEdit:W1},data(){return{services:[],pageNumber:1,pageSize:8,lengthPage:1,activePage:1,dateFilter:{day:"0",month:"0",year:"0",field:""},years:[],isSort:!1,id:"",activeEdit:!1,activeDetail:!1,filterInput:"",deleted:!1,activeCreate:!1}},methods:{handlePage(t){this.activePage=t,this.pageNumber=t,this.getAll(),this.isSort=!1},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getAll())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAll())},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},offSort(){this.isSort=!1,this.getAll(),this.filterInput="",this.dateFilter={day:"0",month:"0",year:"0",field:""}},async getAll(){try{const t=await b1.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await b1.getAll(this.pageNumber,this.pageSize);this.services=[...e.data],this.services.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)})),console.log(this.services)}catch(t){console.log(t)}},async filterDate(){this.isSort=!0;const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await b1.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.services=[...i.data],this.services.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)}))},handleFitter(t){null==this.idTimeOut&&(this.isSort=!1),clearTimeout(this.idTimeOut),this.getAll(),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){if(""!=this.filterInput){this.isSort=!0;const e=new RegExp(this.filterInput.trim(),"i");let s=[];"name"===t?s=this.services.filter((s=>e.test(s[t]))):"price"==t&&(s=this.services.filter((e=>e[t]>=parseInt(this.filterInput)))),this.services=s}else this.isSort=!1,this.getAll()},editService(t){this.id=t,this.activeEdit=!0},detailNews(t){this.id=t,this.activeDetail=!0},closeEdit(){this.activeEdit=!1,this.getAll()},closeCreate(){this.activeCreate=!1,this.getAll()},async deleteNews(t){try{if(confirm("Hành động này sẽ xóa bài viết")){const e=await b1.delete(t);e.data.status&&(this.deleted=!0,setTimeout((()=>{this.deleted=!1}),2e3),this.getAll())}}catch(e){console.log(e)}},async sort(t,e){if(this.type=t,this.field=e,this.isSort=!0,"name"===e)this.services.sort(((s,a)=>1==t?s[e].localeCompare(a[e]):-1==t?a[e].localeCompare(s[e]):void 0));else if(this.services.sort(((s,a)=>1==t?parseFloat(s[e])-parseFloat(a[e]):-1==t?parseFloat(a[e])-parseInt(s[e]):void 0)),0===t){const t=this.services.filter((t=>0===t[e]));this.services=[],this.services=[...t]}}},mounted(){this.getAll(),this.getYears()}};const X1=(0,ft.Z)(J1,[["render",_1],["__scopeId","data-v-4cdf790a"]]);var t2=X1;const e2=t=>((0,i.dD)("data-v-f366131c"),t=t(),(0,i.Cn)(),t),s2={class:"row"},a2=e2((()=>(0,i._)("h3",null,"Công việc",-1))),i2={class:"d-flex justify-content-end align-items-center mb-1"},n2={class:"input-admin-filter"},l2=e2((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),o2=["value"],r2=e2((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),c2=["value"],d2=e2((()=>(0,i._)("option",{value:"0"},"Năm",-1))),h2=["value"],p2=(0,i.uE)('<option value="" data-v-f366131c>Chọn kiểu</option><option value="0" data-v-f366131c>Tất cả</option><option value="createdAt" data-v-f366131c>Ngày tạo</option><option value="startDate" data-v-f366131c>Ngày bắt đầu</option><option value="endDate" data-v-f366131c>Ngày kết thúc</option><option value="updatedAt" data-v-f366131c>Ngày sửa</option><option value="currentDate" data-v-f366131c>Công việc trong tháng</option>',7),u2=[p2],m2=e2((()=>(0,i._)("button",null,"Lọc",-1))),g2={class:"admin-export"},y2=e2((()=>(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1))),f2={class:"col-lg-2"},v2=e2((()=>(0,i._)("h3",{class:"text-danger mt-1"},"Danh mục",-1))),_2={class:"note-content"},w2=e2((()=>(0,i._)("h5",{class:"mt-2 text-info"},"Màu sắc công việc",-1))),b2=e2((()=>(0,i._)("span",{style:{"--color":"#7d7c7c"}},null,-1))),k2=e2((()=>(0,i._)("span",null,": Chưa bắt đầu",-1))),C2=[b2,k2],x2=e2((()=>(0,i._)("span",{style:{"--color":"#7091f5"}},null,-1))),S2=e2((()=>(0,i._)("span",null,": Đang tiến hành",-1))),D2=[x2,S2],T2=e2((()=>(0,i._)("span",{style:{"--color":"#a2ff86"}},null,-1))),P2=e2((()=>(0,i._)("span",null,": Hoàn thành",-1))),I2=[T2,P2],A2=e2((()=>(0,i._)("span",{style:{"--color":"#fc4f00"}},null,-1))),U2=e2((()=>(0,i._)("span",null,": Đã báo cáo",-1))),q2=[A2,U2],N2={class:"search-task mt-2"},z2=e2((()=>(0,i._)("h5",{class:"text-info"},"Tìm kiếm",-1))),F2={class:"search-content row"},O2={class:"col-lg-12 group"},M2=e2((()=>(0,i._)("label",{for:"",class:"text-start mt-0"},"Tìm theo nhân viên",-1))),V2={class:"col-lg-12 group"},E2=e2((()=>(0,i._)("label",{for:"",class:"text-start"},"Tìm theo khách hàng",-1))),$2={key:0,class:"overlay"},B2={class:"d-flex justify-content-end"},R2=e2((()=>(0,i._)("h3",null,"Tạo công việc",-1))),H2=e2((()=>(0,i._)("br",null,null,-1))),Y2={class:"row"},K2={class:"group col-lg-4"},L2={class:"d-flex mb-1"},Z2=e2((()=>(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Tên Khách hàng "),(0,i._)("span",{class:"required"},"*")],-1))),j2={key:0,class:"overlay"},Q2=e2((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),G2=[Q2],W2={class:"form-head"},J2=e2((()=>(0,i._)("h2",{class:"title"},"Thêm khách hàng",-1))),X2={key:0,class:"mes-success"},t3={key:1,class:"mes-failed"},e3={class:"row"},s3={class:"spe-group col-lg-6"},a3=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên khách hàng "),(0,i._)("span",{class:"required"},"*")],-1))),i3={class:"spe-group col-lg-6"},n3=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại"),(0,i._)("span",{class:"required"},"*")],-1))),l3={class:"spe-group col-lg-6"},o3=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Email"),(0,i._)("span",{class:"required"},"*")],-1))),r3={class:"spe-group col-lg-6"},c3=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ"),(0,i._)("span",{class:"required"},"*")],-1))),d3={class:"row"},h3={class:"group col-lg-4"},p3=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Tỉnh/Thành phố "),(0,i._)("span",{class:"required"},"*")])],-1))),u3=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),m3=["value"],g3={class:"group col-lg-4"},y3=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Quận/huyện "),(0,i._)("span",{class:"required"},"*")])],-1))),f3=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),v3=["value"],_3={class:"group col-lg-4"},w3=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Phường/Xã "),(0,i._)("span",{class:"required"},"*")])],-1))),b3=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),k3=["value"],C3=e2((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit mt-5"},"Thêm")],-1))),x3=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn khách hàng ---",-1))),S3=["value"],D3=e2((()=>(0,i._)("i",{class:"fa-solid fa-pen"},null,-1))),T3={key:1,class:"overlay"},P3=e2((()=>(0,i._)("i",{class:"fa-solid fa-xmark"},null,-1))),I3=[P3],A3={class:"form-head"},U3=e2((()=>(0,i._)("h2",{class:"title"},"Xem và thay đổi thông tin",-1))),q3={key:0,class:"mes-success"},N3={key:1,class:"mes-failed"},z3={class:"row"},F3={class:"spe-group col-lg-4"},O3=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên khách hàng "),(0,i._)("span",{class:"required"},"*")],-1))),M3={class:"spe-group col-lg-4"},V3=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại"),(0,i._)("span",{class:"required"},"*")],-1))),E3={class:"spe-group col-lg-4"},$3=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Email"),(0,i._)("span",{class:"required"},"*")],-1))),B3={key:0,class:"spe-group col-lg-12"},R3=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ"),(0,i._)("span",{class:"required"},"*")],-1))),H3={class:"row"},Y3={key:1,class:"spe-group col-lg-12"},K3=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ"),(0,i._)("span",{class:"required"},"*")],-1))),L3={key:0,class:"row"},Z3={class:"group col-lg-4"},j3=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Tỉnh/Thành phố "),(0,i._)("span",{class:"required"},"*")])],-1))),Q3=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),G3=["value"],W3={class:"group col-lg-4"},J3=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Quận/huyện "),(0,i._)("span",{class:"required"},"*")])],-1))),X3=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),t6=["value"],e6={class:"group col-lg-4"},s6=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:""},[(0,i.Uk)("Phường/Xã "),(0,i._)("span",{class:"required"},"*")])],-1))),a6=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),i6=["value"],n6=e2((()=>(0,i._)("div",null,[(0,i._)("button",{class:"btn btn-brand-submit mt-5"},"Sửa")],-1))),l6={class:"group col-lg-4"},o6=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Chọn nhân viên "),(0,i._)("span",{class:"required"},"*")])],-1))),r6=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),c6=["value"],d6={class:"group col-lg-4"},h6={class:"d-flex mb-1"},p6=e2((()=>(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Chọn dịch vụ"),(0,i._)("span",{class:"required"},"*")],-1))),u6=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),m6=["value"],g6={class:"row"},y6={class:"group col-lg-12"},f6={class:"w-100"},v6=e2((()=>(0,i._)("div",{class:"d-flex"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i._)("strong",null,"Ghi chú")])],-1))),_6=e2((()=>(0,i._)("button",{class:"btn btn-success px-5 mt-3"},"Tạo",-1))),w6={key:1,class:"overlay"},b6={class:"d-flex justify-content-end"},k6=e2((()=>(0,i._)("h3",null,"Sửa công việc",-1))),C6={class:"row"},x6={key:0},S6=e2((()=>(0,i._)("strong",null,"Ngày thực hiện",-1))),D6=e2((()=>(0,i._)("span",{class:"ms-4"},[(0,i._)("strong",null,"Thời gian"),(0,i.Uk)(":Cả ngày")],-1))),T6={key:1},P6=e2((()=>(0,i._)("strong",null,"Ngày thực hiện",-1))),I6={class:"ms-4"},A6=e2((()=>(0,i._)("strong",null,"Giờ bắt đầu",-1))),U6={class:"ms-4"},q6=e2((()=>(0,i._)("strong",null,"Giờ kết thúc",-1))),N6={class:"spe-group col-lg-4 mb-4"},z6=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Tên khách hàng"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),F6={class:"spe-group col-lg-4 mb-4"},O6=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("email"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),M6={class:"spe-group col-lg-4 mb-4"},V6=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Số điện thoại"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),E6={class:"spe-group col-lg-6 mb-4"},$6=e2((()=>(0,i._)("label",{for:""},[(0,i.Uk)("Địa chỉ khách hàng"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),B6={class:"col-lg-12 mb-5"},R6={key:0,class:"status"},H6=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:#fc4f00;" data-v-f366131c></div><div class="status-item" style="--left:10%;" data-v-f366131c><span style="--border-color:#fc4f00;" data-v-f366131c>1</span><span data-v-f366131c>Chưa bắt đầu</span></div><div class="status-item" style="--left:43%;" data-v-f366131c><span style="--border-color:#fc4f00;" data-v-f366131c>2</span><span data-v-f366131c>Đang tiến hành</span></div><div class="status-item" style="--left:75%;" data-v-f366131c><span style="--border-color:#fc4f00;" data-v-f366131c>3</span><span data-v-f366131c>Hoàn thành</span></div>',4),Y6={key:2,class:"btn btn-danger my-5",disabled:""},K6={key:3,class:"btn btn-info my-5"},L6={key:1,class:"status"},Z6=(0,i.uE)('<div class="status-progress-color" style="--left:80%;--colorB:#11e911;" data-v-f366131c></div><div class="status-item" style="--left:10%;" data-v-f366131c><span style="--border-color:#11e911;" data-v-f366131c>1</span><span data-v-f366131c>Chưa bắt đầu</span></div><div class="status-item" style="--left:43%;" data-v-f366131c><span style="--border-color:blue;" data-v-f366131c>2</span><span data-v-f366131c>Đang tiến hành</span></div><div class="status-item" style="--left:75%;" data-v-f366131c><span style="--border-color:blue;" data-v-f366131c>3</span><span data-v-f366131c>Hoàn thành</span></div>',4),j6={key:2,class:"btn btn-info my-5"},Q6={key:2,class:"status"},G6=(0,i.uE)('<div class="status-progress-color" style="--left:45%;--colorB:#11e911;" data-v-f366131c></div><div class="status-item" style="--left:10%;" data-v-f366131c><span style="--border-color:#11e911;" data-v-f366131c>1</span><span data-v-f366131c>Chưa bắt đầu</span></div><div class="status-item" style="--left:43%;" data-v-f366131c><span style="--border-color:#11e911;" data-v-f366131c>2</span><span data-v-f366131c>Đang tiến hành</span></div><div class="status-item" style="--left:75%;" data-v-f366131c><span style="--border-color:blue;" data-v-f366131c>3</span><span data-v-f366131c>Hoàn thành</span></div>',4),W6={key:2,class:"btn btn-info my-5"},J6={key:3,class:"status"},X6=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:#11e911;" data-v-f366131c></div><div class="status-item" style="--left:10%;" data-v-f366131c><span style="--border-color:#11e911;" data-v-f366131c>1</span><span data-v-f366131c>Chưa bắt đầu</span></div><div class="status-item" style="--left:43%;" data-v-f366131c><span style="--border-color:#11e911;" data-v-f366131c>2</span><span data-v-f366131c>Đang tiến hành</span></div><div class="status-item" style="--left:75%;" data-v-f366131c><span style="--border-color:#11e911;" data-v-f366131c>3</span><span data-v-f366131c>Hoàn thành</span></div>',4),t4={key:4,class:"status"},e4=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:#FC4F00;" data-v-f366131c></div><div class="status-item" style="--left:10%;" data-v-f366131c><span style="--border-color:#11e911;" data-v-f366131c>1</span><span data-v-f366131c>Chưa bắt đầu</span></div><div class="status-item" style="--left:43%;" data-v-f366131c><span style="--border-color:#11e911;" data-v-f366131c>2</span><span data-v-f366131c>Đang tiến hành</span></div><div class="status-item" style="--left:75%;" data-v-f366131c><span style="--border-color:#11e911;" data-v-f366131c>3</span><span data-v-f366131c>Hoàn thành</span></div>',4),s4={class:"group col-lg-4 mt-5"},a4=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Chọn nhân viên "),(0,i._)("span",{class:"required"},"*")])],-1))),i4=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),n4=["value"],l4={class:"group col-lg-4 mt-5"},o4=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Chọn dịch vụ"),(0,i._)("span",{class:"required"},"*")])],-1))),r4=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),c4=["value"],d4={class:"col-lg-4 mt-5"},h4={class:"group"},p4=e2((()=>(0,i._)("label",{for:"",class:"mt-0"},"Ghi chú",-1))),u4={key:2,class:"overlay"},m4={class:"d-flex justify-content-end"},g4=e2((()=>(0,i._)("h3",null,"Báo cáo công việc",-1))),y4={class:"row"},f4={class:"d-flex justify-content-center ms-5"},v4={class:"row w-75"},_4={class:"col-lg-6"},w4={class:"row mb-1 text-start"},b4=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tên Khách hàng:")],-1))),k4={class:"col-6"},C4=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Địa chỉ")],-1))),x4={class:"col-6"},S4=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"SĐT:")],-1))),D4={class:"col-6"},T4={class:"col-lg-6"},P4={class:"row mb-1 text-start"},I4=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tên nhân viên:")],-1))),A4={class:"col-6"},U4=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tên dịch vụ:")],-1))),q4={class:"col-6"},N4={class:"row gx-0 mt-3"},z4={class:"scroll2 col-lg-8"},F4=e2((()=>(0,i._)("h6",{class:"text-uppercase"},"Danh sách sản phẩm",-1))),O4={class:"scroll"},M4={class:"group col-lg-4"},V4=e2((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Danh sách phụ kiện "),(0,i._)("span",{class:"required"},"*")])],-1))),E4=["onUpdate:modelValue","onChange"],$4=e2((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),B4=["value"],R4={class:"spe-group col-lg-4"},H4=e2((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},"Giá bán",-1))),Y4={class:"price"},K4={class:"spe-group col-lg-4"},L4=e2((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},[(0,i.Uk)("Số lượng"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),Z4=["onUpdate:modelValue","onKeyup"],j4={key:0,class:"text-danger"},Q4=e2((()=>(0,i._)("hr",null,null,-1))),G4={class:"row control"},W4={class:"d-flex justify-content-center align-items-center mt-1"},J4={class:"group me-3"},X4={class:"group"},t5={class:"col-lg-4 scroll2"},e5={class:"entry-group col-lg-12"},s5=e2((()=>(0,i._)("label",{for:""},"Ảnh chụp thực tế",-1))),a5={class:"spe-group col-lg-12"},i5=e2((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},[(0,i.Uk)("Tiền công"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),n5={key:0,class:"text-danger"},l5={class:"row mb-1 text-start"},o5=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tiền công:")],-1))),r5={class:"col-6"},c5={class:"row mb-1 text-start"},d5=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Số tiền của phụ kiện:")],-1))),h5={class:"col-6"},p5={class:"row mb-1 text-start mt-2"},u5=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tổng tiền:")],-1))),m5={class:"col-6"},g5={key:0,class:"image"},y5=["src"],f5=e2((()=>(0,i._)("button",{class:"btn btn-success mt-3 px-5"},"Cập nhật",-1))),v5={key:3,class:"overlay"},_5={class:"d-flex justify-content-end"},w5=e2((()=>(0,i._)("h3",null,"Chi tiết công việc",-1))),b5={class:"row"},k5={class:"row"},C5={class:"col-lg-4"},x5={class:"row mb-1 text-start"},S5=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tên Khách hàng:")],-1))),D5={class:"col-6"},T5=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Địa chỉ")],-1))),P5={class:"col-6"},I5=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"SĐT:")],-1))),A5={class:"col-6"},U5={class:"col-lg-4"},q5={class:"row mb-1 text-start"},N5=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tên nhân viên:")],-1))),z5={class:"col-6"},F5=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tên dịch vụ:")],-1))),O5={class:"col-6"},M5={class:"col-lg-4 img-detail-report"},V5=["src"],E5={class:"row gx-0 mt-3"},$5={class:"scroll2 col-lg-8"},B5=e2((()=>(0,i._)("h6",{class:"text-uppercase"},"Danh sách sản phẩm",-1))),R5={class:"scroll"},H5={class:"table"},Y5=e2((()=>(0,i._)("thead",null,[(0,i._)("tr",{class:"row"},[(0,i._)("th",{class:"col-1 text-center"}," STT "),(0,i._)("th",{class:"col"}," Tên phụ kiện "),(0,i._)("th",{class:"col"}," Giá phụ kiện "),(0,i._)("th",{class:"col"}," Số lượng ")])],-1))),K5={class:"col-1 text-center"},L5={class:"col"},Z5={class:"col"},j5={class:"col"},Q5={class:"col-lg-4 scroll2"},G5={class:"row mb-1 text-start"},W5=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tiền công:")],-1))),J5={class:"col-6"},X5={class:"row mb-1 text-start"},t7=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Số tiền của phụ kiện:")],-1))),e7={class:"col-6"},s7={class:"row mb-1 text-start mt-2"},a7=e2((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tổng tiền:")],-1))),i7={class:"col-6"};function n7(t,e,s,a,l,o){const r=(0,i.up)("FullCalendar"),c=(0,i.up)("adminServiceCreate");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",s2,[a2,(0,i._)("div",i2,[(0,i._)("div",n2,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[l2,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,o2))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[r2,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,c2))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[d2,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,h2)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},u2,512),[[A.bM,l.dateFilter.field]]),m2],32),(0,i._)("div",g2,[(0,i._)("div",{class:"btn btn-success",onClick:e[5]||(e[5]=(...t)=>o.exportToExcel&&o.exportToExcel(...t))},[y2,(0,i.Uk)(" Excel ")])])])]),(0,i._)("div",f2,[v2,(0,i._)("div",_2,[l.isSort?((0,i.wg)(),(0,i.iD)("span",{key:0,onClick:e[6]||(e[6]=(...t)=>o.offSort&&o.offSort(...t)),class:"fs-2 sort"},"Đang lọc...")):(0,i.kq)("",!0),w2,(0,i._)("div",null,[(0,i._)("div",{class:"note-color",onClick:e[7]||(e[7]=t=>o.fillter("Chưa bắt đầu"))},C2),(0,i._)("div",{class:"note-color",onClick:e[8]||(e[8]=t=>o.fillter("Đang tiến hành"))},D2),(0,i._)("div",{class:"note-color",onClick:e[9]||(e[9]=t=>o.fillter("Hoàn thành"))},I2),(0,i._)("div",{class:"note-color",onClick:e[10]||(e[10]=t=>o.fillter("Đã báo cáo"))},q2)]),(0,i._)("div",N2,[z2,(0,i._)("div",F2,[(0,i._)("div",O2,[M2,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[11]||(e[11]=t=>l.inputSearch2=t),onInput:e[12]||(e[12]=t=>o.handleFitter("nameStaff")),type:"text",placeholder:"Nhập tên nhân viên"},null,544),[[A.nr,l.inputSearch2]])]),(0,i._)("div",V2,[E2,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[13]||(e[13]=t=>l.inputSearch=t),onInput:e[14]||(e[14]=t=>o.handleFitter("nameCustomer")),type:"text",placeholder:"Nhập tên khách hàng"},null,544),[[A.nr,l.inputSearch]])])])])])]),(0,i.Wm)(r,{class:"col-lg-10",ref:"fullCalendar",options:l.calendarOptions},{eventContent:(0,i.w5)((t=>[(0,i._)("b",null,(0,n.zw)(t.timeText),1),(0,i._)("i",null,(0,n.zw)(t.event.title),1)])),_:1},8,["options"])]),l.activeCreate?((0,i.wg)(),(0,i.iD)("div",$2,[(0,i._)("form",{class:"form-task2",onSubmit:e[51]||(e[51]=(0,A.iM)(((...t)=>o.submitCreate&&o.submitCreate(...t)),["prevent","stop"]))},[(0,i._)("div",B2,[(0,i._)("i",{onClick:e[15]||(e[15]=(...t)=>o.closeCreate&&o.closeCreate(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),R2,(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":!!l.mesFail,"text-success":!!l.messSuc}])},(0,n.zw)(l.mesFail?l.mesFail:l.messSuc),3),H2,l.printTaskId?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"btn btn-warning",onClick:e[16]||(e[16]=t=>o.printPDF(l.printTaskId))},"In Phiếu việc")):(0,i.kq)("",!0),(0,i._)("div",Y2,[(0,i._)("div",K2,[(0,i._)("div",L2,[Z2,(0,i._)("span",{class:"btn btn-info btn-brand mt-0",onClick:e[17]||(e[17]=t=>l.activeCustomer=!0)},"Mới")]),l.activeCustomer?((0,i.wg)(),(0,i.iD)("div",j2,[(0,i._)("form",{action:"",class:"customer-form",onSubmit:e[29]||(e[29]=(0,A.iM)(((...t)=>o.addCustomer&&o.addCustomer(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"d-flex justify-content-end text-danger fs-2",onClick:e[18]||(e[18]=(...t)=>o.closeFormCustomer&&o.closeFormCustomer(...t))},G2),(0,i._)("div",W2,[J2,l.mesSucCus?((0,i.wg)(),(0,i.iD)("span",X2,(0,n.zw)(l.mesSucCus),1)):(0,i.kq)("",!0),l.mesFaiCus?((0,i.wg)(),(0,i.iD)("span",t3,(0,n.zw)(l.mesFaiCus),1)):(0,i.kq)("",!0)]),(0,i._)("div",e3,[(0,i._)("div",s3,[a3,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên khách hàng","onUpdate:modelValue":e[19]||(e[19]=t=>l.customer.fullName=t)},null,512),[[A.nr,l.customer.fullName]])]),(0,i._)("div",i3,[n3,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập Số điện thoại","onUpdate:modelValue":e[20]||(e[20]=t=>l.customer.phone=t)},null,512),[[A.nr,l.customer.phone]]),l.valid.phone?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.phone})},(0,n.zw)(l.valid.phone),3)):(0,i.kq)("",!0)]),(0,i._)("div",l3,[o3,(0,i.wy)((0,i._)("input",{type:"email",required:"",placeholder:"Nhập email của bạn","onUpdate:modelValue":e[21]||(e[21]=t=>l.customer.email=t)},null,512),[[A.nr,l.customer.email]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.email})},(0,n.zw)(l.valid.email),3)):(0,i.kq)("",!0)]),(0,i._)("div",r3,[c3,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên đường, hẻm, số nhà","onUpdate:modelValue":e[22]||(e[22]=t=>l.customer.address=t)},null,512),[[A.nr,l.customer.address]])])]),(0,i._)("div",d3,[(0,i._)("div",h3,[p3,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[23]||(e[23]=t=>l.VmodelAddress.city=t),name:"",id:"",class:"form-select w-100",onChange:e[24]||(e[24]=t=>o.getDistricts(l.VmodelAddress.city)),required:""},[u3,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.city,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,m3)))),128))],544),[[A.bM,l.VmodelAddress.city]])]),(0,i._)("div",g3,[y3,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[25]||(e[25]=t=>l.VmodelAddress.district=t),name:"",id:"",class:"form-select w-100",onChange:e[26]||(e[26]=t=>o.getWards(l.VmodelAddress.district)),required:""},[f3,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.districts,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,v3)))),128))],544),[[A.bM,l.VmodelAddress.district]])]),(0,i._)("div",_3,[w3,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[27]||(e[27]=t=>l.VmodelAddress.ward=t),name:"",id:"",class:"form-select w-100",onChange:e[28]||(e[28]=t=>o.saveAddress(l.VmodelAddress.ward)),required:""},[b3,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.wards,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,k3)))),128))],544),[[A.bM,l.VmodelAddress.ward]])])]),C3],32)])):(0,i.kq)("",!0),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[30]||(e[30]=t=>l.customerId=t),class:"form-select",required:"",onChange:e[31]||(e[31]=t=>o.getCustomerById(l.customerId))},[x3,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.customers,((t,e)=>((0,i.wg)(),(0,i.iD)("option",{key:e,class:"form-option",value:t._id},[(0,i.Uk)((0,n.zw)(t.fullName)+" ",1),D3],8,S3)))),128))],544),[[A.bM,l.customerId]]),l.activeEditCustomer?((0,i.wg)(),(0,i.iD)("div",T3,[(0,i._)("form",{action:"",class:"customer-form",onSubmit:e[45]||(e[45]=(0,A.iM)(((...t)=>o.editCustomer&&o.editCustomer(...t)),["prevent","stop"]))},[(0,i._)("div",{class:"d-flex justify-content-end fs-2 text-danger",onClick:e[32]||(e[32]=(...t)=>o.closeFormCustomerEdit&&o.closeFormCustomerEdit(...t))},I3),(0,i._)("div",A3,[U3,l.mesSucCus?((0,i.wg)(),(0,i.iD)("span",q3,(0,n.zw)(l.mesSucCus),1)):(0,i.kq)("",!0),l.mesFaiCus?((0,i.wg)(),(0,i.iD)("span",N3,(0,n.zw)(l.mesFaiCus),1)):(0,i.kq)("",!0)]),(0,i._)("div",z3,[(0,i._)("div",F3,[O3,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên khách hàng","onUpdate:modelValue":e[33]||(e[33]=t=>l.customerInfo.fullName=t)},null,512),[[A.nr,l.customerInfo.fullName]])]),(0,i._)("div",M3,[V3,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập Số điện thoại","onUpdate:modelValue":e[34]||(e[34]=t=>l.customerInfo.phone=t)},null,512),[[A.nr,l.customerInfo.phone]]),l.valid.phone?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.phone})},(0,n.zw)(l.valid.phone),3)):(0,i.kq)("",!0)]),(0,i._)("div",E3,[$3,(0,i.wy)((0,i._)("input",{type:"email",required:"",placeholder:"Nhập email của bạn","onUpdate:modelValue":e[35]||(e[35]=t=>l.customerInfo.email=t)},null,512),[[A.nr,l.customerInfo.email]]),l.valid.email?((0,i.wg)(),(0,i.iD)("span",{key:0,class:(0,n.C_)({"text-danger":!!l.valid.email})},(0,n.zw)(l.valid.email),3)):(0,i.kq)("",!0)]),l.activeEditAddress?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",B3,[R3,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên đường, hẻm, số nhà","onUpdate:modelValue":e[36]||(e[36]=t=>l.customerInfo.address=t),disabled:""},null,512),[[A.nr,l.customerInfo.address]])])),(0,i._)("div",H3,[(0,i._)("span",{class:"col-lg-3 ms-2 btn btn-warning",onClick:e[37]||(e[37]=t=>l.activeEditAddress=!l.activeEditAddress)},(0,n.zw)(l.activeEditAddress?"Giữ địa chỉ cũ":"Tạo địa chỉ mới"),1)]),l.activeEditAddress?((0,i.wg)(),(0,i.iD)("div",Y3,[K3,(0,i.wy)((0,i._)("input",{type:"text",required:"",placeholder:"Nhập tên đường, hẻm, số nhà","onUpdate:modelValue":e[38]||(e[38]=t=>l.customerInfo.address2=t)},null,512),[[A.nr,l.customerInfo.address2]])])):(0,i.kq)("",!0)]),l.activeEditAddress?((0,i.wg)(),(0,i.iD)("div",L3,[(0,i._)("div",Z3,[j3,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[39]||(e[39]=t=>l.VmodelAddress.city=t),name:"",id:"",class:"form-select w-100",onChange:e[40]||(e[40]=t=>o.getDistricts(l.VmodelAddress.city)),required:""},[Q3,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.city,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,G3)))),128))],544),[[A.bM,l.VmodelAddress.city]])]),(0,i._)("div",W3,[J3,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[41]||(e[41]=t=>l.VmodelAddress.district=t),name:"",id:"",class:"form-select w-100",onChange:e[42]||(e[42]=t=>o.getWards(l.VmodelAddress.district)),required:""},[X3,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.districts,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,t6)))),128))],544),[[A.bM,l.VmodelAddress.district]])]),(0,i._)("div",e6,[s6,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[43]||(e[43]=t=>l.VmodelAddress.ward=t),name:"",id:"",class:"form-select w-100",onChange:e[44]||(e[44]=t=>o.saveAddress(l.VmodelAddress.ward)),required:""},[a6,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.wards,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t.code,value:t},(0,n.zw)(t.name),9,i6)))),128))],544),[[A.bM,l.VmodelAddress.ward]])])])):(0,i.kq)("",!0),n6],32)])):(0,i.kq)("",!0)]),(0,i._)("div",l6,[o6,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[46]||(e[46]=t=>l.infoTask.staffId=t),class:"form-select mt-1",required:""},[r6,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.staffs,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t._id,key:t._id},(0,n.zw)(t.fullName),9,c6)))),128))],512),[[A.bM,l.infoTask.staffId]])]),(0,i._)("div",d6,[(0,i._)("div",h6,[p6,(0,i._)("span",{class:"btn btn-info btn-brand mt-0",onClick:e[47]||(e[47]=t=>l.activeServiceCreate=!0)},"Mới")]),(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[48]||(e[48]=t=>l.infoTask.serviceId=t),class:"form-select",required:"",onChange:e[49]||(e[49]=t=>o.getServiceById(l.infoTask.serviceId))},[u6,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.services,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t._id,key:t._id},(0,n.zw)(t.name),9,m6)))),128))],544),[[A.bM,l.infoTask.serviceId]])])]),(0,i._)("div",g6,[(0,i._)("div",y6,[(0,i._)("div",f6,[v6,(0,i.wy)((0,i._)("textarea",{class:"note","onUpdate:modelValue":e[50]||(e[50]=t=>l.note=t),placeholder:"Ghi chú..."},null,512),[[A.nr,l.note]])])])]),_6],32)])):(0,i.kq)("",!0),l.activeEdit?((0,i.wg)(),(0,i.iD)("div",w6,[(0,i._)("form",{class:"form-task",action:"",onSubmit:e[74]||(e[74]=(0,A.iM)((()=>{}),["prevent","stop"]))},[(0,i._)("div",b6,[(0,i._)("i",{onClick:e[52]||(e[52]=(...t)=>o.closeEdit&&o.closeEdit(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),k6,(0,i._)("div",C6,[(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":!!l.mesFail,"text-success":!!l.messSuc}])},(0,n.zw)(l.mesFail?l.mesFail:l.messSuc),3),l.infoTaskEdit.allDay?((0,i.wg)(),(0,i.iD)("div",x6,[(0,i._)("span",null,[S6,(0,i.Uk)(":"+(0,n.zw)(o.formatDateNoTime(l.infoTaskEdit.startDate)),1)]),D6])):(0,i.kq)("",!0),l.infoTaskEdit.allDay?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",T6,[(0,i._)("span",null,[P6,(0,i.Uk)(":"+(0,n.zw)(o.formatDateNoTime(l.infoTaskEdit.startDate)),1)]),(0,i._)("span",I6,[A6,(0,i.Uk)(":"+(0,n.zw)(o.formatHour(l.infoTaskEdit.startDate)),1)]),(0,i._)("span",U6,[q6,(0,i.Uk)(":"+(0,n.zw)(o.formatHour(l.infoTaskEdit.endDate)),1)])])),(0,i._)("div",N6,[z6,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[53]||(e[53]=t=>l.infoTaskEdit.nameCustomer=t),type:"text",placeholder:"Tên khách hàng...",required:""},null,512),[[A.nr,l.infoTaskEdit.nameCustomer]])]),(0,i._)("div",F6,[O6,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[54]||(e[54]=t=>l.infoTaskEdit.phone=t),type:"text",placeholder:"Số điện thoại...",required:""},null,512),[[A.nr,l.infoTaskEdit.phone]])]),(0,i._)("div",M6,[V6,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[55]||(e[55]=t=>l.infoTaskEdit.email=t),type:"text",placeholder:"Số điện thoại...",required:""},null,512),[[A.nr,l.infoTaskEdit.email]])]),(0,i._)("div",E6,[$6,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e[56]||(e[56]=t=>l.infoTaskEdit.address=t),type:"text",placeholder:"Địa chỉ...",required:""},null,512),[[A.nr,l.infoTaskEdit.address]])]),(0,i._)("div",B6,["Quá hạn"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("div",R6,[H6,"Chưa bắt đầu"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"btn btn-info my-5",onClick:e[57]||(e[57]=t=>o.editStatus(l.infoTaskEdit._id,"Đang tiến hành"))},"Cập nhật thành đang tiến hành")):(0,i.kq)("",!0),"Đang tiến hành"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("span",{key:1,class:"btn btn-info my-5",onClick:e[58]||(e[58]=t=>o.editStatus(l.infoTaskEdit._id,"Hoàn thành"))},"Cập nhật thành hoàn thành")):(0,i.kq)("",!0),"Quá hạn"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("button",Y6," Quá hạn ")):(0,i.kq)("",!0),"Hoàn thành"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("span",K6,"Đã hoàn thành")):(0,i.kq)("",!0)])):(0,i.kq)("",!0),"Chưa bắt đầu"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("div",L6,[Z6,"Chưa bắt đầu"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"btn btn-info my-5",onClick:e[59]||(e[59]=t=>o.editStatus(l.infoTaskEdit._id,"Đang tiến hành"))},"Cập nhật thành đang tiến hành")):(0,i.kq)("",!0),"Đang tiến hành"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("span",{key:1,class:"btn btn-info my-5",onClick:e[60]||(e[60]=t=>o.editStatus(l.infoTaskEdit._id,"Hoàn thành"))},"Cập nhật thành hoàn thành")):(0,i.kq)("",!0),"Hoàn thành"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("span",j6,"Đã hoàn thành")):(0,i.kq)("",!0)])):(0,i.kq)("",!0),"Đang tiến hành"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("div",Q6,[G6,"Chưa bắt đầu"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"btn btn-info my-5",onClick:e[61]||(e[61]=t=>o.editStatus(l.infoTaskEdit._id,"Đang tiến hành"))},"Cập nhật thành đang tiến hành")):(0,i.kq)("",!0),"Đang tiến hành"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("span",{key:1,class:"btn btn-info my-5",onClick:e[62]||(e[62]=t=>o.editStatus(l.infoTaskEdit._id,"Hoàn thành"))},"Cập nhật thành hoàn thành")):(0,i.kq)("",!0),"Hoàn thành"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("span",W6,"Đã hoàn thành")):(0,i.kq)("",!0)])):(0,i.kq)("",!0),"Hoàn thành"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("div",J6,[X6,l.infoTaskEdit.isReport?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"btn btn-info my-5",onClick:e[64]||(e[64]=t=>l.activeReportDetail=!0)}," Xem Báo cáo ")):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-info my-5",onClick:e[63]||(e[63]=t=>l.activeOrderTask=!0)}," Báo cáo "))])):(0,i.kq)("",!0),"Đã báo cáo"==l.infoTaskEdit.status?((0,i.wg)(),(0,i.iD)("div",t4,[e4,l.infoTaskEdit.isReport?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"btn btn-info my-5",onClick:e[66]||(e[66]=t=>l.activeReportDetail=!0)}," Xem Báo cáo ")):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-info my-5",onClick:e[65]||(e[65]=t=>l.activeOrderTask=!0)}," Báo cáo "))])):(0,i.kq)("",!0)]),(0,i._)("div",s4,[a4,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[67]||(e[67]=t=>l.infoTaskEdit.staffId=t),class:"form-select",required:""},[i4,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.staffs,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t._id,key:t._id},(0,n.zw)(t.fullName),9,n4)))),128))],512),[[A.bM,l.infoTaskEdit.staffId]])]),(0,i._)("div",l4,[o4,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[68]||(e[68]=t=>l.infoTaskEdit.serviceId=t),class:"form-select",required:"",onChange:e[69]||(e[69]=t=>o.ChangePriceTaskEdit(l.infoTaskEdit.serviceId))},[r4,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.services,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t._id,key:t._id},(0,n.zw)(t.name),9,c4)))),128))],544),[[A.bM,l.infoTaskEdit.serviceId]])]),(0,i._)("div",d4,[(0,i._)("div",h4,[p4,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[70]||(e[70]=t=>l.infoTaskEdit.note=t),class:"input-price"},null,512),[[A.nr,l.infoTaskEdit.note]])])])]),(0,i._)("button",{class:"btn btn-success me-3 mt-3",onClick:e[71]||(e[71]=t=>o.editTask(l.infoTaskEdit._id))},"Sửa"),(0,i._)("button",{class:"btn btn-danger me-3 mt-3",onClick:e[72]||(e[72]=t=>o.deleteTask(l.infoTaskEdit._id))},"Xóa"),l.infoTaskEdit.isReport?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-warning mt-3",onClick:e[73]||(e[73]=t=>o.printPDF(l.infoTaskEdit._id))},"In phiếu"))],32)])):(0,i.kq)("",!0),l.activeOrderTask?((0,i.wg)(),(0,i.iD)("div",u4,[(0,i._)("form",{class:"form-task",action:"",onSubmit:e[84]||(e[84]=(0,A.iM)(((...t)=>o.submitReport&&o.submitReport(...t)),["prevent","stop"]))},[(0,i._)("div",m4,[(0,i._)("i",{onClick:e[75]||(e[75]=(...t)=>o.closeReportCreate&&o.closeReportCreate(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),g4,(0,i._)("div",y4,[(0,i._)("span",{class:(0,n.C_)(["fs-4",{"text-danger":!!l.mesReportF,"text-success":!!l.mesReportS}])},(0,n.zw)(l.mesReportF?l.mesReportF:l.mesReportS),3),(0,i._)("div",f4,[(0,i._)("div",v4,[(0,i._)("div",_4,[(0,i._)("div",w4,[b4,(0,i._)("span",k4,(0,n.zw)(l.infoTaskEdit.nameCustomer),1),C4,(0,i._)("span",x4,(0,n.zw)(l.infoTaskEdit.address),1),S4,(0,i._)("span",D4,(0,n.zw)(l.infoTaskEdit.phone),1)])]),(0,i._)("div",T4,[(0,i._)("div",P4,[I4,(0,i._)("span",A4,(0,n.zw)(l.staffs[l.staffs.findIndex((t=>t._id==l.infoTaskEdit.staffId))].fullName),1),U4,(0,i._)("span",q4,(0,n.zw)(l.services[l.services.findIndex((t=>t._id==l.infoTaskEdit.serviceId))].name),1)])])])]),(0,i._)("div",N4,[(0,i._)("div",z4,[F4,(0,i._)("div",O4,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.infoAccessorys,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e},[(0,i._)("div",M4,[V4,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>t.accessoryId=e,class:"form-select",onChange:s=>o.getproductById(t.accessoryId,e)},[$4,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.accessorys,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t._id,key:t._id},(0,n.zw)(t.name),9,B4)))),128))],40,E4),[[A.bM,t.accessoryId]])]),(0,i._)("div",R4,[H4,(0,i._)("span",Y4,"Giá: "+(0,n.zw)(t.priceSale),1)]),(0,i._)("div",K4,[L4,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e=>t.quantity=e,onKeyup:e=>o.checkQuantity(e,t),type:"number",placeholder:"Nhập số lượng hàng"},null,40,Z4),[[A.nr,t.quantity]]),l.mesValid&&l.idValid==t.accessoryId?((0,i.wg)(),(0,i.iD)("span",j4,(0,n.zw)(l.mesValid),1)):(0,i.kq)("",!0)])])))),128))]),Q4,(0,i._)("div",G4,[(0,i._)("div",W4,[(0,i._)("div",J4,[(0,i._)("span",{class:"btn btn-outline-success",onClick:e[76]||(e[76]=(...t)=>o.pushRow&&o.pushRow(...t))},"Thêm dòng")]),(0,i._)("div",X4,[(0,i._)("span",{class:"btn btn-outline-danger",onClick:e[77]||(e[77]=(...t)=>o.popRow&&o.popRow(...t))},"Bớt dòng")])])])]),(0,i._)("div",t5,[(0,i._)("div",e5,[s5,(0,i._)("input",{class:"entry-file-input",ref:"entryInputFile",type:"file",onChange:e[78]||(e[78]=(...t)=>o.handleImage&&o.handleImage(...t)),required:""},null,544)]),(0,i._)("div",a5,[i5,(0,i.wy)((0,i._)("input",{class:"input-price","onUpdate:modelValue":e[79]||(e[79]=t=>l.infoTask.wage=t),min:"0",onKeyup:e[80]||(e[80]=t=>o.checkWage(t)),onFocus:e[81]||(e[81]=t=>l.infoTask.wage=""),onBlur:e[82]||(e[82]=t=>""!=l.infoTask.wage?l.infoTask.wage=l.infoTask.wage:l.infoTask.wage=0),type:"number",placeholder:"Tiền công của dịch vụ"},null,544),[[A.nr,l.infoTask.wage]]),l.mesValidWage?((0,i.wg)(),(0,i.iD)("span",n5,(0,n.zw)(l.mesValidWage),1)):(0,i.kq)("",!0)]),(0,i._)("div",l5,[o5,(0,i._)("span",r5,(0,n.zw)(l.infoTask.wage?o.formatCurrency(l.infoTask.wage):o.formatCurrency(0)),1)]),(0,i._)("div",c5,[d5,(0,i._)("span",h5,(0,n.zw)(o.formatCurrency(l.totalOfAccessory)),1)]),(0,i._)("div",p5,[u5,(0,i._)("span",m5,(0,n.zw)(o.formatCurrency(l.totalAmount)),1)])])])]),l.imgSrc?((0,i.wg)(),(0,i.iD)("div",g5,[(0,i._)("img",{src:l.imgSrc,alt:""},null,8,y5),(0,i._)("i",{class:"fa-solid fa-xmark",onClick:e[83]||(e[83]=(...t)=>o.deleteEntryImg&&o.deleteEntryImg(...t))})])):(0,i.kq)("",!0),f5],32)])):(0,i.kq)("",!0),l.activeReportDetail?((0,i.wg)(),(0,i.iD)("div",v5,[(0,i._)("div",{class:"form-task",action:"",onSubmit:e[87]||(e[87]=(0,A.iM)(((...t)=>o.submitReport&&o.submitReport(...t)),["prevent","stop"]))},[(0,i._)("div",_5,[(0,i._)("i",{onClick:e[85]||(e[85]=t=>l.activeReportDetail=!1),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),w5,(0,i._)("div",b5,[(0,i._)("div",k5,[(0,i._)("div",C5,[(0,i._)("div",x5,[S5,(0,i._)("span",D5,(0,n.zw)(l.infoTaskEdit.nameCustomer),1),T5,(0,i._)("span",P5,(0,n.zw)(l.infoTaskEdit.address),1),I5,(0,i._)("span",A5,(0,n.zw)(l.infoTaskEdit.phone),1)])]),(0,i._)("div",U5,[(0,i._)("div",q5,[N5,(0,i._)("span",z5,(0,n.zw)(l.staffs[l.staffs.findIndex((t=>t._id==l.infoTaskEdit.staffId))].fullName),1),F5,(0,i._)("span",O5,(0,n.zw)(l.services[l.services.findIndex((t=>t._id==l.infoTaskEdit.serviceId))].name),1)])]),(0,i._)("div",M5,[(0,i._)("img",{class:"",src:"http://localhost:3000/"+l.infoTaskEdit.image,alt:""},null,8,V5)])]),(0,i._)("div",E5,[(0,i._)("div",$5,[B5,(0,i._)("div",R5,[(0,i._)("table",H5,[Y5,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.infoTaskEdit.accessorys,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row",key:e},[(0,i._)("td",K5,(0,n.zw)(e+1),1),(0,i._)("td",L5,(0,n.zw)(t.nameProduct),1),(0,i._)("td",Z5,(0,n.zw)(o.formatCurrency(t.priceSale)),1),(0,i._)("td",j5,(0,n.zw)(t.quantity),1)])))),128))])])])]),(0,i._)("div",Q5,[(0,i._)("div",G5,[W5,(0,i._)("span",J5,(0,n.zw)(o.formatCurrency(l.infoTaskEdit.wage)),1)]),(0,i._)("div",X5,[t7,(0,i._)("span",e7,(0,n.zw)(o.formatCurrency(l.infoTaskEdit.totalOfAccessory)),1)]),(0,i._)("div",s7,[a7,(0,i._)("span",i7,(0,n.zw)(o.formatCurrency(l.infoTaskEdit.totalAmount)),1)])])])]),(0,i._)("button",{class:"btn btn-warning mt-3 px-5",onClick:e[86]||(e[86]=t=>o.printPDFReporyt(l.infoTaskEdit._id))},"In phiếu báo cáo")],32)])):(0,i.kq)("",!0),l.activeServiceCreate?((0,i.wg)(),(0,i.j4)(c,{key:4,onCloseCreate:o.closeServiceCreate},null,8,["onCloseCreate"])):(0,i.kq)("",!0)],64)}var l7=s(2415),o7=s(7127),r7=s(7079),c7=s(3688);class d7{constructor(t="http://localhost:3000/task"){this.api=(0,T.Z)(t)}async create(t){return this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async getById(t){return await this.api.get(`/find/?id=${t}`)}async update(t,e){return await this.api.post(`/update/?id=${t}`,e)}async changeTime(t,e){return await this.api.post(`/change-time/?id=${t}`,e)}async filterByDate(t,e,s,a,i,n){return i&&n?await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`):await this.api.get(`/filter-date/?field=${a}&month=${e}&day=${t}&year=${s}`)}async updateStatus(t,e){return this.api.post(`/update-status/?id=${t}`,e)}async delete(t){return await this.api.get(`/delete/?id=${t}`)}async report(t,e){const s="http://localhost:3000/task",a={"Content-Type":"multipart/form-data"};return this.api=(0,T.Z)(s,a),await this.api.post(`/report/?id=${t}`,e)}}var h7=new d7;function p7(t={}){t.startDate=new Date(t.startDate),t.startDate.setDate(t.startDate.getDate()+1);const e=`\n   <div style="height:90%">\n        <h4 style=" margin: 20px; font-size: 18px;">Số: ${t._id}</h4>\n        <div style="width: 100%;">\n            <h4 style="text-align: center; font-size: 30px; margin: 0px;">Phiếu báo cáo</h4>\n            <br>\n            <h4 style="text-align: center; font-size: 20px; margin: 0px;">Ngày thực hiện: ${mt.formatDateNoTime(t.startDate)}</h4>\n            <h4 style="text-align: center; font-size: 20px; margin: 0px;">Dịch vụ: ${t.serviceId.name}</h4>\n        </div>\n        <div style="display: flex; justify-content: center; align-items: center;">\n            <div style="width: 50%; text-align:center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Nhân viên </h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Họ và tên: </b>${t.staffId?.fullName}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${t.staffId?.phone}</span>\n                </div>\n            </div>\n\n            <div style="width: 50%; text-align: center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Thông tin khách hàng</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Tên: </b>${t.nameCustomer}</span>\n                        <br>\n                        <span><b>Địa chỉ: </b>${t.address}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${t.phone}</span>\n                </div>\n            </div>\n        </div>\n        <h5 style="text-align: center; font-size: 16px;">Danh sách phụ kiện</h5>\n        <div style="margin: 20px 0; ">\n            <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; height: 50px; line-height: 50px;">\n                <div style="width: 25%;">\n                    Tên phụ kiện\n                </div>\n                <div style="width: 25%;">\n                    Giá\n                </div>\n                <div style="width: 25%;">\n                    Số lượng\n                </div>\n                <div style="width: 25%;">\n                    Ghi chú\n                </div>\n            </div>\n            <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; padding-bottom: 10px; height:330px">\n                <div style="width: 25%;">\n                    \n                </div>\n                <div style="width: 25%;">\n                    \n                </div>\n                <div style="width: 25%;">\n                    \n                </div>\n                <div style="width: 25%;">\n                </div>\n            </div>\n        </div>\n        <div style="width: 100%;">\n            <div style="font-size: 20px; margin-bottom: 10px; display: flex; justify-content: flex-end;">\n                <div  style="width:300px; display: flex; justify-content: flex-start;">\n                    <b>Tiền công:</b>\n                </div> \n            </div>\n            <div style="font-size: 20px; margin-top: 10px; display: flex; justify-content: flex-end;">\n                <div  style="width:300px; display: flex; justify-content: flex-start;">\n                    <b>Tổng cộng:</b>\n                </div> \n            </div>\n        </div>\n        <div style="margin-top: 40px; height: 150px;">\n            <div style="width: 50%; float: left; text-align:center;">\n                <b>Nhân viên</b></br>\n                (Ký, họ tên)\n            </div>\n            <div style="width: 50%; float: left; text-align:center;">\n                <b>Khách hàng</b></br>\n                (Ký, họ tên)\n            </div>\n        </div>\n    </div>\n`;return e}var u7=p7;function m7(t={}){const e=t.image?"http://localhost:3000/"+t.image:"";let s="";t?.accessorys.forEach(((t,e)=>{s+=` \n        <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; padding-bottom: 10px;">\n        <div style="width: 8.333333%; margin-top: 10px;">\n        ${e+1}. \n     </div>\n     <div style="width: 20%; margin-top: 10px;">\n         ${t.nameProduct}\n     </div>\n     <div style="width: 20%; margin-top: 10px;">\n         ${t.priceSale}\n     </div>\n     <div style="width: 20%; margin-top: 10px;">\n         ${t.quantity}\n     </div>\n     <div style="width: 20%; margin-top: 10px;">\n        \n    </div>\n        </div>\n     `}));const a=`\n   <div style="height:100%">\n        <h4 style=" margin: 20px; font-size: 18px;">Số: ${t._id}</h4>\n        <div style="width: 100%;">\n            <h4 style="text-align: center; font-size: 30px; margin: 0px;">Hóa đơn</h4>\n            <h4 style="text-align: center; font-size: 20px; margin: 0px;">Ngày thực hiện: ${mt.formatDateNoTime(t.startDate)}</h4>\n            <h4 style="text-align: center; font-size: 20px; margin: 0px;">Dịch vụ: ${t.serviceId?.name}</h4>\n        </div>\n        <div style="display: flex; justify-content: center; align-items: center;">\n            <div style="width: 50%; text-align:center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Nhân viên</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Họ và tên: </b>${t.staffId?.fullName}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${t.staffId?.phone}</span>\n                </div>\n            </div>\n\n            <div style="width: 50%; text-align: center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Thông tin khách hàng</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Tên: </b>${t.nameCustomer}</span>\n                        <br>\n                        <span><b>Địa chỉ: </b>${t.address}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${t.phone}</span>\n                </div>\n            </div>\n        </div>\n        <h5 style="text-align: center; font-size: 16px;margin-top:10px;">Danh sách phụ kiện</h5>\n        <div style="margin: 20px 0; ">\n            <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; height: 50px; line-height: 50px;">\n                <div style="width: 8.333333%;">\n                    STT\n                </div>\n                <div style="width: 20%;">\n                    Tên Sản phẩm\n                </div>\n                <div style="width: 20%;">\n                    Giá\n                </div>\n                <div style="width: 20%;">\n                    Số lượng\n                </div>\n                <div style="width: 20%;">\n                    Ghi chú\n                </div>\n            </div>\n            ${s}\n        </div>\n        <div style="width: 100%;">\n            <div style="font-size: 20px; margin-right: 10px; display: flex; justify-content: flex-end; ">\n                <div>\n                    <b>Tiền công</b>: ${mt.formatCurrency(t.wage)}\n                    <br>\n                    <b>Tổng cộng</b>: ${mt.formatCurrency(t.totalOfAccessory)}\n                    <br>\n                    <b>Tổng cộng</b>: ${mt.formatCurrency(t.totalAmount)}\n                    <br>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div style="height:90% ">\n        <h5 style="text-align:center; font-size:20px;">Ảnh báo cáo thực tế</h5>\n        <img style="height:auto; width:100%;" src="${e}">\n    </div>\n`;return a}var g7=m7,y7={components:{FullCalendar:l7.Z,adminServiceCreate:F1},data(){return{resultReport:{},activeReportDetail:!1,printTaskId:"",mesReportS:"",mesReportF:"",imgSrc:"",activeOrderTask:!1,activeServiceCreate:!1,mesValidWage:"",infoAccessorys:[{accessoryId:""}],idValid:"",mesValid:"",isSubmit:!1,totalAmount:0,pricePayed:0,totalOfAccessory:0,accessorys:[],isClassCod:!1,isClassOnlVNPAY:!1,isClassOnlMOMO:!1,tasks:[],years:[],dateFilter:{day:"0",month:"0",year:"0",field:""},inputSearch:"",inputSearch2:"",idTimeOut:null,serviceInfo:{},isSort:!1,mesSucCus:"",mesFaiCus:"",districts:[],wards:[],valid:{},customers:[],customer:{},customerInfo:{},VmodelAddress:{city:"",district:"",ward:""},activeCustomer:!1,activeEditCustomer:!1,activeEditAddress:!1,customerId:"",mesFail:"",messSuc:"",infoTask:{staffId:"",serviceId:"",wage:0},infoTaskEdit:{},activeCreate:!1,activeEdit:!1,isCreate:!1,staffs:[],services:[],selectInfo:{},currentDate:null,address:"",note:"",calendarOptions:{plugins:[o7.Z,c7.Z,r7.ZP],initialView:"timeGridWeek",headerToolbar:{left:"prev,next today",center:"title",right:"timeGridWeek,timeGridDay"},themeSystem:"bootstrap5",locale:"vi",businessHours:{startTime:"07:00",endTime:"22:00"},slotMinTime:"07:00",slotMaxTime:"22:00",events:[],editable:!0,selectable:!0,selectMirror:!0,dayMaxEvents:!0,weekends:!0,eventsSet:this.handleEvents,select:this.handleDateSelect,eventClick:t=>{this.detatilTask(t)},eventAdd:t=>{const e=this.$refs.fullCalendar.getApi().currentData.currentDate,s={serviceId:this.infoTask.serviceId,staffId:this.infoTask.staffId,nameCustomer:this.customerInfo.fullName,phone:this.customerInfo.phone,email:this.customerInfo.email,address:this.customerInfo.address,startDate:t.event.start,endDate:t.event.end?t.event.end:t.event.start,status:this.selectInfo.status?this.selectInfo.status:"Chưa bắt đầu",currentDate:e,totalAmount:this.totalAmount,totalOfAccessory:this.totalOfAccessory,pricePayed:0,priceService:this.serviceInfo.price,accessorys:""!=this.infoAccessorys[0].accessoryId?this.infoAccessorys:[],note:this.note,wage:0,allDay:t.event._def.allDay};this.addTask(s),this.getAll()},datesSet:()=>{const t=this.$refs.fullCalendar.getApi().currentData.currentDate;this.currentDate=t},eventDrop:t=>{const e={startDate:t.event.startStr,endDate:t.event.endStr};this.changeTime(t.event._def.publicId,e)},eventResize:t=>{const e={startDate:t.event.startStr,endDate:t.event.endStr};this.changeTime(t.event._def.publicId,e)}}}},methods:{async detatilTask(t){try{const e=t.event._def.publicId,s={startDate:t.event.start,endDate:t.event.end.getDate()-1!==t.event.start.getDate()?t.event.end:t.event.start},a=await h7.getById(e);this.getAllService(),await this.getAllStaff(s),this.staffs.push({...a.data.staffId}),this.infoTaskEdit=a.data,this.infoTaskEdit.staffId=a.data.staffId._id,this.infoTaskEdit.serviceId=a.data.serviceId._id,this.activeEdit=!0,this.mesFail="",this.messSuc=""}catch(e){console.log(e)}},async getStaffs(){try{const t=await QN.getAll();this.staffs=t.data}catch(t){console.log(t)}},async submitCreate(){let t=this.selectInfo.view.calendar;t.unselect(),this.activeCreate&&t.addEvent({id:3,title:`${this.infoTask.serviceId}`,start:new Date(this.selectInfo.startStr).toISOString(),end:new Date(this.selectInfo.endStr).toISOString(),allDay:this.selectInfo.allDay})},async handleDateSelect(t){const e=new Date,s=new Date(t.endStr);s<e?confirm("Bạn muốn tạo công việc bé hơn ngày hôm nay")&&(this.selectInfo=t,this.activeCreate=!0,this.mesFail="",this.messSuc="",await this.getAllStaff({startDate:t.start,endDate:t.end.getDate()-1!==t.start.getDate()?t.end:t.start}),await this.getAllService()):(this.selectInfo=t,this.activeCreate=!0,this.mesFail="",this.messSuc="",await this.getAllStaff({allDay:t.allDay,startDate:t.start,endDate:t.end.getDate()-1!==t.start.getDate()?t.end:t.start}),await this.getAllService())},async addTask(t){try{const e=await h7.create(t);e.data.status?(this.getAll(),this.infoTask={staffId:"",serviceId:""},this.mesFail="",this.messSuc="Thêm công viêc thành công",this.customerId="",this.serviceInfo={},this.totalAmount=0,this.totalOfAccessory=0,this.infoAccessorys=[{accessoryId:""}],this.note="",this.printTaskId=e.data.result._id):(this.mesFail="Thêm thất bại",this.messSuc="")}catch(e){console.log(e)}},async getAllStaff(t){try{const e=t.allDay,s={start:t.startDate.getTime(),end:t.endDate.getTime()};t.endDate.setDate(t.endDate.getDate()-1),this.staffs=[];const a=await QN.getAll(),i=this.calendarOptions.events.filter((t=>"Hoàn thành"!=t.status)),n=i.filter((t=>{t.start=new Date(t.start),t.end=new Date(t.end);const a={start:t.start.getTime(),end:t.end.getTime()};return e?(s.start=new Date(s.start),s.end=new Date(s.end),a.start=new Date(a.start),a.end=new Date(a.end),a.start=a.start.toLocaleDateString("en-US"),a.end=a.end.toLocaleDateString("en-US"),s.start=s.start.toLocaleDateString("en-US"),a.end=new Date(a.end),a.end.setDate(a.end.getDate()-1),a.end=a.end.toLocaleDateString("en-US"),s.start>=a.start&&s.start<a.end||(s.end>=a.start&&s.end<a.end||(s.start==a.end||s.start==a.start))):s.start>=a.start&&s.start<a.end||s.end>a.start&&s.end<a.end})),l=a.data.filter((t=>!n.some((e=>e.staffId._id===t._id))));this.staffs=l.length>0?l:a.data}catch(e){console.log(e)}},async getAll(){try{const t=await h7.getAll();this.tasks=t.data;let e=[];const s=["Hoàn thành","Đang tiến hành","Chưa bắt đầu","Đã báo cáo"],a=["#A2FF86","#7091f5","#7D7C7C","#FC4F00"];this.tasks.forEach((t=>{const i=s.indexOf(t.status);e.push({id:t._id,serviceId:t.serviceId,staffId:t.staffId,title:`${t.serviceId.name}`,start:t.startDate,end:t.endDate,status:t.status,allDay:t.allDay,backgroundColor:a[i],borderColor:"transparent",nameCustomer:t.nameCustomer,nameStaff:t.staffId.fullName,totalAmount:t.totalAmount,isReport:t.isReport})})),this.calendarOptions.events=e}catch(t){console.log(t)}},async filterDate(){this.isSort=!0;let{day:t,month:e,year:s,field:a}=this.dateFilter;const i=await h7.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.tasks=i.data;let n=[];const l=["Hoàn thành","Đang tiến hành","Chưa bắt đầu","Quá hạn"],o=["#A2FF86","#7091f5","#7D7C7C","#FC4F00"];this.tasks.forEach((t=>{const e=l.indexOf(t.status);n.push({id:t._id,serviceId:t.serviceId,staffId:t.staffId,title:`${t.serviceId.name}`,start:t.startDate,end:t.endDate,status:t.status,allDay:t.allDay,backgroundColor:o[e],borderColor:"transparent",nameCustomer:t.nameCustomer,nameStaff:t.staffId.fullName,totalAmount:t.totalAmount,isReport:t.isReport})})),this.calendarOptions.events=n},fillter(t){let e=[];const s=this.calendarOptions.events;e=s.filter((e=>e.status===t)),this.calendarOptions.events=e,this.isSort=!0},offSort(){this.isSort=!1,this.inputSearch="",this.inputSearch2="",this.dateFilter={day:"0",month:"0",year:"0",field:""},this.getAll()},closeCreate(){this.activeCreate=!1,this.printTaskId=""},async getAllService(){try{const t=await b1.getAll();this.services=t.data}catch(t){console.log(t)}},async editStatus(t,e){try{const s=await h7.updateStatus(t,{status:e});this.infoTaskEdit=s.data.data,console.log(s)}catch(s){console.log(s)}},async editTask(t){try{console.log(this.infoTaskEdit);const e=await h7.update(t,this.infoTaskEdit);e.data.status?(this.getAll(),this.infoTaskEdit=e.data.data,this.mesFail="",this.messSuc="sửa công viêc thành công"):(this.mesFail=e.data.mes,this.messSuc="")}catch(e){console.log(e)}},async changeTime(t,e){try{const s=await h7.changeTime(t,e);s.data.status?(alert("Thay đổi thời gian thành công"),this.getAll()):(alert("Thay đổi thời gian không  thành công"),this.getAll())}catch(s){console.log(s)}},async deleteTask(t){try{if(confirm("Xóa công việc này")){const e=await h7.delete(t);e.data.status?(this.getAll(),this.activeEdit=!1,alert("Xóa tành công")):(this.mesFail="Thêm thất bại",this.messSuc="")}}catch(e){console.log(e)}},async getCustomerById(t){try{const e=await qo.getById(t);this.customerInfo=e.data,this.activeEditCustomer=!0,this.mesSucCus="",this.mesFaiCus=""}catch(e){console.log(e)}},async getServiceById(t){try{const e=await b1.getById(t);this.serviceInfo=e.data}catch(e){console.log(e)}},async ChangePriceTaskEdit(t){try{const e=await b1.getById(t);this.infoTaskEdit.totalAmount=e.data.price}catch(e){console.log(e)}},async editCustomer(){try{const t=this.validateForm(this.customerInfo),e={...this.customerInfo};if(e.address=this.activeEditAddress?this.customerInfo.address2+", "+this.address.ward+", "+this.address.district+", "+this.address.city:this.customerInfo.address,t){const t=await qo.update(this.customerInfo._id,e);t.data.status?(await this.getCustomerById(this.customerInfo._id),this.mesSucCus=t.data.mes,this.mesFaiCus="",this.VmodelAddress={city:"",district:"",ward:""},this.activeEditAddress=!1,this.getAllCustomers()):(this.mesFaiCus=t.data.mes,this.mesSucCus="")}}catch(t){console.log(t)}},validateForm(t){const e=/^[0-9]+$/;!e.test(t.phone)||t.phone.length<10?this.valid.phone="Số điện thoại không hợp lệ":this.valid.phone=void 0;let s=!1;const a=Object.values(this.valid);for(let i=0;i<a.length;i++){if(void 0!==a[i]){s=!1;break}s=!0}return s},async addCustomer(){try{const t=this.validateForm(this.customer),e={...this.customer};if(e.address=this.customer.address+", "+this.address.ward+", "+this.address.district+", "+this.address.city,this.address=e.address,t){const t=await qo.create(e);t.data.status?(this.mesSucCus=t.data.mes,this.mesFaiCus="",this.VmodelAddress={city:"",district:"",ward:""},this.customer={},this.getAllCustomers()):(this.mesFaiCus=t.data.mes,this.mesSucCus="")}}catch(t){console.log(t)}},async getCity(){const t=await ZK.Z.get("https://provinces.open-api.vn/api/");this.city=[...t.data]},async getDistricts(t){const e=t.code,s=await ZK.Z.get(`https://provinces.open-api.vn/api/p/${e}/?depth=2`);this.districts=[...s.data.districts],this.address.city=t.name},async getWards(t){const e=t.code;this.address.district=t.name;const s=await ZK.Z.get(`https://provinces.open-api.vn/api/d/${e}/?depth=2`);this.wards=[...s.data.wards]},saveAddress(t){this.address.ward=t.name},closeFormCustomer(){this.activeCustomer=!1,this.city=[],this.districts=[],this.wards=[],this.VmodelAddress={city:"",district:"",ward:""}},closeFormCustomerEdit(){this.activeEditCustomer=!1,this.activeEditAddress=!1,this.city=[],this.districts=[],this.wards=[],this.VmodelAddress={city:"",district:"",ward:""},this.getAllCustomers()},async getAllCustomers(){try{const t=await qo.getAll();this.customers=[...t.data]}catch(t){console.log(t)}},handleFitter(t,e){null==this.idTimeOut&&(this.isSort=!1),clearTimeout(this.idTimeOut),this.getAll(),this.idTimeOut=setTimeout((()=>{this.filter(t,e)}),500)},filter(t){if(""!=this.inputSearch||""!=this.inputSearch2){this.isSort=!0;const e=new RegExp(this.inputSearch.trim(),"i"),s=new RegExp(this.inputSearch2.trim(),"i");let a=[];a="nameCustomer"===t?this.calendarOptions.events.filter((s=>e.test(s[t]))):this.calendarOptions.events.filter((e=>s.test(e[t]))),this.calendarOptions.events=a}else this.isSort=!1,this.getAll()},async printPDF(t){const e=await h7.getById(t),s=u7(e.data);uT(s,"Phiếu đơn hàng")},async printPDFReporyt(t){const e=await h7.getById(t),s=g7(e.data);uT(s,"Phiếu đơn hàng")},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},exportToExcel(){const t=[];this.tasks.forEach((e=>{e.startDate=new Date(e.startDate),e.startDate.setDate(e.startDate.getDate()+1),t.push({"Mã":e._id,"Tên khách hàng":e.nameCustomer,"Số điện thoại":e.phone,"Địa chỉ":e.address,"Nhân viên thực hiện":e.staffId.fullName,"Dịch vụ":e.serviceId.name,"Báo cáo":e.isReport?"Đã báo cáo":"Chưa báo cáo","Tổng số tiền phụ kiện":mt.formatCurrency(e.totalOfAccessory),"Tổng giá":mt.formatCurrency(e.totalAmount),"Ngày bắt đầu công việc":mt.formatDateNoTime(e.startDate),"Ngày kết thúc công việc":mt.formatDateNoTime(e.endDate),"Trạng thái":e.status})})),Gw(t,"Congviec")},formatDate(t){return mt.formatDate(t)},formatDateNoTime(t){return mt.formatDateNoTime(t)},formatHour(t){return mt.formatHour(t)},pushRow(){this.infoAccessorys.push({accessoryId:"",priceSale:0})},popRow(){this.infoAccessorys.length<=1?alert("Dòng cuối"):(this.infoAccessorys.pop(),this.total())},async getAllAccessory(){try{const t=await _i.getAll();this.accessorys=t.data,this.accessorys=this.accessorys.filter((t=>t.inputQuantity>0))}catch(t){console.log(t)}},getproductById(t,e){this.accessorys.map((s=>{s._id===t&&(this.infoAccessorys[e].priceSale=s.priceSale,this.infoAccessorys[e].priceImport=s.priceImport,this.infoAccessorys[e].nameProduct=s.name,this.infoAccessorys[e].inputQuantity=s.inputQuantity)}))},checkQuantity(t,e){this.total(),t.target.value<=0?(t.target.style.borderColor="red",this.isSubmit=!1,this.mesValid="Số lượng phải lớn hơn 0",this.idValid=e.accessoryId):t.target.value>e.inputQuantity?(t.target.style.borderColor="red",this.isSubmit=!1,this.totalAmount=0,this.pricePayed=0,this.mesValid="Số lượng trong kho không đủ",this.idValid=e.accessoryId):(t.target.style.borderColor="#0E8388",this.isSubmit=!0,this.mesValid="",this.idValid="")},checkWage(t){this.total(),t.target.value<0?(t.target.style.borderColor="red",this.isSubmit=!1,this.mesValidWage="Không được nhập số bé hơn 0"):""==t.target.value?(this.wage=0,t.target.style.borderColor="#0E8388",this.isSubmit=!0,this.mesValidWage=""):(t.target.style.borderColor="#0E8388",this.isSubmit=!0,this.mesValidWage="")},formatCurrency(t){return mt.formatCurrency(t)},total(){this.totalAmount=0,this.totalOfAccessory=0,this.infoAccessorys.forEach((t=>{this.totalOfAccessory+=t.priceSale*t.quantity||0})),this.infoTask.wage>=0&&(this.totalAmount=this.totalOfAccessory+this.infoTask.wage),this.totalAmount>0&&(this.isSubmit=!0)},async paymentMeThod(t){this.choosePayent=!1,"COD"==t?(this.isClassCod=!this.isClassCod,this.isClassCod?(this.paymentMethod="COD",this.isClassOnlVNPAY=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"VNPAY"==t?(this.isClassOnlVNPAY=!this.isClassOnlVNPAY,this.isClassOnlVNPAY?(this.paymentMethod="VNPAY",this.isClassCod=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"MOMO"==t&&(this.isClassOnlMOMO=!this.isClassOnlMOMO,this.isClassOnlMOMO?(this.paymentMethod="MOMO",this.isClassCod=!1,this.isClassOnlVNPAY=!1):this.paymentMethod="")},closeServiceCreate(){this.activeServiceCreate=!1,this.getAllService()},handleImage(t){this.infoTask.image=t.target.files[0]||"";const e=URL.createObjectURL(this.infoTask.image);this.imgSrc=e},deleteEntryImg(){this.infoTask.image=null,this.imgSrc="",this.$refs.entryInputFile.value=""},async submitReport(){try{const t=this.infoTaskEdit._id,e={accessorys:this.infoAccessorys,wage:this.infoTask.wage,image:this.infoTask.image,totalOfAccessory:this.totalOfAccessory,totalAmount:this.totalAmount,isReport:!0,status:"Đã báo cáo"},s=await h7.report(t,e);s.data.status?(this.resultReport=s.data.result,this.mesReportS=s.data.mes,this.mesReportF="",this.infoAccessorys=[{accessoryId:""}],this.imgSrc="",this.infoTask.wage=0,this.totalAmount=0,this.totalOfAccessory=0,this.$refs.entryInputFile.value=""):(this.mesReportF=s.data.mes,this.mesReportS="")}catch(t){console.log(t)}},closeReportCreate(){this.activeOrderTask=!1,Object.keys(this.resultReport).length>0&&(this.infoTaskEdit=this.resultReport,this.infoTaskEdit.staffId=this.resultReport.staffId,this.infoTaskEdit.serviceId=this.resultReport.serviceId)},closeEdit(){this.activeEdit=!1,this.getAll()}},mounted(){this.getAll(),this.getCity(),this.getAllCustomers(),this.getYears(),this.getAllAccessory(),this.getAllService()}};const f7=(0,ft.Z)(y7,[["render",n7],["__scopeId","data-v-f366131c"]]);var v7=f7;const _7=t=>((0,i.dD)("data-v-40331115"),t=t(),(0,i.Cn)(),t),w7=_7((()=>(0,i._)("div",{class:"modal-success text-success"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán thành công")],-1))),b7=[w7],k7=_7((()=>(0,i._)("div",{class:"modal-success text-danger"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán không thành công")],-1))),C7=[k7],x7={class:"search-warranty"},S7={class:"search-box"},D7={class:"search-input text-start"},T7={key:1,class:"text-danger mt-1 d-block"},P7={key:0,class:"spinner-border text-info mt-5",role:"status"},I7=_7((()=>(0,i._)("span",{class:"visually-hidden"},"Loading...",-1))),A7=[I7],U7={key:1,class:"search-content-warranty"},q7=_7((()=>(0,i._)("h5",{class:"title"},"Thông tin phiếu mua hàng",-1))),N7={class:"row"},z7={class:"col-lg-6"},F7={class:"status-info text-start"},O7=_7((()=>(0,i._)("h5",{class:"mb-0 text-center"},"Thông tin Đơn hàng",-1))),M7={class:"scroll-address"},V7=_7((()=>(0,i._)("strong",{class:"me-2"},"Mã đơn hàng:",-1))),E7=_7((()=>(0,i._)("strong",{class:"me-2"},"Ngày tạo:",-1))),$7={class:"col-lg-6"},B7={class:"status-info text-start"},R7=_7((()=>(0,i._)("h5",{class:"mb-0 text-center"},"Thông tin khách hàng",-1))),H7={class:"scroll-address"},Y7=_7((()=>(0,i._)("strong",{class:"me-2"},"Tên:",-1))),K7=_7((()=>(0,i._)("strong",{class:"me-2"},"Số điện thoại:",-1))),L7=_7((()=>(0,i._)("strong",{class:"me-2"},"Địa chỉ:",-1))),Z7=_7((()=>(0,i._)("h5",{class:"mt-3"},"Danh sách sản phẩm",-1))),j7={class:"table"},Q7=_7((()=>(0,i._)("thead",null,[(0,i._)("tr",{class:""},[(0,i._)("th",{class:"col-1 text-center"},"STT"),(0,i._)("th",{class:"col"},"Tên sản phẩm"),(0,i._)("th",{class:"col"},"Ngày mua"),(0,i._)("th",{class:"col"},"Số tháng"),(0,i._)("th",{class:"col"},"Hết hạn bảo hành"),(0,i._)("th",{class:"col"},"Hành động")])],-1))),G7={class:"col-1 text-center"},W7={class:"col"},J7={class:"col"},X7={class:"col text-center"},t8={class:"col"},e8={class:"col"},s8=["onClick"];function a8(t,e,s,a,l,o){const r=(0,i.up)("warranty-create");return(0,i.wg)(),(0,i.iD)(i.HY,null,[l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"overlay",onClick:e[0]||(e[0]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},b7)):(0,i.kq)("",!0),0==l.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[1]||(e[1]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},C7)):(0,i.kq)("",!0),(0,i._)("div",x7,[(0,i._)("div",S7,[(0,i._)("div",D7,[""!=l.textSearch?((0,i.wg)(),(0,i.iD)("i",{key:0,class:"fa-solid fa-xmark position1",onClick:e[2]||(e[2]=(...t)=>o.clearTextInput&&o.clearTextInput(...t))})):(0,i.kq)("",!0),(0,i.wy)((0,i._)("input",{ref:"warrantyInput","onUpdate:modelValue":e[3]||(e[3]=t=>l.textSearch=t),type:"text",placeholder:"Nhập mã hóa đơn của bạn..."},null,512),[[A.nr,l.textSearch]]),l.validInput?((0,i.wg)(),(0,i.iD)("span",T7,"Độ dài mã hõa đơn không hợp lệ")):(0,i.kq)("",!0)]),(0,i._)("button",{onClick:e[4]||(e[4]=(...t)=>o.SeachOrder&&o.SeachOrder(...t))},"Tìm kiếm")]),l.loading?((0,i.wg)(),(0,i.iD)("div",P7,A7)):(0,i.kq)("",!0),Object.keys(l.order).length>0?((0,i.wg)(),(0,i.iD)("div",U7,[q7,(0,i._)("div",N7,[(0,i._)("div",z7,[(0,i._)("div",F7,[O7,(0,i._)("div",M7,[(0,i._)("span",null,[V7,(0,i.Uk)((0,n.zw)(l.order._id),1)]),(0,i._)("span",null,[E7,(0,i.Uk)((0,n.zw)(l.order.createdAt),1)])])])]),(0,i._)("div",$7,[(0,i._)("div",B7,[R7,(0,i._)("div",H7,[(0,i._)("span",null,[Y7,(0,i.Uk)((0,n.zw)(l.order.nameCustomer),1)]),(0,i._)("span",null,[K7,(0,i.Uk)((0,n.zw)(l.order.phone),1)]),(0,i._)("span",null,[L7,(0,i.Uk)((0,n.zw)(l.order.address),1)])])])])]),Z7,(0,i._)("table",j7,[Q7,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.order.products,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"",key:t._id},[(0,i._)("td",G7,(0,n.zw)(e+1),1),(0,i._)("td",W7,(0,n.zw)(t.nameProduct),1),(0,i._)("td",J7,(0,n.zw)(o.formatDate(l.order.createdAt)),1),(0,i._)("td",X7,(0,n.zw)(t.warrantyTime),1),(0,i._)("td",t8,(0,n.zw)(o.formatDate(o.dealineDate(l.order.createdAt,t.warrantyTime))),1),(0,i._)("td",e8,[(0,i._)("span",{class:"btn btn-primary",onClick:e=>o.warranty(t)},"Bảo hành",8,s8)])])))),128))])])])):(0,i.kq)("",!0)]),l.activeCreate?((0,i.wg)(),(0,i.j4)(r,{key:2,info:l.info,onCloseCreate:e[5]||(e[5]=t=>l.activeCreate=!1)},null,8,["info"])):(0,i.kq)("",!0)],64)}const i8=t=>((0,i.dD)("data-v-78a7a3df"),t=t(),(0,i.Cn)(),t),n8={class:"overlay"},l8={class:"d-flex justify-content-end"},o8=i8((()=>(0,i._)("h5",{class:"fs-3 py-1 text-uppercase"},"Tạo Hóa đơn bảo hành",-1))),r8={key:0,class:"text-danger fst-italic"},c8={key:1,class:"text-primary fst-italic"},d8={class:"row gx-0"},h8={class:"ms-3 mb-3 text-start"},p8=i8((()=>(0,i._)("strong",{class:"text-start"},"Khách hàng",-1))),u8=i8((()=>(0,i._)("br",null,null,-1))),m8={class:"text-start"},g8=i8((()=>(0,i._)("strong",null,"Tên: ",-1))),y8=i8((()=>(0,i._)("strong",{class:"ms-4"},"Địa chỉ: ",-1))),f8=i8((()=>(0,i._)("strong",{class:"ms-4"},"SĐT: ",-1))),v8=i8((()=>(0,i._)("hr",null,null,-1))),_8=i8((()=>(0,i._)("h5",{class:"text-uppercase text-warning"},"Thông tin sản phẩm bảo hành",-1))),w8={class:"w-100"},b8=i8((()=>(0,i._)("thead",null,[(0,i._)("tr",{class:"row gx-0"},[(0,i._)("th",{class:"col"},"Tên sản phẩm"),(0,i._)("th",{class:"col"},"Ngày mua"),(0,i._)("th",{class:"col-1"},"Số tháng"),(0,i._)("th",{class:"col"},"Ngày hết hạn bảo hành")])],-1))),k8={class:"col"},C8={class:"col"},x8={class:"col-1"},S8={class:"col"},D8={class:"row gx-0"},T8={class:"scroll2 col-lg-8"},P8=i8((()=>(0,i._)("h6",{class:"text-uppercase"},"Danh sách sản phẩm",-1))),I8={class:"group col-lg-4"},A8=i8((()=>(0,i._)("div",{class:"d-flex mb-1"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i.Uk)("Danh sách hàng "),(0,i._)("span",{class:"required"},"*")])],-1))),U8=["onUpdate:modelValue","onChange"],q8=i8((()=>(0,i._)("option",{value:"",class:"form-option"},"--- Chọn ---",-1))),N8=["value"],z8={class:"spe-group col-lg-4"},F8=i8((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},"Giá bán",-1))),O8={class:"price"},M8={class:"spe-group col-lg-4"},V8=i8((()=>(0,i._)("label",{for:"",class:"mt-0 mb-0"},[(0,i.Uk)("Số lượng"),(0,i._)("span",{class:"text-danger ms-2"},"*")],-1))),E8=["onUpdate:modelValue","onKeyup"],$8={key:0,class:"text-danger"},B8={class:"row control"},R8={class:"d-flex justify-content-center align-items-center mt-1"},H8={class:"group me-3"},Y8={class:"group"},K8={class:"col-lg-4 scroll2"},L8={class:"group col-lg-12"},Z8={class:"w-100"},j8=i8((()=>(0,i._)("div",{class:"d-flex"},[(0,i._)("label",{for:"",class:"mt-0"},[(0,i._)("strong",null,"Ghi chú")])],-1))),Q8={class:"row mb-1 text-start mt-2"},G8=i8((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Tổng tiền:")],-1))),W8={class:"col-6"},J8={class:"row mb-1 text-start"},X8=i8((()=>(0,i._)("span",{class:"col-6"},[(0,i._)("strong",null,"Số tiền phải thanh toán:")],-1))),t9={class:"col-6"},e9={key:0,class:"mb-1 d-block text-start fst-italic text-warning"},s9={key:1,class:"mb-1 d-block text-start fst-italic text-danger"},a9={class:"row"},i9={key:0,class:"row mt-4"},n9={class:"col-lg-4"},l9=i8((()=>(0,i._)("img",{src:"https://s3-ap-southeast-1.amazonaws.com/pharmacity-ecm-asm-dev/payment-method/cash.webp",alt:""},null,-1))),o9=i8((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"Tiền mặt"),(0,i._)("span",null,"Thanh toán khi nhận hàng")],-1))),r9=i8((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),c9=[l9,o9,r9],d9={class:"col-lg-4"},h9=i8((()=>(0,i._)("img",{src:"https://vnpay.vn/s1/statics.vnpay.vn/2023/9/06ncktiwd6dc1694418196384.png",alt:""},null,-1))),p9=i8((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"VNPay"),(0,i._)("span",null,"Thanh toán qua ví VNPay")],-1))),u9=i8((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),m9=[h9,p9,u9],g9={class:"col-lg-4"},y9=i8((()=>(0,i._)("img",{src:"https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png",alt:""},null,-1))),f9=i8((()=>(0,i._)("div",{class:"payment-content"},[(0,i._)("span",null,"MOMO"),(0,i._)("span",null,"Quét mã QR momo")],-1))),v9=i8((()=>(0,i._)("div",{class:"payment-checkbox"},[(0,i._)("span")],-1))),_9=[y9,f9,v9],w9=i8((()=>(0,i._)("button",{class:"btn btn-success mt-2 px-5"},"Tạo",-1)));function b9(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",n8,[(0,i._)("form",{class:"warranty-create",onSubmit:e[7]||(e[7]=(0,A.iM)(((...t)=>o.addWarranty&&o.addWarranty(...t)),["prevent","stop"]))},[(0,i._)("div",l8,[(0,i._)("i",{onClick:e[0]||(e[0]=(...t)=>o.closeCreate&&o.closeCreate(...t)),class:"fa-solid fa-xmark fs-2 text-danger me-1"})]),o8,l.isDealine?((0,i.wg)(),(0,i.iD)("span",r8,"Bạn đã hết thơi gian bảo hành")):((0,i.wg)(),(0,i.iD)("span",c8,"Bạn còn thơi gian bảo hành")),(0,i._)("div",d8,[(0,i._)("div",h8,[p8,u8,(0,i._)("span",m8,[g8,(0,i.Uk)((0,n.zw)(s.info.nameCustomer)+" ",1),y8,(0,i.Uk)((0,n.zw)(s.info.address)+" ",1),f8,(0,i.Uk)((0,n.zw)(s.info.phone),1)])]),v8,_8,(0,i._)("table",w8,[b8,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.info.products,(t=>((0,i.wg)(),(0,i.iD)("tr",{class:"row gx-0",key:t._id},[(0,i._)("td",k8,(0,n.zw)(t.nameProduct),1),(0,i._)("td",C8,(0,n.zw)(o.formatDate(s.info.createdAt)),1),(0,i._)("td",x8,(0,n.zw)(t.warrantyTime),1),(0,i._)("td",S8,(0,n.zw)(o.formatDate(o.dealineDate(s.info.createdAt,t.warrantyTime))),1)])))),128))])])]),(0,i._)("div",D8,[(0,i._)("div",T8,[P8,(0,i._)("div",{class:(0,n.C_)(["scroll",{"height-scroll":!l.isDealine}])},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.infoAccessorys,((t,e)=>((0,i.wg)(),(0,i.iD)("div",{class:"row",key:e},[(0,i._)("div",I8,[A8,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e=>t.accessoryId=e,class:"form-select",onChange:s=>o.getproductById(t.accessoryId,e),required:""},[q8,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.accessorys,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t._id,key:t._id},(0,n.zw)(t.name),9,N8)))),128))],40,U8),[[A.bM,t.accessoryId]])]),(0,i._)("div",z8,[F8,(0,i._)("span",O8,"Giá: "+(0,n.zw)(t.priceSale),1)]),(0,i._)("div",M8,[V8,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":e=>t.quantity=e,onKeyup:e=>o.checkQuantity(e,t),required:"",type:"number",placeholder:"Nhập số lượng hàng"},null,40,E8),[[A.nr,t.quantity]]),l.mesValid&&l.idValid==t.accessoryId?((0,i.wg)(),(0,i.iD)("span",$8,(0,n.zw)(l.mesValid),1)):(0,i.kq)("",!0)])])))),128))],2),(0,i._)("div",B8,[(0,i._)("div",R8,[(0,i._)("div",H8,[(0,i._)("span",{class:"btn btn-outline-success",onClick:e[1]||(e[1]=(...t)=>o.pushRow&&o.pushRow(...t))},"Thêm dòng")]),(0,i._)("div",Y8,[(0,i._)("span",{class:"btn btn-outline-danger",onClick:e[2]||(e[2]=(...t)=>o.popRow&&o.popRow(...t))},"Bớt dòng")])])])]),(0,i._)("div",K8,[(0,i._)("div",L8,[(0,i._)("div",Z8,[j8,(0,i.wy)((0,i._)("textarea",{class:"note","onUpdate:modelValue":e[3]||(e[3]=t=>l.note=t),placeholder:"Ghi chú..."},null,512),[[A.nr,l.note]])])]),(0,i._)("div",Q8,[G8,(0,i._)("span",W8,(0,n.zw)(o.formatCurrency(l.totalAmount)),1)]),(0,i._)("div",J8,[X8,(0,i._)("span",t9,(0,n.zw)(o.formatCurrency(l.pricePayed)),1)]),l.isDealine?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("span",e9,"Còn trong thời gian bảo hành")),l.isDealine?((0,i.wg)(),(0,i.iD)("span",s9,"Hết thời gian bảo hành")):(0,i.kq)("",!0)])]),(0,i._)("div",a9,[l.isDealine?((0,i.wg)(),(0,i.iD)("div",i9,[(0,i._)("div",n9,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassCod,"payment-error":l.choosePayent},"payment"]),onClick:e[4]||(e[4]=t=>o.paymentMeThod("COD"))},c9,2)]),(0,i._)("div",d9,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassOnlVNPAY,"payment-error":l.choosePayent},"payment"]),onClick:e[5]||(e[5]=t=>o.paymentMeThod("VNPAY"))},m9,2)]),(0,i._)("div",g9,[(0,i._)("label",{for:"payment",class:(0,n.C_)([{"payment-active":l.isClassOnlMOMO,"payment-error":l.choosePayent},"payment"]),onClick:e[6]||(e[6]=t=>o.paymentMeThod("MOMO"))},_9,2)])])):(0,i.kq)("",!0)]),w9],32)])}class k9{constructor(t="http://localhost:3000/warranty"){this.api=(0,T.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(t,e){return t&&e?await this.api.get(`/?pageNumber=${t}&pageSize=${e}`):await this.api.get("/")}async paymentVNPAY(t,e){return await this.api.post(`/create_payment_url/?url=${t}`,e)}async paymentMOMO(t,e){return await this.api.post(`/pay-momo/?url=${t}`,e)}async getById(t){return await this.api.get(`/find/?id=${t}`)}async update(t,e){return this.api.post(`/update/?id=${t}`,e)}async filterByDate(t,e,s,a,i,n){return await this.api.get(`/filter-date/?pageNumber=${i}&pageSize=${n}&field=${a}&month=${e}&day=${t}&year=${s}`)}}var C9=new k9,x9={data(){return{infoAccessorys:[{accessoryId:""}],accessorys:[],isClassCod:!1,isClassOnlMOMO:!1,isClassOnlVNPAY:!1,paymentMethod:null,note:"",Datedealine:null,choosePayent:!1,isDealine:!0,totalAmount:0,pricePayed:0,isSubmit:!1,mesValid:"",idValid:""}},props:["info"],emits:["closeCreate"],methods:{formatDate(t){return mt.formatDateNoTime(t)},formatCurrency(t){return mt.formatCurrency(t)},dealineDate(t,e){return this.Datedealine=new Date(t),this.Datedealine.setMonth(this.Datedealine.getMonth()+e),this.Datedealine},pushRow(){this.infoAccessorys.push({accessoryId:"",priceSale:0})},popRow(){this.infoAccessorys.length<=1?alert("Dòng cuối"):this.infoAccessorys.pop()},getproductById(t,e){this.accessorys.map((s=>{s._id===t&&(this.infoAccessorys[e].priceSale=s.priceSale,this.infoAccessorys[e].priceImport=s.priceImport,this.infoAccessorys[e].nameProduct=s.name,this.infoAccessorys[e].inputQuantity=s.inputQuantity)}))},async getAllAccessory(){try{const t=await _i.getAll();this.accessorys=t.data,this.accessorys=this.accessorys.filter((t=>t.inputQuantity>0))}catch(t){console.log(t)}},async paymentMeThod(t){this.choosePayent=!1,"COD"==t?(this.isClassCod=!this.isClassCod,this.isClassCod?(this.paymentMethod="COD",this.isClassOnlVNPAY=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"VNPAY"==t?(this.isClassOnlVNPAY=!this.isClassOnlVNPAY,this.isClassOnlVNPAY?(this.paymentMethod="VNPAY",this.isClassCod=!1,this.isClassOnlMOMO=!1):this.paymentMethod=""):"MOMO"==t&&(this.isClassOnlMOMO=!this.isClassOnlMOMO,this.isClassOnlMOMO?(this.paymentMethod="MOMO",this.isClassCod=!1,this.isClassOnlVNPAY=!1):this.paymentMethod="")},async dealine2(){const t=new Date,e=this.daysUntilDue(t,this.Datedealine);console.log(e),this.isDealine=e<=0},daysUntilDue(t,e){const s=new Date(t),a=new Date(e),i=Math.ceil((a-s)/864e5);return i},total(){this.totalAmount=0,this.infoAccessorys.forEach((t=>{this.totalAmount+=t.priceSale*t.quantity||0})),this.isDealine?this.pricePayed=this.totalAmount:this.pricePayed=0},async addWarranty(){try{const t=JSON.parse(sessionStorage.getItem("user")),e={createBy:t?t.user._id:null,customerId:this.info.customerId,productId:this.info.products[0].productId,address:this.info.address,phone:this.info.phone,nameCustomer:this.info.nameCustomer,accessorys:this.infoAccessorys,totalAmount:this.totalAmount,Datedealine:this.Datedealine};if(this.isSubmit){if(this.isDealine)if("VNPAY"==this.paymentMethod){const t=await C9.create(e),s=t.data.data;if(t.data.status){const t=await C9.paymentVNPAY("admin/warranty-search",{totalAmount:s.totalAmount,orderId:s._id});window.location.href=t.data}}else if("MOMO"==this.paymentMethod){const t=await C9.create(e),s=t.data.data;if(t.data.status){const t=await C9.paymentMOMO("admin/warranty-search",{totalAmount:s.totalAmount,orderId:s._id});window.location.href=t.data}}else{e.paymentMethod="Thanh toán tiền mặt",e.isPayment=!0,e.warrantyExpires=!0;const t=await C9.create(e);t.data.status&&(this.infoAccessorys=[{accessoryId:""}],this.totalAmount=0,alert("Tạo thành công"))}else{const t=await C9.create(e);t.data.status&&(this.infoAccessorys=[{accessoryId:""}],this.totalAmount=0,alert("Tạo thành công"))}this.isClassCod=!1,this.isClassOnlMOMO=!1,this.isClassOnlVNPAY=!1}}catch(t){console.log(t)}},checkQuantity(t,e){this.total(),t.target.value<=0?(t.target.style.borderColor="red",this.isSubmit=!1,this.totalAmount=0,this.mesValid="Số lượng phải lớn hơn 0",this.idValid=e.accessoryId):t.target.value>e.inputQuantity?(t.target.style.borderColor="red",this.isSubmit=!1,this.totalAmount=0,this.mesValid="Số lượng trong kho không đủ",this.idValid=e.accessoryId):(t.target.style.borderColor="#0E8388",this.isSubmit=!0,this.mesValid="",this.idValid="")},closeCreate(){this.infoAccessorys=[{accessoryId:""}],this.totalAmount=0,this.$emit("closeCreate")}},mounted(){this.getAllAccessory(),this.dealine2()}};const S9=(0,ft.Z)(x9,[["render",b9],["__scopeId","data-v-78a7a3df"]]);var D9=S9,T9={components:{WarrantyCreate:D9},data(){return{textSearch:"",validInput:!1,loading:!1,order:{},activeCreate:!1,info:{},paymentSuccess:null}},methods:{isPaymentSuccess(){const t=new URLSearchParams(window.location.search);"true"===t.get("success")?this.paymentSuccess=!0:"false"===t.get("success")&&(this.paymentSuccess=!1)},closeSuccess(){this.$router.push("/admin/warranty-search"),this.paymentSuccess=null},async SeachOrder(){try{if(""!=this.textSearch&&this.textSearch.length>=24){this.$refs.warrantyInput.style.borderColor="#ccc",this.validInput=!1,this.loading=!0,this.order={};const t=await zo.getById(this.textSearch),e=await Oo.getById(this.textSearch);this.loading=!1,Object.keys(t.data).length>0?(this.order=t.data,this.order.products=this.order.products.filter((t=>"product"==t.typeProduct))):Object.keys(e.data).length>0&&(this.order=t.data)}else this.validInput=!0,this.$refs.warrantyInput.style.borderColor="red"}catch(t){console.log(t)}},clearTextInput(){this.textSearch="",this.$refs.warrantyInput.focus(),this.validInput=!1,this.$refs.warrantyInput.style.borderColor="#ccc"},formatDate(t){return mt.formatDateNoTime(t)},formatCurrency(t){return mt.formatCurrency(t)},dealineDate(t,e){const s=new Date(t);return s.setMonth(s.getMonth()+e),s},warranty(t){const e=this.order;e.products=e.products.filter((e=>e.idProduct===t.idProduct)),this.info=e,this.activeCreate=!0}},mounted(){this.isPaymentSuccess()}};const P9=(0,ft.Z)(T9,[["render",a8],["__scopeId","data-v-40331115"]]);var I9=P9;const A9=t=>((0,i.dD)("data-v-10d73076"),t=t(),(0,i.Cn)(),t),U9={class:"admin-add-order"},q9=A9((()=>(0,i._)("h3",null,"Đơn bảo hành",-1))),N9={class:"d-flex justify-content-end align-items-center my-3"},z9={class:"input-admin-filter"},F9=A9((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),O9=["value"],M9=A9((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),V9=["value"],E9=A9((()=>(0,i._)("option",{value:"0"},"Năm",-1))),$9=["value"],B9=A9((()=>(0,i._)("option",{value:""},"Chọn kiểu",-1))),R9=A9((()=>(0,i._)("option",{value:"0"},"Tất cả",-1))),H9=A9((()=>(0,i._)("option",{value:"createdAt"},"Ngày tạo",-1))),Y9=A9((()=>(0,i._)("option",{value:"updatedAt"},"Ngày sửa",-1))),K9=[B9,R9,H9,Y9],L9=A9((()=>(0,i._)("button",null,"Lọc",-1))),Z9={class:"admin-export"},j9=A9((()=>(0,i._)("i",{class:"fa-solid fa-file-excel"},null,-1))),Q9=A9((()=>(0,i._)("i",{class:"fa-solid fa-file-pdf"},null,-1))),G9={class:"order-status d-flex mb-3"},W9={class:"w-100"},J9=A9((()=>(0,i._)("th",{class:"col-1"},"STT",-1))),X9={class:"col-2"},ttt={class:"admin-table-title"},ett=A9((()=>(0,i._)("p",null,"Mã số đơn hàng",-1))),stt={class:"admin-sort"},att=A9((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),itt={class:"admin-sort-list"},ntt={class:"filter-admin-input"},ltt={class:"col"},ott={class:"admin-table-title"},rtt=A9((()=>(0,i._)("p",null,"Sản phẩm",-1))),ctt={class:"admin-sort"},dtt=A9((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),htt={class:"admin-sort-list"},ptt={class:"filter-admin-input"},utt={class:"col"},mtt={class:"admin-table-title"},gtt=A9((()=>(0,i._)("p",null,"Tên khách hàng",-1))),ytt={class:"admin-sort"},ftt=A9((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),vtt={class:"admin-sort-list"},_tt={class:"filter-admin-input"},wtt={class:"col"},btt={class:"admin-table-title"},ktt=A9((()=>(0,i._)("p",null,"Trạng thái",-1))),Ctt={class:"admin-sort"},xtt=A9((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),Stt={class:"admin-sort-list"},Dtt={class:"filter-admin-input"},Ttt={class:"col"},Ptt={class:"admin-table-title"},Itt=A9((()=>(0,i._)("p",null,"Bảo hành",-1))),Att={class:"admin-sort"},Utt=A9((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),qtt={class:"admin-sort-list"},Ntt=A9((()=>(0,i._)("th",{class:"col"},"Ngày tạo",-1))),ztt=A9((()=>(0,i._)("th",{class:"col text-center"},"Hành động",-1))),Ftt={class:"col-1 text-center"},Ott={class:"col-2"},Mtt={class:"col-2"},Vtt={class:"col"},Ett={class:"col"},$tt={class:"col"},Btt={class:"col"},Rtt={class:"col text-center"},Htt=["onClick"],Ytt=A9((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1))),Ktt=[Ytt],Ltt=["onClick"],Ztt=A9((()=>(0,i._)("i",{class:"fa-solid fa-print"},null,-1))),jtt=[Ztt],Qtt={class:"product-pagination mt-5"},Gtt={class:"pagination"},Wtt=A9((()=>(0,i._)("i",{class:"fa-solid fa-angles-left"},null,-1))),Jtt=[Wtt],Xtt=A9((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),tet=["onClick"],eet=A9((()=>(0,i._)("li",null,[(0,i._)("span",null,"...")],-1))),set=A9((()=>(0,i._)("i",{class:"fa-solid fa-angles-right"},null,-1))),aet=[set];function iet(t,e,s,a,l,o){const r=(0,i.up)("adminWarrantyDetail");return(0,i.wg)(),(0,i.iD)("div",U9,[q9,(0,i._)("div",N9,[(0,i._)("div",z9,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[F9,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,O9))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[M9,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,V9))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[E9,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,$9)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},K9,512),[[A.bM,l.dateFilter.field]]),L9],32),(0,i._)("div",Z9,[(0,i._)("div",{class:"btn btn-success",onClick:e[5]||(e[5]=(...t)=>o.exportToExcel&&o.exportToExcel(...t))},[j9,(0,i.Uk)(" Excel ")]),(0,i._)("div",{class:"btn btn-warning",onClick:e[6]||(e[6]=(...t)=>o.exportToPDF&&o.exportToPDF(...t))},[Q9,(0,i.Uk)(" Pdf")])])])]),(0,i._)("div",G9,[(0,i._)("span",{onClick:e[7]||(e[7]=t=>o.sort("Đang xử lý","status")),class:"order-status-item me-3",style:{"--color":"#1e90ff"}},[(0,i.Uk)("Đang xử lý "),(0,i._)("span",null,(0,n.zw)(l.orders.filter((t=>"Đang xử lý"==t.status)).length),1)]),(0,i._)("span",{onClick:e[8]||(e[8]=t=>o.sort("Hoàn thành","status")),class:"order-status-item me-3",style:{"--color":"#54B435"}},[(0,i.Uk)("Hoàn thành "),(0,i._)("span",null,(0,n.zw)(l.orders.filter((t=>"Hoàn thành"==t.status)).length),1)])]),(0,i._)("div",{class:(0,n.C_)(["isSort",{"isSort-active":l.isSort}])},[(0,i._)("span",{onClick:e[9]||(e[9]=(...t)=>o.offSort&&o.offSort(...t))},"Đang lọc")],2),(0,i._)("table",W9,[(0,i._)("thead",null,[(0,i._)("tr",null,[J9,(0,i._)("th",X9,[(0,i._)("div",ttt,[ett,(0,i._)("div",stt,[att,(0,i._)("ul",itt,[(0,i._)("div",ntt,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[10]||(e[10]=t=>l.filterInput=t),onInput:e[11]||(e[11]=t=>o.handleFitter("_id"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",ltt,[(0,i._)("div",ott,[rtt,(0,i._)("div",ctt,[dtt,(0,i._)("ul",htt,[(0,i._)("li",{onClick:e[12]||(e[12]=t=>o.sort(1,"nameProduct"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[13]||(e[13]=t=>o.sort(-1,"nameProduct"))},"Từ Z về A"),(0,i._)("div",ptt,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[14]||(e[14]=t=>l.filterInput=t),onInput:e[15]||(e[15]=t=>o.handleFitter("nameProduct"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",utt,[(0,i._)("div",mtt,[gtt,(0,i._)("div",ytt,[ftt,(0,i._)("ul",vtt,[(0,i._)("li",{onClick:e[16]||(e[16]=t=>o.sort(1,"fullName"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[17]||(e[17]=t=>o.sort(-1,"fullName"))},"Từ Z về A"),(0,i._)("div",_tt,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[18]||(e[18]=t=>l.filterInput=t),onInput:e[19]||(e[19]=t=>o.handleFitter("fullName"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",wtt,[(0,i._)("div",btt,[ktt,(0,i._)("div",Ctt,[xtt,(0,i._)("ul",Stt,[(0,i._)("div",Dtt,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[20]||(e[20]=t=>l.filterInput=t),onInput:e[21]||(e[21]=t=>o.handleFitter("status"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",Ttt,[(0,i._)("div",Ptt,[Itt,(0,i._)("div",Att,[Utt,(0,i._)("ul",qtt,[(0,i._)("li",{onClick:e[22]||(e[22]=t=>o.sort(!1,"warrantyExpires"))},"Còn hạn"),(0,i._)("li",{onClick:e[23]||(e[23]=t=>o.sort(!0,"warrantyExpires"))},"Hết hạn")])])])]),Ntt,ztt])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.orders,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{key:t._id},[(0,i._)("td",Ftt,(0,n.zw)(e+1),1),(0,i._)("td",Ott,(0,n.zw)(t._id),1),(0,i._)("td",Mtt,(0,n.zw)(t?.productId.name),1),(0,i._)("td",Vtt,(0,n.zw)(t?.nameCustomer),1),(0,i._)("td",Ett,(0,n.zw)(t.status),1),(0,i._)("td",$tt,(0,n.zw)(t.warrantyExpires?" Hết hạn":"Còn hạn"),1),(0,i._)("td",Btt,(0,n.zw)(t.createdAt),1),(0,i._)("td",Rtt,[(0,i._)("span",{class:"btn btn-outline-info",onClick:e=>o.openDetail(t._id)},Ktt,8,Htt),(0,i._)("span",{class:"btn btn-outline-warning ms-3",onClick:e=>o.printPDF(t._id)},jtt,8,Ltt)])])))),128))])]),l.activeDetail?((0,i.wg)(),(0,i.j4)(r,{key:0,id:l.id,paymentSuccess:l.paymentSuccess,onCloseDetail:o.closeDetail,onCloseSuccess:o.closeSuccess},null,8,["id","paymentSuccess","onCloseDetail","onCloseSuccess"])):(0,i.kq)("",!0),(0,i._)("div",Qtt,[(0,i._)("ul",Gtt,[(0,i._)("li",null,[(0,i._)("span",{onClick:e[24]||(e[24]=(...t)=>o.previousPage&&o.previousPage(...t))},Jtt)]),Xtt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.lengthPage,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t},[(0,i._)("span",{class:(0,n.C_)({active_page:l.activePage===t}),onClick:e=>o.handlePage(t)},(0,n.zw)(t),11,tet)])))),128)),eet,(0,i._)("li",null,[(0,i._)("span",{onClick:e[25]||(e[25]=(...t)=>o.nextPage&&o.nextPage(...t))},aet)])])])])}const net=t=>((0,i.dD)("data-v-49da0546"),t=t(),(0,i.Cn)(),t),oet={class:"overlay"},ret=net((()=>(0,i._)("div",{class:"modal-success text-success"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-check"})])]),(0,i._)("h3",{class:""},"Thanh toán thành công")],-1))),cet=[ret],det=net((()=>(0,i._)("div",{class:"modal-success text-danger"},[(0,i._)("div",{class:"text-center success-icon"},[(0,i._)("span",null,[(0,i._)("i",{class:"fa-solid fa-xmark"})])]),(0,i._)("h3",{class:""},"Thanh toán không thành công")],-1))),het=[det],pet={class:"payment-status"},uet={class:"d-flex justify-content-end"},met=net((()=>(0,i._)("h4",null,"Chi tiết bảo hành",-1))),get={class:"row"},yet={class:"col-lg-3"},fet={class:"status-info"},vet=net((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-gear"}),(0,i.Uk)(" Thông tin đơn hàng")],-1))),_et=net((()=>(0,i._)("hr",null,null,-1))),wet={class:"mb-2"},bet=net((()=>(0,i._)("strong",{class:"me-2"},"Mã:",-1))),ket=net((()=>(0,i._)("strong",{class:"me-2"},"Ngày tạo:",-1))),Cet={class:"col-lg-3"},xet={class:"status-info text-start"},Set=net((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-credit-card"}),(0,i.Uk)("Thông tin bảo hành")],-1))),Det=net((()=>(0,i._)("hr",null,null,-1))),Tet={class:"scroll-address"},Pet={class:""},Iet=net((()=>(0,i._)("strong",{class:"me-2"},"Sản phẩm bảo hành:",-1))),Aet={class:""},Uet=net((()=>(0,i._)("strong",{class:"me-2"},"Thời hạn bảo hành:",-1))),qet={class:""},Net={key:0,class:"me-2"},zet={key:0,class:""},Fet=net((()=>(0,i._)("strong",{class:"me-2"},"Trạng thái thanh toán:",-1))),Oet={class:"col-lg-3"},Met={class:"status-info text-start"},Vet=net((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-truck"}),(0,i.Uk)(" Khách hàng")],-1))),Eet=net((()=>(0,i._)("hr",null,null,-1))),$et={class:"scroll-address"},Bet=net((()=>(0,i._)("strong",{class:"me-2"},"Tên:",-1))),Ret=net((()=>(0,i._)("strong",{class:"me-2"},"Số điện thoại:",-1))),Het=net((()=>(0,i._)("strong",{class:"me-2"},"Địa chỉ:",-1))),Yet={class:"col-lg-3"},Ket={class:"status-info"},Let=net((()=>(0,i._)("h5",null,[(0,i._)("i",{class:"fa-solid fa-note-sticky"}),(0,i.Uk)(" Ghi chú")],-1))),Zet=net((()=>(0,i._)("hr",null,null,-1))),jet=net((()=>(0,i._)("i",{class:"fa-solid fa-notes-medical"},null,-1))),Qet={class:"status mt-1"},Get=net((()=>(0,i._)("h5",{class:"mt-2 mb-4"},"Trạng thái đơn hàng",-1))),Wet={key:0,class:"status-progress"},Jet=(0,i.uE)('<div class="status-progress-color" style="--left:70%;--colorB:#11e911;" data-v-49da0546></div><div class="progress-item" style="--left:15%;" data-v-49da0546><span style="--border-color:#11e911;" data-v-49da0546>1</span><span data-v-49da0546>Đang xử lý</span></div><div class="progress-item" style="--left:70%;" data-v-49da0546><span style="--border-color:blue;" data-v-49da0546>2</span><span data-v-49da0546>Hoàn thành</span></div>',3),Xet=[Jet],tst={key:1,class:"status-progress"},est=(0,i.uE)('<div class="status-progress-color" style="--left:0%;--colorB:#11e911;" data-v-49da0546></div><div class="progress-item" style="--left:15%;" data-v-49da0546><span style="--border-color:#11e911;" data-v-49da0546>1</span><span data-v-49da0546>Đang xử lý</span></div><div class="progress-item" style="--left:70%;" data-v-49da0546><span style="--border-color:#11e911;" data-v-49da0546>2</span><span data-v-49da0546>Hoàn thành</span></div>',3),sst=[est],ast={key:3,disabled:"",class:"btn btn-success mt-5 mb-1"},ist={class:"row mt-1"},nst={class:"col-lg-8"},lst={class:"order-detail"},ost=net((()=>(0,i._)("h5",null,"Danh sách sản phẩm",-1))),rst={class:"w-100 order-detail-td"},cst=net((()=>(0,i._)("thead",null,[(0,i._)("tr",{class:"row gx-0"},[(0,i._)("th",{class:"col-1 text-center"},"STT"),(0,i._)("th",{class:"col-4"},"Tên"),(0,i._)("th",{class:"col-3"},"Giá"),(0,i._)("th",{class:"col-2"},"Số lượng"),(0,i._)("th",{class:"col-2"},"Tổng tiền")])],-1))),dst={class:"order-scroll"},hst={class:"col-1 text-center"},pst={class:"col-4"},ust={class:"col-3"},mst={class:"col-2"},gst={class:"col-2"},yst={class:"col-lg-4"},fst={class:"order-total"},vst=net((()=>(0,i._)("h5",null,"Chi tiết thanh toán",-1))),_st={class:"row text-left"},wst=net((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Tổng cộng")],-1))),bst={class:"col-lg-6 mb-2"},kst=net((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Số tiền phải thanh toán")],-1))),Cst={class:"col-lg-6 mb-2"},xst=net((()=>(0,i._)("span",{class:"col-lg-6 mb-2"},[(0,i._)("strong",null,"Số tiền đã thanh toán")],-1))),Sst={class:"col-lg-6 mb-2"},Dst={key:0,class:"col-lg-6 mb-2 text-success"},Tst=net((()=>(0,i._)("strong",null,"Đã thanh toán",-1))),Pst=[Tst],Ist={key:1,class:"col-lg-12 mb-2 text-danger"},Ast=net((()=>(0,i._)("strong",null,"Sản phẩm còn trong thời gian bảo hành",-1))),Ust=[Ast],qst={key:2,class:"col-lg-12 mb-2 text-danger"},Nst=net((()=>(0,i._)("strong",null,"Sản phẩm hết thời gian bảo hành",-1))),zst=[Nst];function Fst(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",oet,[s.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"overlay",onClick:e[0]||(e[0]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},cet)):(0,i.kq)("",!0),0==s.paymentSuccess?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"overlay",onClick:e[1]||(e[1]=(...t)=>o.closeSuccess&&o.closeSuccess(...t))},het)):(0,i.kq)("",!0),(0,i._)("div",pet,[(0,i._)("div",uet,[(0,i._)("i",{onClick:e[2]||(e[2]=(...t)=>o.closeDetail&&o.closeDetail(...t)),class:"fa-solid fa-xmark fs-1 text-danger me-2"})]),met,(0,i._)("div",get,[(0,i._)("div",yet,[(0,i._)("div",fet,[vet,_et,(0,i._)("span",wet,[bet,(0,i.Uk)((0,n.zw)(l.order._id),1)]),(0,i._)("span",null,[ket,(0,i.Uk)(" "+(0,n.zw)(l.order.createdAt),1)])])]),(0,i._)("div",Cet,[(0,i._)("div",xet,[Set,Det,(0,i._)("div",Tet,[(0,i._)("span",Pet,[Iet,(0,i.Uk)((0,n.zw)(l.order.productId?.name),1)]),(0,i._)("span",Aet,[Uet,(0,i.Uk)((0,n.zw)(l.order.warrantyExpires?"Hết hạn":"Còn hạn"),1)]),(0,i._)("span",qet,[l.order.warrantyExpires?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("strong",Net,"Hạn cuối bảo hành ngày:")),(0,i.Uk)((0,n.zw)(l.order.Datedealine),1)]),l.order.warrantyExpires?((0,i.wg)(),(0,i.iD)("span",zet,[Fet,(0,i.Uk)((0,n.zw)(l.order.isPayment?"Đã thanh toán":"Chưa thanh toán"),1)])):(0,i.kq)("",!0)])])]),(0,i._)("div",Oet,[(0,i._)("div",Met,[Vet,Eet,(0,i._)("div",$et,[(0,i._)("span",null,[Bet,(0,i.Uk)((0,n.zw)(l.order.nameCustomer),1)]),(0,i._)("span",null,[Ret,(0,i.Uk)((0,n.zw)(l.order.phone),1)]),(0,i._)("span",null,[Het,(0,i.Uk)((0,n.zw)(l.order.address),1)])])])]),(0,i._)("div",Yet,[(0,i._)("div",Ket,[Let,Zet,(0,i.wy)((0,i._)("textarea",{placeholder:"Ghi chú đơn hàng","onUpdate:modelValue":e[3]||(e[3]=t=>l.order.note=t)},null,512),[[A.nr,l.order.note]]),(0,i._)("button",{class:"btn-note",onClick:e[4]||(e[4]=t=>o.update(l.order._id,{note:l.order.note}))},[jet,(0,i.Uk)(" Cập nhật")])])])]),(0,i._)("div",Qet,[Get,"Đang xử lý"===l.order.status?((0,i.wg)(),(0,i.iD)("div",Wet,Xet)):(0,i.kq)("",!0),"Hoàn thành"===l.order.status?((0,i.wg)(),(0,i.iD)("div",tst,sst)):(0,i.kq)("",!0),"Đang xử lý"===l.order.status?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"btn btn-warning mt-5 mb-1",onClick:e[5]||(e[5]=t=>o.update(l.order._id,{status:"Hoàn thành"}))},"Cập nhật")):"Hoàn thành"==l.order.status?((0,i.wg)(),(0,i.iD)("button",ast,"Đã hoàn thành bảo hành")):(0,i.kq)("",!0)]),(0,i._)("div",ist,[(0,i._)("div",nst,[(0,i._)("div",lst,[ost,(0,i._)("table",rst,[cst,(0,i._)("tbody",dst,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.order.accessorys,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row gx-0",key:e},[(0,i._)("td",hst,(0,n.zw)(e+1),1),(0,i._)("td",pst,(0,n.zw)(t.nameProduct),1),(0,i._)("td",ust,(0,n.zw)(o.formatPrice(t.priceSale)),1),(0,i._)("td",mst,(0,n.zw)(t.quantity),1),(0,i._)("td",gst,(0,n.zw)(o.formatPrice(t.quantity*t.priceSale)),1)])))),128))])])])]),(0,i._)("div",yst,[(0,i._)("div",fst,[vst,(0,i._)("div",_st,[wst,(0,i._)("span",bst,(0,n.zw)(o.formatPrice(l.order.totalAmount)),1),kst,(0,i._)("span",Cst,(0,n.zw)(o.formatPrice(l.order.warrantyExpires?l.order.totalAmount:l.order.pricePayed)),1),xst,(0,i._)("span",Sst,(0,n.zw)(o.formatPrice(l.order.pricePayed)),1),l.order.pricePayed>0?((0,i.wg)(),(0,i.iD)("span",Dst,Pst)):(0,i.kq)("",!0),l.order.warrantyExpires?((0,i.wg)(),(0,i.iD)("span",qst,zst)):((0,i.wg)(),(0,i.iD)("span",Ist,Ust))]),l.order.warrantyExpires&&l.order.pricePayed<=0?((0,i.wg)(),(0,i.iD)("div",{key:0,class:"btn btn-info me-1",onClick:e[6]||(e[6]=t=>o.paymentByVnPay(l.order))},"VNPay")):(0,i.kq)("",!0),l.order.warrantyExpires&&l.order.pricePayed<=0?((0,i.wg)(),(0,i.iD)("div",{key:1,class:"btn btn-danger me-1",onClick:e[7]||(e[7]=t=>o.paymentByMOMO(l.order))},"MOMO")):(0,i.kq)("",!0),l.order.warrantyExpires&&l.order.pricePayed<=0?((0,i.wg)(),(0,i.iD)("div",{key:2,class:"btn btn-success",onClick:e[8]||(e[8]=t=>o.paymentByCOD(l.order))},"COD")):(0,i.kq)("",!0),(0,i._)("div",{class:"btn btn-warning ms-1",onClick:e[9]||(e[9]=(...t)=>o.printPDF&&o.printPDF(...t))},"In phiếu ")])])])])])}function Ost(t={}){const e=JSON.parse(sessionStorage.getItem("user"));let s="";t?.accessorys.forEach(((t,e)=>{s+=` \n        <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; padding-bottom: 10px;">\n        <div style="width: 8.333333%; margin-top: 10px;">\n        ${e+1}. \n     </div>\n     <div style="width: 20%; margin-top: 10px;">\n         ${t.nameProduct}\n     </div>\n     <div style="width: 20%; margin-top: 10px;">\n         ${t.priceSale}\n     </div>\n     <div style="width: 20%; margin-top: 10px;">\n         ${t.quantity}\n     </div>\n     <div style="width: 20%; margin-top: 10px;">\n        \n    </div>\n        </div>\n     `}));const a=`\n   <div style="height:100%">\n        <h4 style=" margin: 20px; font-size: 18px;">Số: ${t._id}</h4>\n        <div style="width: 100%;">\n            <h4 style="text-align: center; font-size: 30px; margin: 0px;">Hóa đơn</h4>\n            <span style="text-align: center;color:red;font-size: 20px; display:block;">${t.warrantyExpires?"Hết hạn bảo hành":"Còn hạn bảo hành"}</span>\n            <br>\n            <div style="display:flex">\n                <h4 style="text-align: center; font-size: 20px; margin: 0px;">Ngày tạo phiếu: ${mt.formatDate(new Date)}</h4>\n                <h4 style="text-align: center; font-size: 20px; margin: 0px; margin-left:20px">Ngày Bảo hành: ${t.createdAt}</h4>\n            </div>\n        </div>\n        <div style="display: flex; justify-content: center; align-items: center;">\n            <div style="width: 50%; text-align:center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Nhân viên in phiếu</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Họ và tên: </b>${e.user?.fullName}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${e.user?.phoneNumber}</span>\n                </div>\n            </div>\n\n            <div style="width: 50%; text-align: center;">\n                <h4 style="margin-bottom:10px; margin-left:10px; font-size: 20px">Thông tin khách hàng</h4>\n                <div  style="margin-bottom:0; margin-left:20px;">\n                        <span><b>Tên: </b>${t.nameCustomer}</span>\n                        <br>\n                        <span><b>Địa chỉ: </b>${t.address}</span>\n                        <br>\n                        <span><b>Số điện thoại: </b>${t.phone}</span>\n                </div>\n            </div>\n        </div>\n        <div style="text-align: center;font-size: 20px; margin-top:10px;">Bảo hành cho sản phẩm ${t.productId.name}</div>\n        <h5 style="text-align: center; font-size: 16px;margin-top:10px;">Danh sách phụ kiện</h5>\n        <div style="margin: 20px 0; ">\n            <div style="display: flex; font-size: 20px; text-align: center; border: 1px solid #111; height: 50px; line-height: 50px;">\n                <div style="width: 8.333333%;">\n                    STT\n                </div>\n                <div style="width: 20%;">\n                    Tên Sản phẩm\n                </div>\n                <div style="width: 20%;">\n                    Giá\n                </div>\n                <div style="width: 20%;">\n                    Số lượng\n                </div>\n                <div style="width: 20%;">\n                    Ghi chú\n                </div>\n            </div>\n            ${s}\n        </div>\n        <div style="width: 100%;">\n            <div style="font-size: 20px; margin-right: 10px; display: flex; justify-content: flex-end; ">\n                <div>\n                    <b>Tổng cộng</b>: ${mt.formatCurrency(t.totalAmount)}\n                    <br>\n                    <b style="margin-top:10px;display:inline-block;">Số tiền phải thanh toán</b>: ${t.warrantyExpires?mt.formatCurrency(t.totalAmount):0}\n                    <br>\n                    <span style=" margin-top:10px;display:block;">${t.warrantyExpires?t.isPayment?"Đã thanh toán":"Chưa thanh toán":"Còn hạn bảo hành"}</span>\n                </div>\n            </div>\n        </div>\n        \n    </div>\n`;return a}var Mst=Ost,Vst={data(){return{order:{}}},props:["id","paymentSuccess"],emits:["closeDetail","openDetail","closeSuccess"],methods:{closeDetail(){this.$emit("closeDetail")},closeSuccess(){this.$emit("closeSuccess")},async getOrderById(){try{const t=await C9.getById(this.id);this.order=t.data,this.order.createdAt=mt.formatDateNoTime(this.order.createdAt),this.order.Datedealine=mt.formatDateNoTime(this.order.Datedealine),console.log(this.order)}catch(t){console.log(t)}},formatPrice(t){return mt.formatCurrency(t)},async update(t,e){try{const s=await C9.update(t,e);s.data.status&&(alert("Thay đổi thành công"),this.getOrderById())}catch(s){console.log(s)}},async paymentByVnPay(t){try{const e={totalAmount:t.totalAmount,orderId:t._id};if("Hủy đơn"==t.status)return void alert("Đơn hàng đã bị hủy");const s=await C9.paymentVNPAY("admin/warranty",e);window.location.href=s.data}catch(e){console.log(e)}},async paymentByMOMO(t){try{const e={totalAmount:t.totalAmount,orderId:t._id};if("Hủy đơn"==t.status)return void alert("Đơn hàng đã bị hủy");const s=await C9.paymentMOMO("admin/warranty",e);window.location.href=s.data}catch(e){console.log(e)}},async paymentByCOD(t){try{if(confirm(`Số tiền phải trả là :${t.totalAmount}`)){const e={totalAmount:t.totalAmount,paymentMethod:"Thanh toán tiền mặt",pricePayed:t.totalAmount,isPayment:!0,warrantyExpires:!0},s=await C9.update(t._id,e);s.data.status&&this.getOrderById()}}catch(e){console.log(e)}},async printPDF(){const t=Mst(this.order);uT(t,"Hóa đơn")}},mounted(){this.getOrderById()}};const Est=(0,ft.Z)(Vst,[["render",Fst],["__scopeId","data-v-49da0546"]]);var $st=Est;function Bst(t=[]){let e="";t.forEach(((t,s)=>{e+=`\n            <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px;  width: 100%; height: ca;">\n                <td  style="width: 3%;  border: 1px solid #111" >${s+1}</td>\n                <td style="width: 12%; border: 1px solid #111; overflow: hidden;">${t._id}</td>\n                <td style="width: 12%; border: 1px solid #111;">${t.productId.name}</td>\n                <td style="width: 12%; border: 1px solid #111;">${t.nameCustomer}</td>\n                <td style="width: 6%; border: 1px solid #111;">${t.phone}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.address}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.warrantyExpires?"Hết hạn":"Còn hạn"}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.status}</td>\n                <td style="width: 10%; border: 1px solid #111;">${mt.formatCurrency(t.totalAmount)}</td>\n                <td style="width: 10%; border: 1px solid #111;">${t.createdAt}</td>\n            </tr>\n        `}));const s=`\n        <div style="width: 100%; ">\n        <div>\n            <div style="width: 100%;">\n                <h4 style="text-align: center; font-size: 25px; margin: 0px;">Phiếu Thông tin bảo hành</h4>\n                <br>\n                <h4 style="text-align: center; font-size: 15px; margin: 0px;">Ngày tạo: ${mt.formatDate(new Date)}</h4>\n            </div>\n        </div>\n\n        <h4 style="text-align: center; font-size: 18px;">Bảng tất cả đơn hàng</h4>\n        <table style=" border-spacing: 0px; border: 1px solid #111">\n            <thead style="background-color: #ccc; width:50px">\n                <tr style=" font-size: 15px; text-align: center; border: 1px solid #111; height: 50px; width: 100%;">\n                    <th style="width: 3%;border: 1px solid #111">STT</th>\n                    <th  style="width: 12%; border: 1px solid #111">Mã đơn</th>\n                    <th style="width: 12%; border: 1px solid #111;">Tên sản phẩm</th>\n                    <th style="width: 12%; border: 1px solid #111;">Tên khách hàng</th>\n                    <th style="width: 6%; border: 1px solid #111;">Số điện thoại</th>\n                    <th style="width: 10%; border: 1px solid #111;">Địa chỉ</th>\n                    <th style="width: 10%; border: 1px solid #111;">Bảo hành</th>\n                    <th style="width: 10%; border: 1px solid #111;">Trạng thái</th>\n                    <th style="width: 10%; border: 1px solid #111;">Tổng giá</th>\n                    <th style="width: 10%; border: 1px solid #111;">Ngày tạo</th>\n                </tr>\n            </thead>\n            <tbody style="width: 100%;">\n                ${e}\n            </tbody>\n        </table>\n        <div style="margin-top: 20px; font-size: 20px; display: flex; justify-content: flex-end; width: 100%;">\n            <strong>Tổng số đơn hàng: </strong><span style="margin-left: 10px;">${t.length}</span>\n        </div>\n            \n    `;return s}var Rst=Bst,Hst={components:{adminWarrantyDetail:$st},data(){return{orders:[],pageNumber:1,pageSize:8,lengthPage:1,activePage:1,years:[],dateFilter:{day:"0",month:"0",year:"0",field:""},filterInput:"",isSort:!1,activeDetail:!1,paymentSuccess:null,id:""}},methods:{isPaymentSuccess(){const t=new URLSearchParams(window.location.search);"true"===t.get("success")?(this.id=t.get("id"),this.activeDetail=!0,this.paymentSuccess=!0):"false"===t.get("success")&&(this.id=t.get("id"),this.activeDetail=!0,this.paymentSuccess=!1)},closeSuccess(){this.$router.push("/admin/warranty"),this.paymentSuccess=null},openDetail(t){this.activeDetail=!0,this.id=t},closeDetail(){this.activeDetail=!1,this.getAll()},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},handlePage(t){this.activePage=t,this.pageNumber=t,this.getAll(),this.isSort=!1},nextPage(){this.pageNumber>=this.lengthPage?alert("Trang cuối"):(this.pageNumber+=1,this.activePage+=1,this.getAll())},previousPage(){this.pageNumber<=1?alert("Trang đầu"):(this.pageNumber-=1,this.activePage-=1,this.getAll())},async getAll(){const t=await C9.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await C9.getAll(this.pageNumber,this.pageSize);this.orders=[...e.data],this.orders.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)}))},offSort(){this.isSort=!1,this.getAll(),this.filterInput="",this.dateFilter={day:"0",month:"0",year:"0",field:""}},async sort(t,e){this.type=t,this.field=e,this.isSort=!0,"fullName"===e?this.orders.sort(((s,a)=>1==t?s.customerId[e].localeCompare(a.customerId[e]):-1==t?a.customerId[e].localeCompare(s.customerId[e]):void 0)):"nameProduct"==e?this.orders.sort(((e,s)=>1==t?e.productId["name"].localeCompare(s.productId["name"]):-1==t?s.productId["name"].localeCompare(e.productId["name"]):void 0)):(await this.getAll(),this.orders=this.orders.filter((s=>s[e]==t)))},handleFitter(t){null==this.idTimeOut&&(this.isSort=!1),clearTimeout(this.idTimeOut),this.getAll(),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){if(""!=this.filterInput){this.isSort=!0;const e=new RegExp(this.filterInput.trim(),"i");let s=[];s="fullName"===t?this.orders.filter((s=>e.test(s.customerId[t]))):"nameProduct"===t?this.orders.filter((t=>e.test(t.productId["name"]))):this.orders.filter((s=>e.test(s[t]))),this.orders=s}else this.isSort=!1,this.getAll()},async filterDate(){this.isSort=!0;const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await C9.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.orders=[...i.data],this.orders.map((t=>{t.createdAt=mt.formatDateNoTime(t.createdAt)}))},exportToExcel(){const t=[];this.orders.map((e=>{t.push({"Mã":e._id,"Tên sản phẩm":e.productId.name,"Tên khách hàng":e.nameCustomer,"Số điện thoại":e.phone,"Địa chỉ":e.address,"Bảo hành":e.warrantyExpires?"Hết hạn":"Còn hạn","Trạng thái đơn hàng":e.status,"Tổng giá":mt.formatCurrency(e.totalAmount),"Ngày tạo":e.createdAt})})),Gw(t,"BaoHanh")},async exportToPDF(){const t=Rst(this.orders),e=await I.exportPDF({data:t}),s=new Blob([e.data],{type:"application/pdf"}),a=window.URL.createObjectURL(s),i=document.createElement("a");i.href=a,i.target="_blank",i.setAttribute("download","BaoHanh.pdf"),document.body.appendChild(i),i.click()},async printPDF(t){const e=await C9.getById(t),s=e.data;s.createdAt=mt.formatDate(s.createdAt),s.accessorys.forEach((t=>{t.priceSale=mt.formatCurrency(t.priceSale)}));const a=Mst(s);uT(a,"Phiếu Bảo Hành")}},mounted(){this.getAll(),this.getYears(),this.isPaymentSuccess()}};const Yst=(0,ft.Z)(Hst,[["render",iet],["__scopeId","data-v-10d73076"]]);var Kst=Yst;const Lst=t=>((0,i.dD)("data-v-5f7a3c96"),t=t(),(0,i.Cn)(),t),Zst={class:"row text-start mb-3"},jst={class:"col-lg-3"},Qst={class:"container-statictical"},Gst=Lst((()=>(0,i._)("h4",null,"Tổng thu nhập",-1))),Wst={class:"detail"},Jst=Lst((()=>(0,i._)("div",{class:"icon"},[(0,i._)("span",{class:"icon-name"},"Xem tại biểu đồ bên dưới"),(0,i._)("span",{class:"icon-icon",style:{"--color-icon":"#A6CF98"}},[(0,i._)("i",{class:"fa-solid fa-dollar-sign"})])],-1))),Xst={class:"col-lg-3"},tat={class:"container-statictical"},eat=Lst((()=>(0,i._)("h4",null,"Đơn hàng",-1))),sat={class:"detail"},aat={class:"icon"},iat=Lst((()=>(0,i._)("span",{class:"icon-icon",style:{"--color-icon":"#87C4FF"}},[(0,i._)("i",{class:"fa-solid fa-bag-shopping"})],-1))),nat={class:"col-lg-3"},lat={class:"container-statictical"},oat=Lst((()=>(0,i._)("h4",null,"khách hàng",-1))),rat={class:"detail"},cat=Lst((()=>(0,i._)("div",{class:"icon"},[(0,i._)("span",{class:"icon-name"},"Tổng tất cả khách hàng"),(0,i._)("span",{class:"icon-icon",style:{"--color-icon":"#FF9209"}},[(0,i._)("i",{class:"fa-solid fa-user"})])],-1))),dat={class:"col-lg-3"},hat={class:"container-statictical"},pat=Lst((()=>(0,i._)("h4",null,"Sản phẩm",-1))),uat={class:"detail"},mat={class:"icon"},gat=Lst((()=>(0,i._)("span",{class:"icon-icon",style:{"--color-icon":"#87C4FF"}},[(0,i._)("i",{class:"fa-brands fa-product-hunt"})],-1))),yat=Lst((()=>(0,i._)("hr",null,null,-1))),fat={key:0,class:"text-uppercase"},vat={key:1,class:"text-uppercase"},_at={class:"row"},wat={class:"col-3 text-start"},bat={class:"d-flex mt-3"},kat={key:0,class:""},Cat={key:1,class:""},xat=Lst((()=>(0,i._)("option",{value:"0"},"Năm",-1))),Sat=["value"],Dat={class:""},Tat=Lst((()=>(0,i._)("h5",{class:"text-uppercase"},"Biểu đồ doanh thu và chi phí tổng",-1))),Pat={class:"d-flex"},Iat={class:"d-flex"},Aat={class:"row mb-5"},Uat={class:"col-lg-12"},qat={class:"text-uppercase mt-5"},Nat={class:"d-flex mb-2"},zat=Lst((()=>(0,i._)("span",{class:"fs-5 me-2"},"Lựa chọn: ",-1))),Fat=["value"];function Oat(t,e,s,a,l,o){const r=(0,i.up)("router-link"),c=(0,i.up)("adminChart");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Zst,[(0,i._)("div",jst,[(0,i._)("div",Qst,[Gst,(0,i._)("span",Wst,(0,n.zw)(o.formatPrice(l.revenue)),1),Jst])]),(0,i._)("div",Xst,[(0,i._)("div",tat,[eat,(0,i._)("span",sat,(0,n.zw)(l.totalOrder),1),(0,i._)("div",aat,[(0,i.Wm)(r,{to:"/admin/order",class:""},{default:(0,i.w5)((()=>[(0,i.Uk)("Xem chi tiết")])),_:1}),iat])])]),(0,i._)("div",nat,[(0,i._)("div",lat,[oat,(0,i._)("span",rat,(0,n.zw)(l.customer),1),cat])]),(0,i._)("div",dat,[(0,i._)("div",hat,[pat,(0,i._)("span",uat,(0,n.zw)(l.products),1),(0,i._)("div",mat,[(0,i.Wm)(r,{to:"/admin/product",class:""},{default:(0,i.w5)((()=>[(0,i.Uk)("Xem chi tiết")])),_:1}),gat])])])]),yat,(0,i._)("div",null,["year"==l.typeStatistical?((0,i.wg)(),(0,i.iD)("h3",fat,"Doanh thu Năm "+(0,n.zw)(l.year),1)):(0,i.kq)("",!0),"month"==l.typeStatistical?((0,i.wg)(),(0,i.iD)("h3",vat,"Doanh thu Tháng "+(0,n.zw)(l.month)+" năm "+(0,n.zw)(l.year),1)):(0,i.kq)("",!0)]),(0,i._)("div",_at,[(0,i._)("div",wat,["year"==l.typeStatistical?((0,i.wg)(),(0,i.iD)("span",{key:0,class:"btn btn-info",onClick:e[0]||(e[0]=(...t)=>o.ChangeStatistical&&o.ChangeStatistical(...t))},"Doanh thu Tháng ")):(0,i.kq)("",!0),"month"==l.typeStatistical?((0,i.wg)(),(0,i.iD)("span",{key:1,class:"btn btn-info",onClick:e[1]||(e[1]=(...t)=>o.ChangeStatistical&&o.ChangeStatistical(...t))},"Doanh thu Năm")):(0,i.kq)("",!0),(0,i._)("div",bat,["month"==l.typeStatistical?((0,i.wg)(),(0,i.iD)("div",kat,[(0,i.wy)((0,i._)("input",{type:"month",name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateValue=t),class:"h-100"},null,512),[[A.nr,l.dateValue]]),(0,i._)("span",{class:"btn btn-success ms-3",onClick:e[3]||(e[3]=t=>o.statistical(l.typeStatistical))},"Thống kê")])):(0,i.kq)("",!0),"year"==l.typeStatistical?((0,i.wg)(),(0,i.iD)("div",Cat,[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[4]||(e[4]=t=>l.year=t),required:"",class:"h-100"},[xat,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,Sat)))),128))],512),[[A.bM,l.year]]),(0,i._)("span",{class:"btn btn-success ms-3",onClick:e[5]||(e[5]=t=>o.statistical(l.typeStatistical))},"Thống kê")])):(0,i.kq)("",!0)])])]),(0,i._)("div",Dat,[Tat,(0,i._)("div",Pat,[(0,i._)("span",null,"Tổng doanh thu : "+(0,n.zw)(o.formatPrice(l.revenue)),1)]),(0,i._)("div",Iat,[(0,i._)("span",null,"Tổng chi phí : "+(0,n.zw)(o.formatPrice(l.expence)),1)]),l.isRender?((0,i.wg)(),(0,i.j4)(c,{key:0,data:l.data,"dynamic-labels":l.lables,"chart-type":"bar",year:l.year,month:l.month,typeStatistical:l.typeStatistical,color:"#F55050",name:"Tổng",data2:l.data2,label1:"Doanh thu",label2:"Chi phí"},null,8,["data","dynamic-labels","year","month","typeStatistical","data2"])):(0,i.kq)("",!0)]),(0,i._)("div",Aat,[(0,i._)("div",Uat,[(0,i._)("h5",qat,"Biểu đổ doanh thu "+(0,n.zw)(l.activeChart),1),(0,i._)("div",Nat,[zat,(0,i.wy)((0,i._)("select",{"onUpdate:modelValue":e[6]||(e[6]=t=>l.activeChart=t),id:"",class:"px-3 py-1",onChange:e[7]||(e[7]=t=>o.changeDataChart(l.activeChart))},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.typeChart,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t,key:t},(0,n.zw)(t),9,Fat)))),128))],544),[[A.bM,l.activeChart]])]),l.isRender?((0,i.wg)(),(0,i.j4)(c,{key:0,data:l.dataChange,"dynamic-labels":l.lables,"chart-type":"bar",year:l.year,month:l.month,typeStatistical:l.typeStatistical,color:"#89CFF3",name:l.activeChart},null,8,["data","dynamic-labels","year","month","typeStatistical","name"])):(0,i.kq)("",!0)])])],64)}class Mat{constructor(t="http://localhost:3000/site"){this.api=(0,T.Z)(t)}async revenueYear(t){return await this.api.get(`/revenue-year/?year=${t}`)}async revenuemonth(t,e){return await this.api.get(`/revenue-month/?year=${e}&month=${t}`)}async expenseYear(t){return await this.api.get(`/expense-year/?year=${t}`)}async expensemonth(t,e){return await this.api.get(`/expense-month/?year=${e}&month=${t}`)}}var Vat=new Mat,Eat={components:{adminChart:lb},data(){return{data:[],data2:[],lables:[],year:(new Date).getFullYear(),month:(new Date).getMonth()+1,inputMonth:new Date,isRender:!1,typeStatistical:"month",years:[],dateValue:"",resultOrder:[],resultRental:[],resultWarranty:[],resultTask:[],typeChart:["Đặt hàng","Thuê máy","Bảo hành","Dịch vụ"],activeChart:"Đặt hàng",dataChange:[],revenue:0,expence:0,totalOrder:0,customer:0,products:0}},methods:{formatPrice(t){return mt.formatCurrency(t)},async revenueYear(){try{this.isRender=!1;const t=await Vat.revenueYear(this.year),e=t.data.result,s=t.data.resultOrder,a=t.data.resultRental,i=t.data.resultWarranty,n=t.data.resulTtask;this.data=[],this.lables=[],this.resultOrder=[],this.resultRental=[],this.resultWarranty=[],this.resultTask=[],e.forEach((t=>{this.lables.push(`Tháng ${t.month}`),this.data.push(t.totalRevenue),this.revenue+=t.totalRevenue})),s.forEach((t=>{this.resultOrder.push(t.totalRevenue),this.dataChange.push(t.totalRevenue)})),a.forEach((t=>{this.resultRental.push(t.totalRevenue)})),i.forEach((t=>{this.resultWarranty.push(t.totalRevenue)})),n.forEach((t=>{this.resultTask.push(t.totalRevenue)})),await this.expenceYear(),this.isRender=!0}catch(t){console.log(t)}},async expenceYear(){try{const t=await Vat.expenseYear(this.year),e=t.data;this.data2=[],e.forEach((t=>{this.data2.push(t.totalRevenue),this.expence+=t.totalRevenue}))}catch(t){console.log(t)}},async revenueMonth(){try{const t=await Vat.revenuemonth(this.month,this.year),e=t.data.result,s=t.data.resultOrder,a=t.data.resultRental,i=t.data.resultWarranty,n=t.data.resultTask;this.data=[],this.lables=[],this.resultOrder=[],this.resultRental=[],this.resultWarranty=[],this.resultTask=[],e.forEach((t=>{this.lables.push(`Ngày ${t.day}`),this.data.push(t.totalRevenue),this.revenue+=t.totalRevenue})),s.forEach((t=>{this.resultOrder.push(t.totalRevenue),this.dataChange.push(t.totalRevenue)})),a.forEach((t=>{this.resultRental.push(t.totalRevenue)})),i.forEach((t=>{this.resultWarranty.push(t.totalRevenue)})),n.forEach((t=>{this.resultTask.push(t.totalRevenue)}))}catch(t){console.log(t)}},async expenceMonth(){try{this.isRender=!1;const t=await Vat.expensemonth(this.month,this.year),e=t.data;this.data2=[],e.forEach((t=>{this.data2.push(t.totalRevenue),this.expence+=t.totalRevenue})),await this.revenueMonth(),this.isRender=!0}catch(t){console.log(t)}},async ChangeStatistical(){this.revenue=0,this.expence=0,this.isRender=!1;const t=new Date;this.month=t.getMonth()+1,this.year=t.getFullYear(),"month"==this.typeStatistical?(this.revenue=0,this.expence=0,await this.revenueYear(),this.typeStatistical="year"):(this.revenue=0,this.expence=0,await this.expenceMonth(),this.typeStatistical="month")},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},async statistical(t){if("month"==t){const t=new Date(this.dateValue);this.revenue=0,this.expence=0,this.month=t.getMonth()+1,this.year=t.getFullYear(),this.isRender=!1,await this.expenceMonth()}else"year"==t&&(this.isRender=!1,this.revenue=0,this.expence=0,await this.revenueYear())},changeDataChart(){"Đặt hàng"===this.activeChart?this.dataChange=this.resultOrder:"Thuê máy"===this.activeChart?this.dataChange=this.resultRental:"Bảo hành"===this.activeChart?this.dataChange=this.resultWarranty:"Dịch vụ"===this.activeChart&&(this.dataChange=this.resultTask)},async orderTotal(){try{const t=await zo.getAll(),e=await Oo.getAll(),s=await C9.getAll(),a=await h7.getAll();this.totalOrder=t.data.length+e.data.length+s.data.length+a.data.length}catch(t){console.log(t)}},async customerTotal(){try{const t=await qo.getAll();this.customer=t.data.length}catch(t){console.log(t)}},async productsTotal(){try{const t=await I.getProducts();this.products=t.data.length}catch(t){console.log(t)}}},mounted(){this.orderTotal(),this.customerTotal(),this.productsTotal(),this.expenceMonth(),this.getYears()}};const $at=(0,ft.Z)(Eat,[["render",Oat],["__scopeId","data-v-5f7a3c96"]]);var Bat=$at;const Rat=t=>((0,i.dD)("data-v-d444d808"),t=t(),(0,i.Cn)(),t),Hat=Rat((()=>(0,i._)("h3",null,"Đánh giá sản phẩm",-1))),Yat={class:"d-flex justify-content-end align-items-center my-3"},Kat={class:"input-admin-filter"},Lat=Rat((()=>(0,i._)("option",{value:"0"},"Ngày",-1))),Zat=["value"],jat=Rat((()=>(0,i._)("option",{value:"0"},"Tháng",-1))),Qat=["value"],Gat=Rat((()=>(0,i._)("option",{value:"0"},"Năm",-1))),Wat=["value"],Jat=Rat((()=>(0,i._)("option",{value:""},"Chọn kiểu",-1))),Xat=Rat((()=>(0,i._)("option",{value:"0"},"Tất cả",-1))),tit=Rat((()=>(0,i._)("option",{value:"createdAt"},"Ngày tạo",-1))),eit=Rat((()=>(0,i._)("option",{value:"updatedAt"},"Ngày sửa",-1))),sit=[Jat,Xat,tit,eit],ait=Rat((()=>(0,i._)("button",null,"Lọc",-1))),iit={class:"w-100"},nit={class:"row gx-0"},lit=Rat((()=>(0,i._)("th",{class:"col-1"},"STT",-1))),oit={class:"col"},rit={class:"admin-table-title"},cit=Rat((()=>(0,i._)("p",null,"Tên sản phẩm",-1))),dit={class:"admin-sort"},hit=Rat((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),pit={class:"admin-sort-list"},uit={class:"filter-admin-input"},mit={class:"col"},git={class:"admin-table-title"},yit=Rat((()=>(0,i._)("p",null,"Nội dung",-1))),fit={class:"admin-sort"},vit=Rat((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),_it={class:"admin-sort-list"},wit={class:"filter-admin-input"},bit={class:"col"},kit={class:"admin-table-title"},Cit=Rat((()=>(0,i._)("p",null,"Số sao đánh giá",-1))),xit={class:"admin-sort"},Sit=Rat((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),Dit={class:"admin-sort-list"},Tit={class:"filter-admin-input"},Pit={class:"col"},Iit={class:"admin-table-title"},Ait=Rat((()=>(0,i._)("p",null,"Trạng thái",-1))),Uit={class:"admin-sort"},qit=Rat((()=>(0,i._)("i",{class:"fa-solid fa-sort"},null,-1))),Nit={class:"admin-sort-list"},zit=Rat((()=>(0,i._)("th",{class:"col"},"Ngày tạo",-1))),Fit=Rat((()=>(0,i._)("th",{class:"col"},"Hành động",-1))),Oit={class:"col-1"},Mit={class:"col ellipsis"},Vit={class:"col ellipsis"},Eit={class:"col"},$it={class:"col"},Bit={class:"col"},Rit={class:"col"},Hit=["onClick"],Yit=Rat((()=>(0,i._)("i",{class:"fa-solid fa-circle-info"},null,-1))),Kit=[Yit],Lit={key:0,class:"overlay"},Zit={class:"comment-detail"},jit={class:"d-flex justify-content-end"},Qit=Rat((()=>(0,i._)("h3",{class:"text-uppercase text-warning"},"chi tiết đánh giá ",-1))),Git={class:"row"},Wit=Rat((()=>(0,i._)("h4",null,"Thông tin người đánh giá",-1))),Jit={class:"col-6"},Xit=Rat((()=>(0,i._)("strong",{class:"text-start"},"Tên người đánh giá:",-1))),tnt=Rat((()=>(0,i._)("br",null,null,-1))),ent={class:"col-6"},snt=Rat((()=>(0,i._)("strong",{class:"text-start"},"Email:",-1))),ant=Rat((()=>(0,i._)("br",null,null,-1))),int={class:"d-flex flex-column justify-content-center align-items-center"},nnt=Rat((()=>(0,i._)("h4",null,"Hình ảnh minh họa",-1))),lnt=["src"],ont={class:"star"},rnt={class:"col-lg-12"},cnt={class:""},dnt=Rat((()=>(0,i._)("h4",null,"Nội dung",-1))),hnt={class:"scroll"};function pnt(t,e,s,a,l,o){return(0,i.wg)(),(0,i.iD)("div",null,[Hat,(0,i._)("div",Yat,[(0,i._)("div",Kat,[(0,i._)("form",{class:"filter-admin-date",onSubmit:e[4]||(e[4]=(0,A.iM)(((...t)=>o.filterDate&&o.filterDate(...t)),["prevent","stop"]))},[(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[0]||(e[0]=t=>l.dateFilter.day=t),required:""},[Lat,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(31,(t=>(0,i._)("option",{key:t,value:t},(0,n.zw)(t),9,Zat))),64))],512),[[A.bM,l.dateFilter.day]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[1]||(e[1]=t=>l.dateFilter.month=t),required:""},[jat,((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(12,(t=>(0,i._)("option",{value:t,key:t},"Tháng "+(0,n.zw)(t),9,Qat))),64))],512),[[A.bM,l.dateFilter.month]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[2]||(e[2]=t=>l.dateFilter.year=t),required:""},[Gat,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.years,(t=>((0,i.wg)(),(0,i.iD)("option",{key:t,value:t},(0,n.zw)(t),9,Wat)))),128))],512),[[A.bM,l.dateFilter.year]]),(0,i.wy)((0,i._)("select",{name:"",id:"","onUpdate:modelValue":e[3]||(e[3]=t=>l.dateFilter.field=t),required:""},sit,512),[[A.bM,l.dateFilter.field]]),ait],32)])]),(0,i._)("div",{class:(0,n.C_)(["isSort",{"isSort-active":l.isSort}])},[(0,i._)("span",{onClick:e[5]||(e[5]=(...t)=>o.offSort&&o.offSort(...t))},"Đang lọc")],2),(0,i._)("table",iit,[(0,i._)("thead",null,[(0,i._)("tr",nit,[lit,(0,i._)("th",oit,[(0,i._)("div",rit,[cit,(0,i._)("div",dit,[hit,(0,i._)("ul",pit,[(0,i._)("li",{onClick:e[6]||(e[6]=t=>o.sort(1,"nameProduct"))},"Từ A đến Z"),(0,i._)("li",{onClick:e[7]||(e[7]=t=>o.sort(-1,"nameProduct"))},"Từ Z về A"),(0,i._)("div",uit,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[8]||(e[8]=t=>l.filterInput=t),onInput:e[9]||(e[9]=t=>o.handleFitter("nameProduct"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",mit,[(0,i._)("div",git,[yit,(0,i._)("div",fit,[vit,(0,i._)("ul",_it,[(0,i._)("div",wit,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[10]||(e[10]=t=>l.filterInput=t),onInput:e[11]||(e[11]=t=>o.handleFitter("content"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",bit,[(0,i._)("div",kit,[Cit,(0,i._)("div",xit,[Sit,(0,i._)("ul",Dit,[(0,i._)("div",Tit,[(0,i.wy)((0,i._)("input",{type:"text",placeholder:"Nhạp từ khóa...","onUpdate:modelValue":e[12]||(e[12]=t=>l.filterInput=t),onInput:e[13]||(e[13]=t=>o.handleFitter("rate"))},null,544),[[A.nr,l.filterInput]])])])])])]),(0,i._)("th",Pit,[(0,i._)("div",Iit,[Ait,(0,i._)("div",Uit,[qit,(0,i._)("ul",Nit,[(0,i._)("li",{onClick:e[14]||(e[14]=t=>o.sort(!0,"approve"))},"Đã phê duyệt"),(0,i._)("li",{onClick:e[15]||(e[15]=t=>o.sort(!1,"approve"))},"Chưa phê duyệt")])])])]),zit,Fit])]),(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.comments,((t,e)=>((0,i.wg)(),(0,i.iD)("tr",{class:"row gx-0",key:t._id},[(0,i._)("td",Oit,(0,n.zw)(e+1),1),(0,i._)("td",Mit,(0,n.zw)(t.productId?.name),1),(0,i._)("td",Vit,(0,n.zw)(t.content),1),(0,i._)("td",Eit,(0,n.zw)(t.rate),1),(0,i._)("td",$it,(0,n.zw)(t.approve?"Đã duyệt":"Chưa duyệt"),1),(0,i._)("td",Bit,(0,n.zw)(t.createdAt),1),(0,i._)("td",Rit,[(0,i._)("span",{class:"btn btn-outline-info",onClick:e=>o.openDetail(t._id)},Kit,8,Hit)])])))),128))])]),l.activeDetail&&l.commentInfo?((0,i.wg)(),(0,i.iD)("div",Lit,[(0,i._)("div",Zit,[(0,i._)("div",jit,[(0,i._)("i",{class:"fa-solid fa-xmark text-danger fs-3",onClick:e[16]||(e[16]=t=>{l.activeDetail=!1,l.commentInfo={}})})]),Qit,(0,i._)("div",Git,[Wit,(0,i._)("div",Jit,[Xit,(0,i.Uk)(),tnt,(0,i.Uk)(),(0,i._)("span",null,(0,n.zw)(l.commentInfo.name),1)]),(0,i._)("div",ent,[snt,(0,i.Uk)(),ant,(0,i.Uk)(),(0,i._)("span",null,(0,n.zw)(l.commentInfo.email),1)])]),(0,i._)("div",int,[nnt,(0,i._)("img",{class:"img-comment",src:"http://localhost:3000"+l.commentInfo.image,alt:""},null,8,lnt)]),(0,i._)("div",ont,[(0,i._)("span",rnt,[((0,i.wg)(),(0,i.iD)(i.HY,null,(0,i.Ko)(5,(t=>(0,i._)("i",{class:(0,n.C_)(["fa-solid fa-star",{"active-star":t<=l.commentInfo.rate}]),key:t},null,2))),64))])]),(0,i._)("div",cnt,[dnt,(0,i._)("div",hnt,[(0,i._)("p",null,(0,n.zw)(l.commentInfo.content),1)])]),(0,i._)("div",null,[l.commentInfo.approve?l.commentInfo.approve?((0,i.wg)(),(0,i.iD)("button",{key:1,class:"btn btn-danger px-5",onClick:e[18]||(e[18]=t=>o.approve(l.commentInfo._id,-1))},"Gỡ phê duyệt")):(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("button",{key:0,class:"btn btn-success px-5",onClick:e[17]||(e[17]=t=>o.approve(l.commentInfo._id,1))},"Phê duyệt"))])])])):(0,i.kq)("",!0)])}var unt={data(){return{pageNumber:1,pageSize:8,lengthPage:1,activePage:1,years:[],dateFilter:{day:"0",month:"0",year:"0",field:""},filterInput:"",isSort:!1,activeDetail:!1,comments:[],commentInfo:{}}},methods:{async getComment(){try{const t=await Tm.getAll();this.lengthPage=Math.ceil(t.data.length/this.pageSize);const e=await Tm.getAll(this.pageNumber,this.pageSize);this.comments=[...e.data],this.comments.map((t=>{t.createdAt=mt.formatDate(t.createdAt)}))}catch(t){console.log(t)}},handleFitter(t){null==this.idTimeOut&&(this.isSort=!1),clearTimeout(this.idTimeOut),this.getComment(),this.idTimeOut=setTimeout((()=>{this.filter(t)}),500)},filter(t){if(""!=this.filterInput){this.isSort=!0;const e=new RegExp(this.filterInput.trim(),"i");let s=[];s="nameProduct"===t?this.comments.filter((t=>e.test(t.productId["name"]))):this.comments.filter((s=>e.test(s[t]))),this.comments=s}else this.isSort=!1,this.getComment()},async sort(t,e){this.type=t,this.field=e,this.isSort=!0,"nameProduct"==e?this.comments.sort(((e,s)=>1==t?e.productId["name"].localeCompare(s.productId["name"]):-1==t?s.productId["name"].localeCompare(e.productId["name"]):void 0)):(await this.getComment(),this.comments=this.comments.filter((s=>s[e]==t)))},offSort(){this.isSort=!1,this.getComment(),this.filterInput="",this.dateFilter={day:"0",month:"0",year:"0",field:""}},async filterDate(){this.isSort=!0;const{day:t,month:e,year:s,field:a}=this.dateFilter,i=await Tm.filterByDate(t,e,s,a,this.pageNumber,this.pageSize);this.comments=[...i.data],this.comments.map((t=>{t.createdAt=mt.formatDate(t.createdAt)}))},getYears(){const t=(new Date).getFullYear();for(let e=5;e>=1;e--)this.years.push(t-e);this.years.push(t)},async openDetail(t){try{const e=await Tm.getById(t);this.commentInfo=e.data,this.activeDetail=!0,console.log(this.commentInfo)}catch(e){console.log(e)}},async approve(t,e){try{const s=await Tm.update(t,{type:e});s.data.status&&(alert("Cập nhật thành công"),this.commentInfo=s.data.result,this.getComment())}catch(s){console.log(s)}}},mounted(){this.getYears(),this.getComment()}};const mnt=(0,ft.Z)(unt,[["render",pnt],["__scopeId","data-v-d444d808"]]);var gnt=mnt;const ynt=[{path:"/",components:{default:qt,header:kC,footer:IC},meta:{title:"Trang chủ"}},{path:"/home",components:{default:qt,header:kC,footer:IC},meta:{title:"Trang chủ"}},{path:"/product",components:{default:rn,header:kC,footer:IC},meta:{title:"Sản phẩm"}},{path:"/product-detail/:id",name:"product.detail",props:!0,components:{default:Fm,header:kC,footer:IC},meta:{title:"Chi tiết sản phẩm"}},{path:"/cart",components:{default:cl,header:kC,footer:IC},meta:{title:"Giỏ hàng"}},{path:"/order/:typeOrder",components:{default:Ro,header:kC,footer:IC},name:"order",props:!0,meta:{title:"Đơn hàng"}},{path:"/order-history",components:{default:br,header:kC,footer:IC},meta:{title:"Lịch sử đơn hàng"}},{path:"/order-detail/:id",name:"order.detail",components:{default:Fd,header:kC,footer:IC},props:!0,meta:{title:"Đơn hàng"}},{path:"/warranty",components:{default:Rm,header:kC,footer:IC},meta:{title:"Bảo hành"}},{path:"/introduce",components:{default:ng,header:kC,footer:IC},meta:{title:"Giới thiệu"}},{path:"/news",components:{default:Mg,header:kC,footer:IC},meta:{title:"Tin tức"}},{path:"/news-detail/:id",name:"news.detail",props:!0,components:{default:ny,header:kC,footer:IC},meta:{title:"Tin tức"}},{path:"/contact",components:{default:Dy,header:kC,footer:IC},meta:{title:"Liên hệ"}},{path:"/service",components:{default:Ny,header:kC,footer:IC},meta:{title:"Dịch vụ"}},{path:"/change-info",components:{default:Cf,header:kC,footer:IC},meta:{title:"Thông tin người dùng"}},{path:"/register",component:Xt,meta:{title:"Đăng ký"}},{path:"/login",component:ms,meta:{title:"Đăng nhập"},beforeEnter(t,e,s){const a=JSON.parse(sessionStorage.getItem("user"));return void 0==a?.user?s():(alert("Bạn đã đăng nhập"),s("/"))}},{path:"/admin",name:"admin",beforeEnter:(t,e,s)=>{const a=JSON.parse(sessionStorage.getItem("user"));return a&&(a.user.isAdmin||a.user.roles.length>0)?s():s("/")},component:Ra,meta:{title:"Admin"},children:[{path:"profile-company",component:EA,meta:{title:"Admin"}},{path:"add",component:Uk,meta:{title:"Admin"}},{path:"product",component:cb,meta:{title:"Admin",roleId:"65090feb73b597759ef14538"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"entry-receipt",component:_P,meta:{title:"Admin",roleId:"6509100e73b597759ef1453b"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"edit/:id",name:"product.edit",props:!0,component:tS,meta:{title:"Chỉnh sửa",roleId:"65090feb73b597759ef14538"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"entry-receipt-detail/:id",name:"entry.detail",props:!0,component:mP,meta:{title:"Chi tiết phiếu nhập",roleId:"6509100e73b597759ef1453b"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"user",component:iA,meta:{title:"Admin",roleId:"6509102c73b597759ef1453e"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"role",beforeEnter:(t,e,s)=>{const a=JSON.parse(sessionStorage.getItem("user"));return a&&a.user.isAdmin?s():s("/admin")},component:fU,meta:{title:"Admin"}},{path:"staff",component:CF,meta:{title:"Admin",roleId:"6509102c73b597759ef1453e"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"accessory",component:WE,meta:{title:"Admin",roleId:"65090feb73b597759ef14538"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"order",component:bH,meta:{title:"Admin",roleId:"6577ff4865082875b1b4b2f3"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"order-create",component:GK,meta:{title:"Admin",roleId:"6577ff4865082875b1b4b2f3"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"rental",component:NQ,meta:{title:"Admin",roleId:"6577ff4865082875b1b4b2f3"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"rental-create",component:XW,meta:{title:"Admin",roleId:"6577ff4865082875b1b4b2f3"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"news-create",component:uJ,meta:{title:"Admin",roleId:"657802a765082875b1b4b3fc"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"news",component:h0,meta:{title:"Admin",roleId:"657802a765082875b1b4b3fc"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"service",component:t2,meta:{title:"Admin",roleId:"6577ff6c65082875b1b4b2fb"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"task",component:v7,meta:{title:"Admin",roleId:"6577ff6c65082875b1b4b2fb"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"warranty-search",component:I9,meta:{title:"Admin",roleId:"6577ff5865082875b1b4b2f7"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"warranty",component:Kst,meta:{title:"Admin",roleId:"6577ff5865082875b1b4b2f7"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"statistical",component:Bat,meta:{title:"Admin",roleId:"6509103373b597759ef14541"},beforeEnter:(t,e,s)=>{vnt(t,s)}},{path:"comment",component:gnt,meta:{title:"Admin",roleId:"657802af65082875b1b4b400"},beforeEnter:(t,e,s)=>{vnt(t,s)}}]}];function fnt(t,e){let s=!1;return t.some((t=>{if(t.roleId==e)return s=!0,s=!0;s=!1})),s}const vnt=(t,e)=>{const s=JSON.parse(sessionStorage.getItem("user")),a=s.user.roles,i=t.meta.roleId;return fnt(a,i)||s.user.isAdmin?e():void alert("Bạn không có quyền truy cập")},_nt=(0,a.p7)({history:(0,a.PO)(),routes:ynt});_nt.beforeEach((t=>{document.title=t?.meta.title}));var wnt=_nt},3003:function(t,e,s){var a=s(7642);class i{constructor(t="http://localhost:3000/cart"){this.api=(0,a.Z)(t)}async create(t){return await this.api.post("/create",t)}async getAll(){return await this.api.get("/")}async getByUserId(t){return await this.api.get(`/user/?userId=${t}`)}async update(t,e){return await this.api.post(`/update/?userId=${t}`,e)}}e.Z=new i},7642:function(t,e,s){var a=s(4161);const i=(t,e)=>{const s={withCredentials:!0,headers:e||{"Content-Type":"application/json",Accept:"application/json"}};return a.Z.create({baseURL:t,...s})};e.Z=i},2594:function(t,e,s){s.d(e,{Z:function(){return r}});var a=s(3396);function i(t,e,s,i,n,l){const o=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)("div",null,[(0,a.Wm)(o,{name:"header"}),(0,a.Wm)(o),(0,a.Wm)(o,{name:"footer"})])}var n={},l=s(89);const o=(0,l.Z)(n,[["render",i]]);var r=o}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t="function"===typeof Symbol?Symbol("webpack queues"):"__webpack_queues__",e="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",a="function"===typeof Symbol?Symbol("webpack error"):"__webpack_error__",i=function(t){t&&t.d<1&&(t.d=1,t.forEach((function(t){t.r--})),t.forEach((function(t){t.r--?t.r++:t()})))},n=function(s){return s.map((function(s){if(null!==s&&"object"===typeof s){if(s[t])return s;if(s.then){var n=[];n.d=0,s.then((function(t){l[e]=t,i(n)}),(function(t){l[a]=t,i(n)}));var l={};return l[t]=function(t){t(n)},l}}var o={};return o[t]=function(){},o[e]=s,o}))};s.a=function(s,l,o){var r;o&&((r=[]).d=-1);var c,d,h,p=new Set,u=s.exports,m=new Promise((function(t,e){h=e,d=t}));m[e]=u,m[t]=function(t){r&&t(r),p.forEach(t),m["catch"]((function(){}))},s.exports=m,l((function(s){var i;c=n(s);var l=function(){return c.map((function(t){if(t[a])throw t[a];return t[e]}))},o=new Promise((function(e){i=function(){e(l)},i.r=0;var s=function(t){t!==r&&!p.has(t)&&(p.add(t),t&&!t.d&&(i.r++,t.push(i)))};c.map((function(e){e[t](s)}))}));return i.r?o:l()}),(function(t){t?h(m[a]=t):d(u),i(r)})),r&&r.d<0&&(r.d=0)}}(),function(){var t=[];s.O=function(e,a,i,n){if(!a){var l=1/0;for(d=0;d<t.length;d++){a=t[d][0],i=t[d][1],n=t[d][2];for(var o=!0,r=0;r<a.length;r++)(!1&n||l>=n)&&Object.keys(s.O).every((function(t){return s.O[t](a[r])}))?a.splice(r--,1):(o=!1,n<l&&(l=n));if(o){t.splice(d--,1);var c=i();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[a,i,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};s.t=function(a,i){if(1&i&&(a=this(a)),8&i)return a;if("object"===typeof a&&a){if(4&i&&a.__esModule)return a;if(16&i&&"function"===typeof a.then)return a}var n=Object.create(null);s.r(n);var l={};t=t||[null,e({}),e([]),e(e)];for(var o=2&i&&a;"object"==typeof o&&!~t.indexOf(o);o=e(o))Object.getOwnPropertyNames(o).forEach((function(t){l[t]=function(){return a[t]}}));return l["default"]=function(){return a},s.d(n,l),n}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,a){return s.f[a](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+t+"."+{128:"4fd1b813",269:"62cb1af0",617:"e6d43e96"}[t]+".js"}}(),function(){s.miniCssF=function(t){}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="photocopy-ui:";s.l=function(a,i,n,l){if(t[a])t[a].push(i);else{var o,r;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var h=c[d];if(h.getAttribute("src")==a||h.getAttribute("data-webpack")==e+n){o=h;break}}o||(r=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",e+n),o.src=a),t[a]=[i];var p=function(e,s){o.onerror=o.onload=null,clearTimeout(u);var i=t[a];if(delete t[a],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach((function(t){return t(s)})),e)return e(s)},u=setTimeout(p.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=p.bind(null,o.onerror),o.onload=p.bind(null,o.onload),r&&document.head.appendChild(o)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/"}(),function(){var t={143:0};s.f.j=function(e,a){var i=s.o(t,e)?t[e]:void 0;if(0!==i)if(i)a.push(i[2]);else{var n=new Promise((function(s,a){i=t[e]=[s,a]}));a.push(i[2]=n);var l=s.p+s.u(e),o=new Error,r=function(a){if(s.o(t,e)&&(i=t[e],0!==i&&(t[e]=void 0),i)){var n=a&&("load"===a.type?"missing":a.type),l=a&&a.target&&a.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+l+")",o.name="ChunkLoadError",o.type=n,o.request=l,i[1](o)}};s.l(l,r,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,n,l=a[0],o=a[1],r=a[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(r)var d=r(s)}for(e&&e(a);c<l.length;c++)n=l[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},a=self["webpackChunkphotocopy_ui"]=self["webpackChunkphotocopy_ui"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(866)}));a=s.O(a)})();
//# sourceMappingURL=app.29cf9fbf.js.map